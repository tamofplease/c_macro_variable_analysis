id,name,value
e181d482-ffd4-4487-a85a-6c57e0b2caae,CHECK_SET_NBLOCK,"do {                                          \
    if (var_hook_sys_api && !EVENT_IS_IO_URING(fiber_io_event())) {          \
        FILE_EVENT *_fe = fiber_file_get(_fd);                               \
        if (_fe && IS_NDUBLOCK(_fe)) {                                       \
            non_blocking(_fd, NON_BLOCKING);                                 \
            CLR_NDUBLOCK(_fe);                                               \
        }                                                                    \
    }                                                                        \
} while (0)"
b02642a3-5d73-4afc-8259-cf4e42f1bde5,CHECK_SET_NBLOCK,"do {                                          \
    if (var_hook_sys_api) {                                                  \
        FILE_EVENT *_fe = fiber_file_get(_fd);                               \
        if (_fe && IS_NDUBLOCK(_fe)) {                                       \
            non_blocking(_fd, NON_BLOCKING);                                 \
            CLR_NDUBLOCK(_fe);                                               \
        }                                                                    \
    }                                                                        \
} while (0)"
a6c3404d-1ff5-4077-bb1c-dcc4d47de122,CHECK_WRITE_RESULT,"do {                                     \
    int _err;                                                                \
    if (_n >= 0) {                                                           \
        return _n;                                                           \
    }                                                                        \
    _err = acl_fiber_last_error();                                           \
    fiber_save_errno(_err);                                                  \
    if (!error_again(_err)) {                                                \
        return -1;                                                           \
    }                                                                        \
    if (wait_write(_fe) == -1) {                                             \
        return -1;                                                           \
    }                                                                        \
} while (0)"
ae10b03f-c961-4763-a388-db2b0643f065,FILE_ALLOC,"do {                                   \
    (__fe) = file_event_alloc(_fd);                                          \
    (__fe)->fiber_r->status = FIBER_STATUS_NONE;                             \
    (__fe)->fiber_w->status = FIBER_STATUS_NONE;                             \
    (__fe)->mask   = (__type);                                               \
    (__fe)->type   = TYPE_EVENTABLE;                                         \
} while (0)"
b1ac4fe6-1991-4f63-bc3d-bd7f18b10ce8,SET_WRITE,"do {                                                    \
    (f)->out.write_ctx.buf = buf;                                            \
    (f)->out.write_ctx.len = (unsigned) count;                               \
    (f)->mask |= EVENT_WRITE;                                                \
} while (0)"
a77c6f53-ef61-483c-9c16-a214f52cbca2,SET_WRITEV,"do {                                                   \
    (f)->out.writev_ctx.iov = iov;                                           \
    (f)->out.writev_ctx.cnt = iovcnt;                                        \
    (f)->out.writev_ctx.off = 0;                                             \
    (f)->mask |= EVENT_WRITEV;                                               \
} while (0)"
756830e8-f94e-41f2-b27b-d57aa74eb470,SET_SEND,"do {                                                     \
    (f)->out.send_ctx.buf   = buf;                                           \
    (f)->out.send_ctx.len   = (unsigned) len;                                \
    (f)->out.send_ctx.flags = flags;                                         \
    (f)->mask |= EVENT_SEND;                                                 \
} while (0)"
483c6f09-aa0d-4bea-a256-cfc248ec8dd6,SET_SENDTO,"do {                                                   \
    (f)->out.sendto_ctx.buf       = buf;                                     \
    (f)->out.sendto_ctx.len       = (unsigned) len;                          \
    (f)->out.sendto_ctx.flags     = flags;                                   \
    (f)->out.sendto_ctx.dest_addr = dest_addr;                               \
    (f)->out.sendto_ctx.addrlen   = addrlen;                                 \
    (f)->mask |= EVENT_SENDTO;                                               \
} while (0)"
46d6b32a-9701-4b2f-91a0-8a2c3ba8367c,SET_SENDMSG,"do {                                                  \
    (f)->out.sendmsg_ctx.msg   = msg;                                        \
    (f)->out.sendmsg_ctx.flags = flags;                                      \
    (f)->mask |= EVENT_SENDMSG;                                              \
} while (0)"

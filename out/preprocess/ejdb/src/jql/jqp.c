# 0 "/ejdb/src/jql/jqp.c"
# 0 "<built-in>"
# 0 "<command-line>"
# 1 "/usr/include/stdc-predef.h" 1 3 4
# 0 "<command-line>" 2
# 1 "/ejdb/src/jql/jqp.c"


# 1 "/usr/include/stdio.h" 1 3 4
# 27 "/usr/include/stdio.h" 3 4
# 1 "/usr/include/aarch64-linux-gnu/bits/libc-header-start.h" 1 3 4
# 33 "/usr/include/aarch64-linux-gnu/bits/libc-header-start.h" 3 4
# 1 "/usr/include/features.h" 1 3 4
# 392 "/usr/include/features.h" 3 4
# 1 "/usr/include/features-time64.h" 1 3 4
# 20 "/usr/include/features-time64.h" 3 4
# 1 "/usr/include/aarch64-linux-gnu/bits/wordsize.h" 1 3 4
# 21 "/usr/include/features-time64.h" 2 3 4
# 1 "/usr/include/aarch64-linux-gnu/bits/timesize.h" 1 3 4
# 22 "/usr/include/features-time64.h" 2 3 4
# 393 "/usr/include/features.h" 2 3 4
# 486 "/usr/include/features.h" 3 4
# 1 "/usr/include/aarch64-linux-gnu/sys/cdefs.h" 1 3 4
# 559 "/usr/include/aarch64-linux-gnu/sys/cdefs.h" 3 4
# 1 "/usr/include/aarch64-linux-gnu/bits/wordsize.h" 1 3 4
# 560 "/usr/include/aarch64-linux-gnu/sys/cdefs.h" 2 3 4
# 1 "/usr/include/aarch64-linux-gnu/bits/long-double.h" 1 3 4
# 561 "/usr/include/aarch64-linux-gnu/sys/cdefs.h" 2 3 4
# 487 "/usr/include/features.h" 2 3 4
# 510 "/usr/include/features.h" 3 4
# 1 "/usr/include/aarch64-linux-gnu/gnu/stubs.h" 1 3 4




# 1 "/usr/include/aarch64-linux-gnu/bits/wordsize.h" 1 3 4
# 6 "/usr/include/aarch64-linux-gnu/gnu/stubs.h" 2 3 4


# 1 "/usr/include/aarch64-linux-gnu/gnu/stubs-lp64.h" 1 3 4
# 9 "/usr/include/aarch64-linux-gnu/gnu/stubs.h" 2 3 4
# 511 "/usr/include/features.h" 2 3 4
# 34 "/usr/include/aarch64-linux-gnu/bits/libc-header-start.h" 2 3 4
# 28 "/usr/include/stdio.h" 2 3 4





# 1 "/usr/lib/gcc/aarch64-linux-gnu/11/include/stddef.h" 1 3 4
# 209 "/usr/lib/gcc/aarch64-linux-gnu/11/include/stddef.h" 3 4

# 209 "/usr/lib/gcc/aarch64-linux-gnu/11/include/stddef.h" 3 4
typedef long unsigned int size_t;
# 34 "/usr/include/stdio.h" 2 3 4


# 1 "/usr/lib/gcc/aarch64-linux-gnu/11/include/stdarg.h" 1 3 4
# 40 "/usr/lib/gcc/aarch64-linux-gnu/11/include/stdarg.h" 3 4
typedef __builtin_va_list __gnuc_va_list;
# 37 "/usr/include/stdio.h" 2 3 4

# 1 "/usr/include/aarch64-linux-gnu/bits/types.h" 1 3 4
# 27 "/usr/include/aarch64-linux-gnu/bits/types.h" 3 4
# 1 "/usr/include/aarch64-linux-gnu/bits/wordsize.h" 1 3 4
# 28 "/usr/include/aarch64-linux-gnu/bits/types.h" 2 3 4
# 1 "/usr/include/aarch64-linux-gnu/bits/timesize.h" 1 3 4
# 29 "/usr/include/aarch64-linux-gnu/bits/types.h" 2 3 4


typedef unsigned char __u_char;
typedef unsigned short int __u_short;
typedef unsigned int __u_int;
typedef unsigned long int __u_long;


typedef signed char __int8_t;
typedef unsigned char __uint8_t;
typedef signed short int __int16_t;
typedef unsigned short int __uint16_t;
typedef signed int __int32_t;
typedef unsigned int __uint32_t;

typedef signed long int __int64_t;
typedef unsigned long int __uint64_t;






typedef __int8_t __int_least8_t;
typedef __uint8_t __uint_least8_t;
typedef __int16_t __int_least16_t;
typedef __uint16_t __uint_least16_t;
typedef __int32_t __int_least32_t;
typedef __uint32_t __uint_least32_t;
typedef __int64_t __int_least64_t;
typedef __uint64_t __uint_least64_t;



typedef long int __quad_t;
typedef unsigned long int __u_quad_t;







typedef long int __intmax_t;
typedef unsigned long int __uintmax_t;
# 141 "/usr/include/aarch64-linux-gnu/bits/types.h" 3 4
# 1 "/usr/include/aarch64-linux-gnu/bits/typesizes.h" 1 3 4
# 142 "/usr/include/aarch64-linux-gnu/bits/types.h" 2 3 4
# 1 "/usr/include/aarch64-linux-gnu/bits/time64.h" 1 3 4
# 143 "/usr/include/aarch64-linux-gnu/bits/types.h" 2 3 4


typedef unsigned long int __dev_t;
typedef unsigned int __uid_t;
typedef unsigned int __gid_t;
typedef unsigned long int __ino_t;
typedef unsigned long int __ino64_t;
typedef unsigned int __mode_t;
typedef unsigned int __nlink_t;
typedef long int __off_t;
typedef long int __off64_t;
typedef int __pid_t;
typedef struct { int __val[2]; } __fsid_t;
typedef long int __clock_t;
typedef unsigned long int __rlim_t;
typedef unsigned long int __rlim64_t;
typedef unsigned int __id_t;
typedef long int __time_t;
typedef unsigned int __useconds_t;
typedef long int __suseconds_t;
typedef long int __suseconds64_t;

typedef int __daddr_t;
typedef int __key_t;


typedef int __clockid_t;


typedef void * __timer_t;


typedef int __blksize_t;




typedef long int __blkcnt_t;
typedef long int __blkcnt64_t;


typedef unsigned long int __fsblkcnt_t;
typedef unsigned long int __fsblkcnt64_t;


typedef unsigned long int __fsfilcnt_t;
typedef unsigned long int __fsfilcnt64_t;


typedef long int __fsword_t;

typedef long int __ssize_t;


typedef long int __syscall_slong_t;

typedef unsigned long int __syscall_ulong_t;



typedef __off64_t __loff_t;
typedef char *__caddr_t;


typedef long int __intptr_t;


typedef unsigned int __socklen_t;




typedef int __sig_atomic_t;
# 39 "/usr/include/stdio.h" 2 3 4
# 1 "/usr/include/aarch64-linux-gnu/bits/types/__fpos_t.h" 1 3 4




# 1 "/usr/include/aarch64-linux-gnu/bits/types/__mbstate_t.h" 1 3 4
# 13 "/usr/include/aarch64-linux-gnu/bits/types/__mbstate_t.h" 3 4
typedef struct
{
  int __count;
  union
  {
    unsigned int __wch;
    char __wchb[4];
  } __value;
} __mbstate_t;
# 6 "/usr/include/aarch64-linux-gnu/bits/types/__fpos_t.h" 2 3 4




typedef struct _G_fpos_t
{
  __off_t __pos;
  __mbstate_t __state;
} __fpos_t;
# 40 "/usr/include/stdio.h" 2 3 4
# 1 "/usr/include/aarch64-linux-gnu/bits/types/__fpos64_t.h" 1 3 4
# 10 "/usr/include/aarch64-linux-gnu/bits/types/__fpos64_t.h" 3 4
typedef struct _G_fpos64_t
{
  __off64_t __pos;
  __mbstate_t __state;
} __fpos64_t;
# 41 "/usr/include/stdio.h" 2 3 4
# 1 "/usr/include/aarch64-linux-gnu/bits/types/__FILE.h" 1 3 4



struct _IO_FILE;
typedef struct _IO_FILE __FILE;
# 42 "/usr/include/stdio.h" 2 3 4
# 1 "/usr/include/aarch64-linux-gnu/bits/types/FILE.h" 1 3 4



struct _IO_FILE;


typedef struct _IO_FILE FILE;
# 43 "/usr/include/stdio.h" 2 3 4
# 1 "/usr/include/aarch64-linux-gnu/bits/types/struct_FILE.h" 1 3 4
# 35 "/usr/include/aarch64-linux-gnu/bits/types/struct_FILE.h" 3 4
struct _IO_FILE;
struct _IO_marker;
struct _IO_codecvt;
struct _IO_wide_data;




typedef void _IO_lock_t;





struct _IO_FILE
{
  int _flags;


  char *_IO_read_ptr;
  char *_IO_read_end;
  char *_IO_read_base;
  char *_IO_write_base;
  char *_IO_write_ptr;
  char *_IO_write_end;
  char *_IO_buf_base;
  char *_IO_buf_end;


  char *_IO_save_base;
  char *_IO_backup_base;
  char *_IO_save_end;

  struct _IO_marker *_markers;

  struct _IO_FILE *_chain;

  int _fileno;
  int _flags2;
  __off_t _old_offset;


  unsigned short _cur_column;
  signed char _vtable_offset;
  char _shortbuf[1];

  _IO_lock_t *_lock;







  __off64_t _offset;

  struct _IO_codecvt *_codecvt;
  struct _IO_wide_data *_wide_data;
  struct _IO_FILE *_freeres_list;
  void *_freeres_buf;
  size_t __pad5;
  int _mode;

  char _unused2[15 * sizeof (int) - 4 * sizeof (void *) - sizeof (size_t)];
};
# 44 "/usr/include/stdio.h" 2 3 4
# 52 "/usr/include/stdio.h" 3 4
typedef __gnuc_va_list va_list;
# 65 "/usr/include/stdio.h" 3 4
typedef __off64_t off_t;
# 77 "/usr/include/stdio.h" 3 4
typedef __ssize_t ssize_t;
# 86 "/usr/include/stdio.h" 3 4
typedef __fpos64_t fpos_t;
# 133 "/usr/include/stdio.h" 3 4
# 1 "/usr/include/aarch64-linux-gnu/bits/stdio_lim.h" 1 3 4
# 134 "/usr/include/stdio.h" 2 3 4
# 143 "/usr/include/stdio.h" 3 4
extern FILE *stdin;
extern FILE *stdout;
extern FILE *stderr;






extern int remove (const char *__filename) __attribute__ ((__nothrow__ , __leaf__));

extern int rename (const char *__old, const char *__new) __attribute__ ((__nothrow__ , __leaf__));



extern int renameat (int __oldfd, const char *__old, int __newfd,
       const char *__new) __attribute__ ((__nothrow__ , __leaf__));
# 178 "/usr/include/stdio.h" 3 4
extern int fclose (FILE *__stream);
# 192 "/usr/include/stdio.h" 3 4
extern FILE *tmpfile (void) __asm__ ("" "tmpfile64")
  __attribute__ ((__malloc__)) __attribute__ ((__malloc__ (fclose, 1))) __attribute__ ((__warn_unused_result__));
# 205 "/usr/include/stdio.h" 3 4
extern char *tmpnam (char[20]) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__warn_unused_result__));




extern char *tmpnam_r (char __s[20]) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__warn_unused_result__));
# 222 "/usr/include/stdio.h" 3 4
extern char *tempnam (const char *__dir, const char *__pfx)
   __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__malloc__)) __attribute__ ((__warn_unused_result__)) __attribute__ ((__malloc__ (__builtin_free, 1)));






extern int fflush (FILE *__stream);
# 239 "/usr/include/stdio.h" 3 4
extern int fflush_unlocked (FILE *__stream);
# 270 "/usr/include/stdio.h" 3 4
extern FILE *fopen (const char *__restrict __filename, const char *__restrict __modes) __asm__ ("" "fopen64")

  __attribute__ ((__malloc__)) __attribute__ ((__malloc__ (fclose, 1))) __attribute__ ((__warn_unused_result__));
extern FILE *freopen (const char *__restrict __filename, const char *__restrict __modes, FILE *__restrict __stream) __asm__ ("" "freopen64")


  __attribute__ ((__warn_unused_result__));
# 293 "/usr/include/stdio.h" 3 4
extern FILE *fdopen (int __fd, const char *__modes) __attribute__ ((__nothrow__ , __leaf__))
  __attribute__ ((__malloc__)) __attribute__ ((__malloc__ (fclose, 1))) __attribute__ ((__warn_unused_result__));
# 308 "/usr/include/stdio.h" 3 4
extern FILE *fmemopen (void *__s, size_t __len, const char *__modes)
  __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__malloc__)) __attribute__ ((__malloc__ (fclose, 1))) __attribute__ ((__warn_unused_result__));




extern FILE *open_memstream (char **__bufloc, size_t *__sizeloc) __attribute__ ((__nothrow__ , __leaf__))
  __attribute__ ((__malloc__)) __attribute__ ((__malloc__ (fclose, 1))) __attribute__ ((__warn_unused_result__));
# 328 "/usr/include/stdio.h" 3 4
extern void setbuf (FILE *__restrict __stream, char *__restrict __buf) __attribute__ ((__nothrow__ , __leaf__));



extern int setvbuf (FILE *__restrict __stream, char *__restrict __buf,
      int __modes, size_t __n) __attribute__ ((__nothrow__ , __leaf__));




extern void setbuffer (FILE *__restrict __stream, char *__restrict __buf,
         size_t __size) __attribute__ ((__nothrow__ , __leaf__));


extern void setlinebuf (FILE *__stream) __attribute__ ((__nothrow__ , __leaf__));







extern int fprintf (FILE *__restrict __stream,
      const char *__restrict __format, ...);




extern int printf (const char *__restrict __format, ...);

extern int sprintf (char *__restrict __s,
      const char *__restrict __format, ...) __attribute__ ((__nothrow__));





extern int vfprintf (FILE *__restrict __s, const char *__restrict __format,
       __gnuc_va_list __arg);




extern int vprintf (const char *__restrict __format, __gnuc_va_list __arg);

extern int vsprintf (char *__restrict __s, const char *__restrict __format,
       __gnuc_va_list __arg) __attribute__ ((__nothrow__));



extern int snprintf (char *__restrict __s, size_t __maxlen,
       const char *__restrict __format, ...)
     __attribute__ ((__nothrow__)) __attribute__ ((__format__ (__printf__, 3, 4)));

extern int vsnprintf (char *__restrict __s, size_t __maxlen,
        const char *__restrict __format, __gnuc_va_list __arg)
     __attribute__ ((__nothrow__)) __attribute__ ((__format__ (__printf__, 3, 0)));
# 403 "/usr/include/stdio.h" 3 4
extern int vdprintf (int __fd, const char *__restrict __fmt,
       __gnuc_va_list __arg)
     __attribute__ ((__format__ (__printf__, 2, 0)));
extern int dprintf (int __fd, const char *__restrict __fmt, ...)
     __attribute__ ((__format__ (__printf__, 2, 3)));







extern int fscanf (FILE *__restrict __stream,
     const char *__restrict __format, ...) __attribute__ ((__warn_unused_result__));




extern int scanf (const char *__restrict __format, ...) __attribute__ ((__warn_unused_result__));

extern int sscanf (const char *__restrict __s,
     const char *__restrict __format, ...) __attribute__ ((__nothrow__ , __leaf__));





# 1 "/usr/include/aarch64-linux-gnu/bits/floatn.h" 1 3 4
# 23 "/usr/include/aarch64-linux-gnu/bits/floatn.h" 3 4
# 1 "/usr/include/aarch64-linux-gnu/bits/long-double.h" 1 3 4
# 24 "/usr/include/aarch64-linux-gnu/bits/floatn.h" 2 3 4
# 95 "/usr/include/aarch64-linux-gnu/bits/floatn.h" 3 4
# 1 "/usr/include/aarch64-linux-gnu/bits/floatn-common.h" 1 3 4
# 24 "/usr/include/aarch64-linux-gnu/bits/floatn-common.h" 3 4
# 1 "/usr/include/aarch64-linux-gnu/bits/long-double.h" 1 3 4
# 25 "/usr/include/aarch64-linux-gnu/bits/floatn-common.h" 2 3 4
# 96 "/usr/include/aarch64-linux-gnu/bits/floatn.h" 2 3 4
# 431 "/usr/include/stdio.h" 2 3 4



extern int fscanf (FILE *__restrict __stream, const char *__restrict __format, ...) __asm__ ("" "__isoc99_fscanf")

                          __attribute__ ((__warn_unused_result__));
extern int scanf (const char *__restrict __format, ...) __asm__ ("" "__isoc99_scanf")
                         __attribute__ ((__warn_unused_result__));
extern int sscanf (const char *__restrict __s, const char *__restrict __format, ...) __asm__ ("" "__isoc99_sscanf") __attribute__ ((__nothrow__ , __leaf__))

                      ;
# 459 "/usr/include/stdio.h" 3 4
extern int vfscanf (FILE *__restrict __s, const char *__restrict __format,
      __gnuc_va_list __arg)
     __attribute__ ((__format__ (__scanf__, 2, 0))) __attribute__ ((__warn_unused_result__));





extern int vscanf (const char *__restrict __format, __gnuc_va_list __arg)
     __attribute__ ((__format__ (__scanf__, 1, 0))) __attribute__ ((__warn_unused_result__));


extern int vsscanf (const char *__restrict __s,
      const char *__restrict __format, __gnuc_va_list __arg)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__format__ (__scanf__, 2, 0)));





extern int vfscanf (FILE *__restrict __s, const char *__restrict __format, __gnuc_va_list __arg) __asm__ ("" "__isoc99_vfscanf")



     __attribute__ ((__format__ (__scanf__, 2, 0))) __attribute__ ((__warn_unused_result__));
extern int vscanf (const char *__restrict __format, __gnuc_va_list __arg) __asm__ ("" "__isoc99_vscanf")

     __attribute__ ((__format__ (__scanf__, 1, 0))) __attribute__ ((__warn_unused_result__));
extern int vsscanf (const char *__restrict __s, const char *__restrict __format, __gnuc_va_list __arg) __asm__ ("" "__isoc99_vsscanf") __attribute__ ((__nothrow__ , __leaf__))



     __attribute__ ((__format__ (__scanf__, 2, 0)));
# 513 "/usr/include/stdio.h" 3 4
extern int fgetc (FILE *__stream);
extern int getc (FILE *__stream);





extern int getchar (void);






extern int getc_unlocked (FILE *__stream);
extern int getchar_unlocked (void);
# 538 "/usr/include/stdio.h" 3 4
extern int fgetc_unlocked (FILE *__stream);
# 549 "/usr/include/stdio.h" 3 4
extern int fputc (int __c, FILE *__stream);
extern int putc (int __c, FILE *__stream);





extern int putchar (int __c);
# 565 "/usr/include/stdio.h" 3 4
extern int fputc_unlocked (int __c, FILE *__stream);







extern int putc_unlocked (int __c, FILE *__stream);
extern int putchar_unlocked (int __c);






extern int getw (FILE *__stream);


extern int putw (int __w, FILE *__stream);







extern char *fgets (char *__restrict __s, int __n, FILE *__restrict __stream)
     __attribute__ ((__warn_unused_result__)) __attribute__ ((__access__ (__write_only__, 1, 2)));
# 632 "/usr/include/stdio.h" 3 4
extern __ssize_t __getdelim (char **__restrict __lineptr,
                             size_t *__restrict __n, int __delimiter,
                             FILE *__restrict __stream) __attribute__ ((__warn_unused_result__));
extern __ssize_t getdelim (char **__restrict __lineptr,
                           size_t *__restrict __n, int __delimiter,
                           FILE *__restrict __stream) __attribute__ ((__warn_unused_result__));







extern __ssize_t getline (char **__restrict __lineptr,
                          size_t *__restrict __n,
                          FILE *__restrict __stream) __attribute__ ((__warn_unused_result__));







extern int fputs (const char *__restrict __s, FILE *__restrict __stream);





extern int puts (const char *__s);






extern int ungetc (int __c, FILE *__stream);






extern size_t fread (void *__restrict __ptr, size_t __size,
       size_t __n, FILE *__restrict __stream) __attribute__ ((__warn_unused_result__));




extern size_t fwrite (const void *__restrict __ptr, size_t __size,
        size_t __n, FILE *__restrict __s);
# 702 "/usr/include/stdio.h" 3 4
extern size_t fread_unlocked (void *__restrict __ptr, size_t __size,
         size_t __n, FILE *__restrict __stream) __attribute__ ((__warn_unused_result__));
extern size_t fwrite_unlocked (const void *__restrict __ptr, size_t __size,
          size_t __n, FILE *__restrict __stream);







extern int fseek (FILE *__stream, long int __off, int __whence);




extern long int ftell (FILE *__stream) __attribute__ ((__warn_unused_result__));




extern void rewind (FILE *__stream);
# 744 "/usr/include/stdio.h" 3 4
extern int fseeko (FILE *__stream, __off64_t __off, int __whence) __asm__ ("" "fseeko64")

                  ;
extern __off64_t ftello (FILE *__stream) __asm__ ("" "ftello64");
# 768 "/usr/include/stdio.h" 3 4
extern int fgetpos (FILE *__restrict __stream, fpos_t *__restrict __pos) __asm__ ("" "fgetpos64")
                                          ;
extern int fsetpos (FILE *__stream, const fpos_t *__pos) __asm__ ("" "fsetpos64")
                                                          ;
# 786 "/usr/include/stdio.h" 3 4
extern void clearerr (FILE *__stream) __attribute__ ((__nothrow__ , __leaf__));

extern int feof (FILE *__stream) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__warn_unused_result__));

extern int ferror (FILE *__stream) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__warn_unused_result__));



extern void clearerr_unlocked (FILE *__stream) __attribute__ ((__nothrow__ , __leaf__));
extern int feof_unlocked (FILE *__stream) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__warn_unused_result__));
extern int ferror_unlocked (FILE *__stream) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__warn_unused_result__));







extern void perror (const char *__s);




extern int fileno (FILE *__stream) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__warn_unused_result__));




extern int fileno_unlocked (FILE *__stream) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__warn_unused_result__));
# 823 "/usr/include/stdio.h" 3 4
extern int pclose (FILE *__stream);





extern FILE *popen (const char *__command, const char *__modes)
  __attribute__ ((__malloc__)) __attribute__ ((__malloc__ (pclose, 1))) __attribute__ ((__warn_unused_result__));






extern char *ctermid (char *__s) __attribute__ ((__nothrow__ , __leaf__))
  __attribute__ ((__access__ (__write_only__, 1)));
# 867 "/usr/include/stdio.h" 3 4
extern void flockfile (FILE *__stream) __attribute__ ((__nothrow__ , __leaf__));



extern int ftrylockfile (FILE *__stream) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__warn_unused_result__));


extern void funlockfile (FILE *__stream) __attribute__ ((__nothrow__ , __leaf__));
# 885 "/usr/include/stdio.h" 3 4
extern int __uflow (FILE *);
extern int __overflow (FILE *, int);




# 1 "/usr/include/aarch64-linux-gnu/bits/stdio.h" 1 3 4
# 46 "/usr/include/aarch64-linux-gnu/bits/stdio.h" 3 4
extern __inline __attribute__ ((__gnu_inline__)) int
getchar (void)
{
  return getc (stdin);
}




extern __inline __attribute__ ((__gnu_inline__)) int
fgetc_unlocked (FILE *__fp)
{
  return (__builtin_expect (((__fp)->_IO_read_ptr >= (__fp)->_IO_read_end), 0) ? __uflow (__fp) : *(unsigned char *) (__fp)->_IO_read_ptr++);
}





extern __inline __attribute__ ((__gnu_inline__)) int
getc_unlocked (FILE *__fp)
{
  return (__builtin_expect (((__fp)->_IO_read_ptr >= (__fp)->_IO_read_end), 0) ? __uflow (__fp) : *(unsigned char *) (__fp)->_IO_read_ptr++);
}


extern __inline __attribute__ ((__gnu_inline__)) int
getchar_unlocked (void)
{
  return (__builtin_expect (((stdin)->_IO_read_ptr >= (stdin)->_IO_read_end), 0) ? __uflow (stdin) : *(unsigned char *) (stdin)->_IO_read_ptr++);
}




extern __inline __attribute__ ((__gnu_inline__)) int
putchar (int __c)
{
  return putc (__c, stdout);
}




extern __inline __attribute__ ((__gnu_inline__)) int
fputc_unlocked (int __c, FILE *__stream)
{
  return (__builtin_expect (((__stream)->_IO_write_ptr >= (__stream)->_IO_write_end), 0) ? __overflow (__stream, (unsigned char) (__c)) : (unsigned char) (*(__stream)->_IO_write_ptr++ = (__c)));
}





extern __inline __attribute__ ((__gnu_inline__)) int
putc_unlocked (int __c, FILE *__stream)
{
  return (__builtin_expect (((__stream)->_IO_write_ptr >= (__stream)->_IO_write_end), 0) ? __overflow (__stream, (unsigned char) (__c)) : (unsigned char) (*(__stream)->_IO_write_ptr++ = (__c)));
}


extern __inline __attribute__ ((__gnu_inline__)) int
putchar_unlocked (int __c)
{
  return (__builtin_expect (((stdout)->_IO_write_ptr >= (stdout)->_IO_write_end), 0) ? __overflow (stdout, (unsigned char) (__c)) : (unsigned char) (*(stdout)->_IO_write_ptr++ = (__c)));
}
# 127 "/usr/include/aarch64-linux-gnu/bits/stdio.h" 3 4
extern __inline __attribute__ ((__gnu_inline__)) int
__attribute__ ((__nothrow__ , __leaf__)) feof_unlocked (FILE *__stream)
{
  return (((__stream)->_flags & 0x0010) != 0);
}


extern __inline __attribute__ ((__gnu_inline__)) int
__attribute__ ((__nothrow__ , __leaf__)) ferror_unlocked (FILE *__stream)
{
  return (((__stream)->_flags & 0x0020) != 0);
}
# 892 "/usr/include/stdio.h" 2 3 4


# 1 "/usr/include/aarch64-linux-gnu/bits/stdio2.h" 1 3 4
# 26 "/usr/include/aarch64-linux-gnu/bits/stdio2.h" 3 4
extern int __sprintf_chk (char *__restrict __s, int __flag, size_t __slen,
     const char *__restrict __format, ...) __attribute__ ((__nothrow__ , __leaf__))
    __attribute__ ((__access__ (__write_only__, 1, 3)));
extern int __vsprintf_chk (char *__restrict __s, int __flag, size_t __slen,
      const char *__restrict __format,
      __gnuc_va_list __ap) __attribute__ ((__nothrow__ , __leaf__))
    __attribute__ ((__access__ (__write_only__, 1, 3)));


extern __inline __attribute__ ((__always_inline__)) __attribute__ ((__gnu_inline__)) __attribute__ ((__artificial__)) int
__attribute__ ((__nothrow__ , __leaf__)) sprintf (char *__restrict __s, const char *__restrict __fmt, ...)
{
  return __builtin___sprintf_chk (__s, 2 - 1,
      __builtin_object_size (__s, 2 > 1), __fmt,
      __builtin_va_arg_pack ());
}






extern __inline __attribute__ ((__always_inline__)) __attribute__ ((__gnu_inline__)) __attribute__ ((__artificial__)) int
__attribute__ ((__nothrow__ , __leaf__)) vsprintf (char *__restrict __s, const char *__restrict __fmt, __gnuc_va_list __ap)

{
  return __builtin___vsprintf_chk (__s, 2 - 1,
       __builtin_object_size (__s, 2 > 1), __fmt, __ap);
}



extern int __snprintf_chk (char *__restrict __s, size_t __n, int __flag,
      size_t __slen, const char *__restrict __format,
      ...) __attribute__ ((__nothrow__ , __leaf__))
    __attribute__ ((__access__ (__write_only__, 1, 2)));
extern int __vsnprintf_chk (char *__restrict __s, size_t __n, int __flag,
       size_t __slen, const char *__restrict __format,
       __gnuc_va_list __ap) __attribute__ ((__nothrow__ , __leaf__));


extern __inline __attribute__ ((__always_inline__)) __attribute__ ((__gnu_inline__)) __attribute__ ((__artificial__)) int
__attribute__ ((__nothrow__ , __leaf__)) snprintf (char *__restrict __s, size_t __n, const char *__restrict __fmt, ...)

{
  return __builtin___snprintf_chk (__s, __n, 2 - 1,
       __builtin_object_size (__s, 2 > 1), __fmt,
       __builtin_va_arg_pack ());
}






extern __inline __attribute__ ((__always_inline__)) __attribute__ ((__gnu_inline__)) __attribute__ ((__artificial__)) int
__attribute__ ((__nothrow__ , __leaf__)) vsnprintf (char *__restrict __s, size_t __n, const char *__restrict __fmt, __gnuc_va_list __ap)

{
  return __builtin___vsnprintf_chk (__s, __n, 2 - 1,
        __builtin_object_size (__s, 2 > 1), __fmt, __ap);
}





extern int __fprintf_chk (FILE *__restrict __stream, int __flag,
     const char *__restrict __format, ...);
extern int __printf_chk (int __flag, const char *__restrict __format, ...);
extern int __vfprintf_chk (FILE *__restrict __stream, int __flag,
      const char *__restrict __format, __gnuc_va_list __ap);
extern int __vprintf_chk (int __flag, const char *__restrict __format,
     __gnuc_va_list __ap);


extern __inline __attribute__ ((__always_inline__)) __attribute__ ((__gnu_inline__)) __attribute__ ((__artificial__)) int
fprintf (FILE *__restrict __stream, const char *__restrict __fmt, ...)
{
  return __fprintf_chk (__stream, 2 - 1, __fmt,
   __builtin_va_arg_pack ());
}

extern __inline __attribute__ ((__always_inline__)) __attribute__ ((__gnu_inline__)) __attribute__ ((__artificial__)) int
printf (const char *__restrict __fmt, ...)
{
  return __printf_chk (2 - 1, __fmt, __builtin_va_arg_pack ());
}







extern __inline __attribute__ ((__always_inline__)) __attribute__ ((__gnu_inline__)) __attribute__ ((__artificial__)) int
vprintf (const char *__restrict __fmt, __gnuc_va_list __ap)
{

  return __vfprintf_chk (stdout, 2 - 1, __fmt, __ap);



}

extern __inline __attribute__ ((__always_inline__)) __attribute__ ((__gnu_inline__)) __attribute__ ((__artificial__)) int
vfprintf (FILE *__restrict __stream,
   const char *__restrict __fmt, __gnuc_va_list __ap)
{
  return __vfprintf_chk (__stream, 2 - 1, __fmt, __ap);
}


extern int __dprintf_chk (int __fd, int __flag, const char *__restrict __fmt,
     ...) __attribute__ ((__format__ (__printf__, 3, 4)));
extern int __vdprintf_chk (int __fd, int __flag,
      const char *__restrict __fmt, __gnuc_va_list __arg)
     __attribute__ ((__format__ (__printf__, 3, 0)));


extern __inline __attribute__ ((__always_inline__)) __attribute__ ((__gnu_inline__)) __attribute__ ((__artificial__)) int
dprintf (int __fd, const char *__restrict __fmt, ...)
{
  return __dprintf_chk (__fd, 2 - 1, __fmt,
   __builtin_va_arg_pack ());
}





extern __inline __attribute__ ((__always_inline__)) __attribute__ ((__gnu_inline__)) __attribute__ ((__artificial__)) int
vdprintf (int __fd, const char *__restrict __fmt, __gnuc_va_list __ap)
{
  return __vdprintf_chk (__fd, 2 - 1, __fmt, __ap);
}
# 248 "/usr/include/aarch64-linux-gnu/bits/stdio2.h" 3 4
extern char *__fgets_chk (char *__restrict __s, size_t __size, int __n,
     FILE *__restrict __stream)
    __attribute__ ((__warn_unused_result__)) __attribute__ ((__access__ (__write_only__, 1, 3)));
extern char *__fgets_alias (char *__restrict __s, int __n, FILE *__restrict __stream) __asm__ ("" "fgets")


    __attribute__ ((__warn_unused_result__)) __attribute__ ((__access__ (__write_only__, 1, 2)));
extern char *__fgets_chk_warn (char *__restrict __s, size_t __size, int __n, FILE *__restrict __stream) __asm__ ("" "__fgets_chk")


     __attribute__ ((__warn_unused_result__)) __attribute__((__warning__ ("fgets called with bigger size than length " "of destination buffer")))
                                 ;

extern __inline __attribute__ ((__always_inline__)) __attribute__ ((__gnu_inline__)) __attribute__ ((__artificial__)) __attribute__ ((__warn_unused_result__)) __attribute__ ((__access__ (__write_only__, 1, 2))) char *
fgets (char *__restrict __s, int __n, FILE *__restrict __stream)
{
  size_t sz = __builtin_object_size (__s, 2 > 1);
  if ((((__typeof (__n)) 0 < (__typeof (__n)) -1 || (__builtin_constant_p (__n) && (__n) > 0)) && __builtin_constant_p ((((long unsigned int) (__n)) <= (sz) / (sizeof (char)))) && (((long unsigned int) (__n)) <= (sz) / (sizeof (char)))))
    return __fgets_alias (__s, __n, __stream);
  if ((((__typeof (__n)) 0 < (__typeof (__n)) -1 || (__builtin_constant_p (__n) && (__n) > 0)) && __builtin_constant_p ((((long unsigned int) (__n)) <= (sz) / (sizeof (char)))) && !(((long unsigned int) (__n)) <= (sz) / (sizeof (char)))))
    return __fgets_chk_warn (__s, sz, __n, __stream);
  return __fgets_chk (__s, sz, __n, __stream);
}

extern size_t __fread_chk (void *__restrict __ptr, size_t __ptrlen,
      size_t __size, size_t __n,
      FILE *__restrict __stream) __attribute__ ((__warn_unused_result__));
extern size_t __fread_alias (void *__restrict __ptr, size_t __size, size_t __n, FILE *__restrict __stream) __asm__ ("" "fread")


            __attribute__ ((__warn_unused_result__));
extern size_t __fread_chk_warn (void *__restrict __ptr, size_t __ptrlen, size_t __size, size_t __n, FILE *__restrict __stream) __asm__ ("" "__fread_chk")




     __attribute__ ((__warn_unused_result__)) __attribute__((__warning__ ("fread called with bigger size * nmemb than length " "of destination buffer")))
                                 ;

extern __inline __attribute__ ((__always_inline__)) __attribute__ ((__gnu_inline__)) __attribute__ ((__artificial__)) __attribute__ ((__warn_unused_result__)) size_t
fread (void *__restrict __ptr, size_t __size, size_t __n,
       FILE *__restrict __stream)
{
  size_t sz = __builtin_object_size (__ptr, 0);
  if ((((__typeof (__n)) 0 < (__typeof (__n)) -1 || (__builtin_constant_p (__n) && (__n) > 0)) && __builtin_constant_p ((((long unsigned int) (__n)) <= (sz) / (__size))) && (((long unsigned int) (__n)) <= (sz) / (__size))))
    return __fread_alias (__ptr, __size, __n, __stream);
  if ((((__typeof (__n)) 0 < (__typeof (__n)) -1 || (__builtin_constant_p (__n) && (__n) > 0)) && __builtin_constant_p ((((long unsigned int) (__n)) <= (sz) / (__size))) && !(((long unsigned int) (__n)) <= (sz) / (__size))))
    return __fread_chk_warn (__ptr, sz, __size, __n, __stream);
  return __fread_chk (__ptr, sz, __size, __n, __stream);
}
# 327 "/usr/include/aarch64-linux-gnu/bits/stdio2.h" 3 4
extern size_t __fread_unlocked_chk (void *__restrict __ptr, size_t __ptrlen,
        size_t __size, size_t __n,
        FILE *__restrict __stream) __attribute__ ((__warn_unused_result__));
extern size_t __fread_unlocked_alias (void *__restrict __ptr, size_t __size, size_t __n, FILE *__restrict __stream) __asm__ ("" "fread_unlocked")


                     __attribute__ ((__warn_unused_result__));
extern size_t __fread_unlocked_chk_warn (void *__restrict __ptr, size_t __ptrlen, size_t __size, size_t __n, FILE *__restrict __stream) __asm__ ("" "__fread_unlocked_chk")




     __attribute__ ((__warn_unused_result__)) __attribute__((__warning__ ("fread_unlocked called with bigger size * nmemb than " "length of destination buffer")))
                                        ;

extern __inline __attribute__ ((__always_inline__)) __attribute__ ((__gnu_inline__)) __attribute__ ((__artificial__)) __attribute__ ((__warn_unused_result__)) size_t
fread_unlocked (void *__restrict __ptr, size_t __size, size_t __n,
  FILE *__restrict __stream)
{
  size_t sz = __builtin_object_size (__ptr, 0);
  if ((((__typeof (__n)) 0 < (__typeof (__n)) -1 || (__builtin_constant_p (__n) && (__n) > 0)) && __builtin_constant_p ((((long unsigned int) (__n)) <= (sz) / (__size))) && (((long unsigned int) (__n)) <= (sz) / (__size))))
    {

      if (__builtin_constant_p (__size)
   && __builtin_constant_p (__n)
   && (__size | __n) < (((size_t) 1) << (8 * sizeof (size_t) / 2))
   && __size * __n <= 8)
 {
   size_t __cnt = __size * __n;
   char *__cptr = (char *) __ptr;
   if (__cnt == 0)
     return 0;

   for (; __cnt > 0; --__cnt)
     {
       int __c = getc_unlocked (__stream);
       if (__c == (-1))
  break;
       *__cptr++ = __c;
     }
   return (__cptr - (char *) __ptr) / __size;
 }

      return __fread_unlocked_alias (__ptr, __size, __n, __stream);
    }
  if ((((__typeof (__n)) 0 < (__typeof (__n)) -1 || (__builtin_constant_p (__n) && (__n) > 0)) && __builtin_constant_p ((((long unsigned int) (__n)) <= (sz) / (__size))) && !(((long unsigned int) (__n)) <= (sz) / (__size))))
    return __fread_unlocked_chk_warn (__ptr, sz, __size, __n, __stream);
  return __fread_unlocked_chk (__ptr, sz, __size, __n, __stream);

}
# 895 "/usr/include/stdio.h" 2 3 4








# 4 "/ejdb/src/jql/jqp.c" 2
# 1 "/usr/include/stdlib.h" 1 3 4
# 26 "/usr/include/stdlib.h" 3 4
# 1 "/usr/include/aarch64-linux-gnu/bits/libc-header-start.h" 1 3 4
# 27 "/usr/include/stdlib.h" 2 3 4





# 1 "/usr/lib/gcc/aarch64-linux-gnu/11/include/stddef.h" 1 3 4
# 321 "/usr/lib/gcc/aarch64-linux-gnu/11/include/stddef.h" 3 4
typedef unsigned int wchar_t;
# 33 "/usr/include/stdlib.h" 2 3 4







# 1 "/usr/include/aarch64-linux-gnu/bits/waitflags.h" 1 3 4
# 41 "/usr/include/stdlib.h" 2 3 4
# 1 "/usr/include/aarch64-linux-gnu/bits/waitstatus.h" 1 3 4
# 42 "/usr/include/stdlib.h" 2 3 4
# 59 "/usr/include/stdlib.h" 3 4
typedef struct
  {
    int quot;
    int rem;
  } div_t;



typedef struct
  {
    long int quot;
    long int rem;
  } ldiv_t;





__extension__ typedef struct
  {
    long long int quot;
    long long int rem;
  } lldiv_t;
# 98 "/usr/include/stdlib.h" 3 4
extern size_t __ctype_get_mb_cur_max (void) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__warn_unused_result__));



extern double atof (const char *__nptr)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__pure__)) __attribute__ ((__nonnull__ (1))) __attribute__ ((__warn_unused_result__));

extern int atoi (const char *__nptr)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__pure__)) __attribute__ ((__nonnull__ (1))) __attribute__ ((__warn_unused_result__));

extern long int atol (const char *__nptr)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__pure__)) __attribute__ ((__nonnull__ (1))) __attribute__ ((__warn_unused_result__));



__extension__ extern long long int atoll (const char *__nptr)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__pure__)) __attribute__ ((__nonnull__ (1))) __attribute__ ((__warn_unused_result__));



extern double strtod (const char *__restrict __nptr,
        char **__restrict __endptr)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));



extern float strtof (const char *__restrict __nptr,
       char **__restrict __endptr) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));

extern long double strtold (const char *__restrict __nptr,
       char **__restrict __endptr)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));
# 177 "/usr/include/stdlib.h" 3 4
extern long int strtol (const char *__restrict __nptr,
   char **__restrict __endptr, int __base)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));

extern unsigned long int strtoul (const char *__restrict __nptr,
      char **__restrict __endptr, int __base)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));



__extension__
extern long long int strtoq (const char *__restrict __nptr,
        char **__restrict __endptr, int __base)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));

__extension__
extern unsigned long long int strtouq (const char *__restrict __nptr,
           char **__restrict __endptr, int __base)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));




__extension__
extern long long int strtoll (const char *__restrict __nptr,
         char **__restrict __endptr, int __base)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));

__extension__
extern unsigned long long int strtoull (const char *__restrict __nptr,
     char **__restrict __endptr, int __base)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));
# 361 "/usr/include/stdlib.h" 3 4
extern __inline __attribute__ ((__gnu_inline__)) int
__attribute__ ((__nothrow__ , __leaf__)) atoi (const char *__nptr)
{
  return (int) strtol (__nptr, (char **) ((void *)0), 10);
}
extern __inline __attribute__ ((__gnu_inline__)) long int
__attribute__ ((__nothrow__ , __leaf__)) atol (const char *__nptr)
{
  return strtol (__nptr, (char **) ((void *)0), 10);
}


__extension__ extern __inline __attribute__ ((__gnu_inline__)) long long int
__attribute__ ((__nothrow__ , __leaf__)) atoll (const char *__nptr)
{
  return strtoll (__nptr, (char **) ((void *)0), 10);
}
# 386 "/usr/include/stdlib.h" 3 4
extern char *l64a (long int __n) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__warn_unused_result__));


extern long int a64l (const char *__s)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__pure__)) __attribute__ ((__nonnull__ (1))) __attribute__ ((__warn_unused_result__));




# 1 "/usr/include/aarch64-linux-gnu/sys/types.h" 1 3 4
# 27 "/usr/include/aarch64-linux-gnu/sys/types.h" 3 4






typedef __u_char u_char;
typedef __u_short u_short;
typedef __u_int u_int;
typedef __u_long u_long;
typedef __quad_t quad_t;
typedef __u_quad_t u_quad_t;
typedef __fsid_t fsid_t;


typedef __loff_t loff_t;






typedef __ino64_t ino_t;
# 59 "/usr/include/aarch64-linux-gnu/sys/types.h" 3 4
typedef __dev_t dev_t;




typedef __gid_t gid_t;




typedef __mode_t mode_t;




typedef __nlink_t nlink_t;




typedef __uid_t uid_t;
# 97 "/usr/include/aarch64-linux-gnu/sys/types.h" 3 4
typedef __pid_t pid_t;





typedef __id_t id_t;
# 114 "/usr/include/aarch64-linux-gnu/sys/types.h" 3 4
typedef __daddr_t daddr_t;
typedef __caddr_t caddr_t;





typedef __key_t key_t;




# 1 "/usr/include/aarch64-linux-gnu/bits/types/clock_t.h" 1 3 4






typedef __clock_t clock_t;
# 127 "/usr/include/aarch64-linux-gnu/sys/types.h" 2 3 4

# 1 "/usr/include/aarch64-linux-gnu/bits/types/clockid_t.h" 1 3 4






typedef __clockid_t clockid_t;
# 129 "/usr/include/aarch64-linux-gnu/sys/types.h" 2 3 4
# 1 "/usr/include/aarch64-linux-gnu/bits/types/time_t.h" 1 3 4
# 10 "/usr/include/aarch64-linux-gnu/bits/types/time_t.h" 3 4
typedef __time_t time_t;
# 130 "/usr/include/aarch64-linux-gnu/sys/types.h" 2 3 4
# 1 "/usr/include/aarch64-linux-gnu/bits/types/timer_t.h" 1 3 4






typedef __timer_t timer_t;
# 131 "/usr/include/aarch64-linux-gnu/sys/types.h" 2 3 4



typedef __useconds_t useconds_t;



typedef __suseconds_t suseconds_t;





# 1 "/usr/lib/gcc/aarch64-linux-gnu/11/include/stddef.h" 1 3 4
# 145 "/usr/include/aarch64-linux-gnu/sys/types.h" 2 3 4



typedef unsigned long int ulong;
typedef unsigned short int ushort;
typedef unsigned int uint;




# 1 "/usr/include/aarch64-linux-gnu/bits/stdint-intn.h" 1 3 4
# 24 "/usr/include/aarch64-linux-gnu/bits/stdint-intn.h" 3 4
typedef __int8_t int8_t;
typedef __int16_t int16_t;
typedef __int32_t int32_t;
typedef __int64_t int64_t;
# 156 "/usr/include/aarch64-linux-gnu/sys/types.h" 2 3 4


typedef __uint8_t u_int8_t;
typedef __uint16_t u_int16_t;
typedef __uint32_t u_int32_t;
typedef __uint64_t u_int64_t;


typedef int register_t __attribute__ ((__mode__ (__word__)));
# 176 "/usr/include/aarch64-linux-gnu/sys/types.h" 3 4
# 1 "/usr/include/endian.h" 1 3 4
# 24 "/usr/include/endian.h" 3 4
# 1 "/usr/include/aarch64-linux-gnu/bits/endian.h" 1 3 4
# 35 "/usr/include/aarch64-linux-gnu/bits/endian.h" 3 4
# 1 "/usr/include/aarch64-linux-gnu/bits/endianness.h" 1 3 4
# 36 "/usr/include/aarch64-linux-gnu/bits/endian.h" 2 3 4
# 25 "/usr/include/endian.h" 2 3 4
# 35 "/usr/include/endian.h" 3 4
# 1 "/usr/include/aarch64-linux-gnu/bits/byteswap.h" 1 3 4
# 33 "/usr/include/aarch64-linux-gnu/bits/byteswap.h" 3 4
static __inline __uint16_t
__bswap_16 (__uint16_t __bsx)
{

  return __builtin_bswap16 (__bsx);



}






static __inline __uint32_t
__bswap_32 (__uint32_t __bsx)
{

  return __builtin_bswap32 (__bsx);



}
# 69 "/usr/include/aarch64-linux-gnu/bits/byteswap.h" 3 4
__extension__ static __inline __uint64_t
__bswap_64 (__uint64_t __bsx)
{

  return __builtin_bswap64 (__bsx);



}
# 36 "/usr/include/endian.h" 2 3 4
# 1 "/usr/include/aarch64-linux-gnu/bits/uintn-identity.h" 1 3 4
# 32 "/usr/include/aarch64-linux-gnu/bits/uintn-identity.h" 3 4
static __inline __uint16_t
__uint16_identity (__uint16_t __x)
{
  return __x;
}

static __inline __uint32_t
__uint32_identity (__uint32_t __x)
{
  return __x;
}

static __inline __uint64_t
__uint64_identity (__uint64_t __x)
{
  return __x;
}
# 37 "/usr/include/endian.h" 2 3 4
# 177 "/usr/include/aarch64-linux-gnu/sys/types.h" 2 3 4


# 1 "/usr/include/aarch64-linux-gnu/sys/select.h" 1 3 4
# 30 "/usr/include/aarch64-linux-gnu/sys/select.h" 3 4
# 1 "/usr/include/aarch64-linux-gnu/bits/select.h" 1 3 4
# 31 "/usr/include/aarch64-linux-gnu/sys/select.h" 2 3 4


# 1 "/usr/include/aarch64-linux-gnu/bits/types/sigset_t.h" 1 3 4



# 1 "/usr/include/aarch64-linux-gnu/bits/types/__sigset_t.h" 1 3 4




typedef struct
{
  unsigned long int __val[(1024 / (8 * sizeof (unsigned long int)))];
} __sigset_t;
# 5 "/usr/include/aarch64-linux-gnu/bits/types/sigset_t.h" 2 3 4


typedef __sigset_t sigset_t;
# 34 "/usr/include/aarch64-linux-gnu/sys/select.h" 2 3 4



# 1 "/usr/include/aarch64-linux-gnu/bits/types/struct_timeval.h" 1 3 4







struct timeval
{




  __time_t tv_sec;
  __suseconds_t tv_usec;

};
# 38 "/usr/include/aarch64-linux-gnu/sys/select.h" 2 3 4

# 1 "/usr/include/aarch64-linux-gnu/bits/types/struct_timespec.h" 1 3 4
# 11 "/usr/include/aarch64-linux-gnu/bits/types/struct_timespec.h" 3 4
struct timespec
{



  __time_t tv_sec;




  __syscall_slong_t tv_nsec;
# 31 "/usr/include/aarch64-linux-gnu/bits/types/struct_timespec.h" 3 4
};
# 40 "/usr/include/aarch64-linux-gnu/sys/select.h" 2 3 4
# 49 "/usr/include/aarch64-linux-gnu/sys/select.h" 3 4
typedef long int __fd_mask;
# 59 "/usr/include/aarch64-linux-gnu/sys/select.h" 3 4
typedef struct
  {



    __fd_mask fds_bits[1024 / (8 * (int) sizeof (__fd_mask))];





  } fd_set;






typedef __fd_mask fd_mask;
# 91 "/usr/include/aarch64-linux-gnu/sys/select.h" 3 4

# 102 "/usr/include/aarch64-linux-gnu/sys/select.h" 3 4
extern int select (int __nfds, fd_set *__restrict __readfds,
     fd_set *__restrict __writefds,
     fd_set *__restrict __exceptfds,
     struct timeval *__restrict __timeout);
# 127 "/usr/include/aarch64-linux-gnu/sys/select.h" 3 4
extern int pselect (int __nfds, fd_set *__restrict __readfds,
      fd_set *__restrict __writefds,
      fd_set *__restrict __exceptfds,
      const struct timespec *__restrict __timeout,
      const __sigset_t *__restrict __sigmask);
# 150 "/usr/include/aarch64-linux-gnu/sys/select.h" 3 4
# 1 "/usr/include/aarch64-linux-gnu/bits/select2.h" 1 3 4
# 24 "/usr/include/aarch64-linux-gnu/bits/select2.h" 3 4
extern long int __fdelt_chk (long int __d);
extern long int __fdelt_warn (long int __d)
  __attribute__((__warning__ ("bit outside of fd_set selected")));
# 151 "/usr/include/aarch64-linux-gnu/sys/select.h" 2 3 4



# 180 "/usr/include/aarch64-linux-gnu/sys/types.h" 2 3 4





typedef __blksize_t blksize_t;
# 205 "/usr/include/aarch64-linux-gnu/sys/types.h" 3 4
typedef __blkcnt64_t blkcnt_t;



typedef __fsblkcnt64_t fsblkcnt_t;



typedef __fsfilcnt64_t fsfilcnt_t;
# 227 "/usr/include/aarch64-linux-gnu/sys/types.h" 3 4
# 1 "/usr/include/aarch64-linux-gnu/bits/pthreadtypes.h" 1 3 4
# 23 "/usr/include/aarch64-linux-gnu/bits/pthreadtypes.h" 3 4
# 1 "/usr/include/aarch64-linux-gnu/bits/thread-shared-types.h" 1 3 4
# 44 "/usr/include/aarch64-linux-gnu/bits/thread-shared-types.h" 3 4
# 1 "/usr/include/aarch64-linux-gnu/bits/pthreadtypes-arch.h" 1 3 4
# 45 "/usr/include/aarch64-linux-gnu/bits/thread-shared-types.h" 2 3 4

# 1 "/usr/include/aarch64-linux-gnu/bits/atomic_wide_counter.h" 1 3 4
# 25 "/usr/include/aarch64-linux-gnu/bits/atomic_wide_counter.h" 3 4
typedef union
{
  __extension__ unsigned long long int __value64;
  struct
  {
    unsigned int __low;
    unsigned int __high;
  } __value32;
} __atomic_wide_counter;
# 47 "/usr/include/aarch64-linux-gnu/bits/thread-shared-types.h" 2 3 4




typedef struct __pthread_internal_list
{
  struct __pthread_internal_list *__prev;
  struct __pthread_internal_list *__next;
} __pthread_list_t;

typedef struct __pthread_internal_slist
{
  struct __pthread_internal_slist *__next;
} __pthread_slist_t;
# 76 "/usr/include/aarch64-linux-gnu/bits/thread-shared-types.h" 3 4
# 1 "/usr/include/aarch64-linux-gnu/bits/struct_mutex.h" 1 3 4
# 27 "/usr/include/aarch64-linux-gnu/bits/struct_mutex.h" 3 4
struct __pthread_mutex_s
{
  int __lock ;
  unsigned int __count;
  int __owner;

  unsigned int __nusers;
# 58 "/usr/include/aarch64-linux-gnu/bits/struct_mutex.h" 3 4
  int __kind;




  int __spins;
  __pthread_list_t __list;
# 74 "/usr/include/aarch64-linux-gnu/bits/struct_mutex.h" 3 4
};
# 77 "/usr/include/aarch64-linux-gnu/bits/thread-shared-types.h" 2 3 4
# 89 "/usr/include/aarch64-linux-gnu/bits/thread-shared-types.h" 3 4
# 1 "/usr/include/aarch64-linux-gnu/bits/struct_rwlock.h" 1 3 4
# 23 "/usr/include/aarch64-linux-gnu/bits/struct_rwlock.h" 3 4
struct __pthread_rwlock_arch_t
{
  unsigned int __readers;
  unsigned int __writers;
  unsigned int __wrphase_futex;
  unsigned int __writers_futex;
  unsigned int __pad3;
  unsigned int __pad4;
  int __cur_writer;
  int __shared;
  unsigned long int __pad1;
  unsigned long int __pad2;
  unsigned int __flags;
};
# 90 "/usr/include/aarch64-linux-gnu/bits/thread-shared-types.h" 2 3 4




struct __pthread_cond_s
{
  __atomic_wide_counter __wseq;
  __atomic_wide_counter __g1_start;
  unsigned int __g_refs[2] ;
  unsigned int __g_size[2];
  unsigned int __g1_orig_size;
  unsigned int __wrefs;
  unsigned int __g_signals[2];
};

typedef unsigned int __tss_t;
typedef unsigned long int __thrd_t;

typedef struct
{
  int __data ;
} __once_flag;
# 24 "/usr/include/aarch64-linux-gnu/bits/pthreadtypes.h" 2 3 4



typedef unsigned long int pthread_t;




typedef union
{
  char __size[8];
  int __align;
} pthread_mutexattr_t;




typedef union
{
  char __size[8];
  int __align;
} pthread_condattr_t;



typedef unsigned int pthread_key_t;



typedef int pthread_once_t;


union pthread_attr_t
{
  char __size[64];
  long int __align;
};

typedef union pthread_attr_t pthread_attr_t;




typedef union
{
  struct __pthread_mutex_s __data;
  char __size[48];
  long int __align;
} pthread_mutex_t;


typedef union
{
  struct __pthread_cond_s __data;
  char __size[48];
  __extension__ long long int __align;
} pthread_cond_t;





typedef union
{
  struct __pthread_rwlock_arch_t __data;
  char __size[56];
  long int __align;
} pthread_rwlock_t;

typedef union
{
  char __size[8];
  long int __align;
} pthread_rwlockattr_t;





typedef volatile int pthread_spinlock_t;




typedef union
{
  char __size[32];
  long int __align;
} pthread_barrier_t;

typedef union
{
  char __size[8];
  int __align;
} pthread_barrierattr_t;
# 228 "/usr/include/aarch64-linux-gnu/sys/types.h" 2 3 4



# 396 "/usr/include/stdlib.h" 2 3 4






extern long int random (void) __attribute__ ((__nothrow__ , __leaf__));


extern void srandom (unsigned int __seed) __attribute__ ((__nothrow__ , __leaf__));





extern char *initstate (unsigned int __seed, char *__statebuf,
   size_t __statelen) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (2)));



extern char *setstate (char *__statebuf) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));







struct random_data
  {
    int32_t *fptr;
    int32_t *rptr;
    int32_t *state;
    int rand_type;
    int rand_deg;
    int rand_sep;
    int32_t *end_ptr;
  };

extern int random_r (struct random_data *__restrict __buf,
       int32_t *__restrict __result) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));

extern int srandom_r (unsigned int __seed, struct random_data *__buf)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (2)));

extern int initstate_r (unsigned int __seed, char *__restrict __statebuf,
   size_t __statelen,
   struct random_data *__restrict __buf)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (2, 4)));

extern int setstate_r (char *__restrict __statebuf,
         struct random_data *__restrict __buf)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));





extern int rand (void) __attribute__ ((__nothrow__ , __leaf__));

extern void srand (unsigned int __seed) __attribute__ ((__nothrow__ , __leaf__));



extern int rand_r (unsigned int *__seed) __attribute__ ((__nothrow__ , __leaf__));







extern double drand48 (void) __attribute__ ((__nothrow__ , __leaf__));
extern double erand48 (unsigned short int __xsubi[3]) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));


extern long int lrand48 (void) __attribute__ ((__nothrow__ , __leaf__));
extern long int nrand48 (unsigned short int __xsubi[3])
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));


extern long int mrand48 (void) __attribute__ ((__nothrow__ , __leaf__));
extern long int jrand48 (unsigned short int __xsubi[3])
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));


extern void srand48 (long int __seedval) __attribute__ ((__nothrow__ , __leaf__));
extern unsigned short int *seed48 (unsigned short int __seed16v[3])
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));
extern void lcong48 (unsigned short int __param[7]) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));





struct drand48_data
  {
    unsigned short int __x[3];
    unsigned short int __old_x[3];
    unsigned short int __c;
    unsigned short int __init;
    __extension__ unsigned long long int __a;

  };


extern int drand48_r (struct drand48_data *__restrict __buffer,
        double *__restrict __result) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));
extern int erand48_r (unsigned short int __xsubi[3],
        struct drand48_data *__restrict __buffer,
        double *__restrict __result) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));


extern int lrand48_r (struct drand48_data *__restrict __buffer,
        long int *__restrict __result)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));
extern int nrand48_r (unsigned short int __xsubi[3],
        struct drand48_data *__restrict __buffer,
        long int *__restrict __result)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));


extern int mrand48_r (struct drand48_data *__restrict __buffer,
        long int *__restrict __result)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));
extern int jrand48_r (unsigned short int __xsubi[3],
        struct drand48_data *__restrict __buffer,
        long int *__restrict __result)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));


extern int srand48_r (long int __seedval, struct drand48_data *__buffer)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (2)));

extern int seed48_r (unsigned short int __seed16v[3],
       struct drand48_data *__buffer) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));

extern int lcong48_r (unsigned short int __param[7],
        struct drand48_data *__buffer)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));




extern void *malloc (size_t __size) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__malloc__))
     __attribute__ ((__alloc_size__ (1))) __attribute__ ((__warn_unused_result__));

extern void *calloc (size_t __nmemb, size_t __size)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__malloc__)) __attribute__ ((__alloc_size__ (1, 2))) __attribute__ ((__warn_unused_result__));






extern void *realloc (void *__ptr, size_t __size)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__warn_unused_result__)) __attribute__ ((__alloc_size__ (2)));


extern void free (void *__ptr) __attribute__ ((__nothrow__ , __leaf__));







extern void *reallocarray (void *__ptr, size_t __nmemb, size_t __size)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__warn_unused_result__))
     __attribute__ ((__alloc_size__ (2, 3)))
    __attribute__ ((__malloc__ (__builtin_free, 1)));


extern void *reallocarray (void *__ptr, size_t __nmemb, size_t __size)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__malloc__ (reallocarray, 1)));



# 1 "/usr/include/alloca.h" 1 3 4
# 24 "/usr/include/alloca.h" 3 4
# 1 "/usr/lib/gcc/aarch64-linux-gnu/11/include/stddef.h" 1 3 4
# 25 "/usr/include/alloca.h" 2 3 4







extern void *alloca (size_t __size) __attribute__ ((__nothrow__ , __leaf__));






# 575 "/usr/include/stdlib.h" 2 3 4





extern void *valloc (size_t __size) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__malloc__))
     __attribute__ ((__alloc_size__ (1))) __attribute__ ((__warn_unused_result__));




extern int posix_memalign (void **__memptr, size_t __alignment, size_t __size)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1))) __attribute__ ((__warn_unused_result__));




extern void *aligned_alloc (size_t __alignment, size_t __size)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__malloc__)) __attribute__ ((__alloc_align__ (1)))
     __attribute__ ((__alloc_size__ (2))) __attribute__ ((__warn_unused_result__));



extern void abort (void) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__noreturn__));



extern int atexit (void (*__func) (void)) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));







extern int at_quick_exit (void (*__func) (void)) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));






extern int on_exit (void (*__func) (int __status, void *__arg), void *__arg)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));





extern void exit (int __status) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__noreturn__));





extern void quick_exit (int __status) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__noreturn__));





extern void _Exit (int __status) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__noreturn__));




extern char *getenv (const char *__name) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1))) __attribute__ ((__warn_unused_result__));
# 654 "/usr/include/stdlib.h" 3 4
extern int putenv (char *__string) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));





extern int setenv (const char *__name, const char *__value, int __replace)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (2)));


extern int unsetenv (const char *__name) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));






extern int clearenv (void) __attribute__ ((__nothrow__ , __leaf__));
# 682 "/usr/include/stdlib.h" 3 4
extern char *mktemp (char *__template) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));
# 698 "/usr/include/stdlib.h" 3 4
extern int mkstemp (char *__template) __asm__ ("" "mkstemp64")
     __attribute__ ((__nonnull__ (1))) __attribute__ ((__warn_unused_result__));
# 720 "/usr/include/stdlib.h" 3 4
extern int mkstemps (char *__template, int __suffixlen) __asm__ ("" "mkstemps64")
                     __attribute__ ((__nonnull__ (1))) __attribute__ ((__warn_unused_result__));
# 738 "/usr/include/stdlib.h" 3 4
extern char *mkdtemp (char *__template) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1))) __attribute__ ((__warn_unused_result__));
# 791 "/usr/include/stdlib.h" 3 4
extern int system (const char *__command) __attribute__ ((__warn_unused_result__));
# 808 "/usr/include/stdlib.h" 3 4
extern char *realpath (const char *__restrict __name,
         char *__restrict __resolved) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__warn_unused_result__));






typedef int (*__compar_fn_t) (const void *, const void *);
# 828 "/usr/include/stdlib.h" 3 4
extern void *bsearch (const void *__key, const void *__base,
        size_t __nmemb, size_t __size, __compar_fn_t __compar)
     __attribute__ ((__nonnull__ (1, 2, 5))) __attribute__ ((__warn_unused_result__));


# 1 "/usr/include/aarch64-linux-gnu/bits/stdlib-bsearch.h" 1 3 4
# 19 "/usr/include/aarch64-linux-gnu/bits/stdlib-bsearch.h" 3 4
extern __inline __attribute__ ((__gnu_inline__)) void *
bsearch (const void *__key, const void *__base, size_t __nmemb, size_t __size,
  __compar_fn_t __compar)
{
  size_t __l, __u, __idx;
  const void *__p;
  int __comparison;

  __l = 0;
  __u = __nmemb;
  while (__l < __u)
    {
      __idx = (__l + __u) / 2;
      __p = (const void *) (((const char *) __base) + (__idx * __size));
      __comparison = (*__compar) (__key, __p);
      if (__comparison < 0)
 __u = __idx;
      else if (__comparison > 0)
 __l = __idx + 1;
      else
 {

#pragma GCC diagnostic push
#pragma GCC diagnostic ignored "-Wcast-qual"

   return (void *) __p;

#pragma GCC diagnostic pop

 }
    }

  return ((void *)0);
}
# 834 "/usr/include/stdlib.h" 2 3 4




extern void qsort (void *__base, size_t __nmemb, size_t __size,
     __compar_fn_t __compar) __attribute__ ((__nonnull__ (1, 4)));
# 848 "/usr/include/stdlib.h" 3 4
extern int abs (int __x) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__const__)) __attribute__ ((__warn_unused_result__));
extern long int labs (long int __x) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__const__)) __attribute__ ((__warn_unused_result__));


__extension__ extern long long int llabs (long long int __x)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__const__)) __attribute__ ((__warn_unused_result__));






extern div_t div (int __numer, int __denom)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__const__)) __attribute__ ((__warn_unused_result__));
extern ldiv_t ldiv (long int __numer, long int __denom)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__const__)) __attribute__ ((__warn_unused_result__));


__extension__ extern lldiv_t lldiv (long long int __numer,
        long long int __denom)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__const__)) __attribute__ ((__warn_unused_result__));
# 880 "/usr/include/stdlib.h" 3 4
extern char *ecvt (double __value, int __ndigit, int *__restrict __decpt,
     int *__restrict __sign) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (3, 4))) __attribute__ ((__warn_unused_result__));




extern char *fcvt (double __value, int __ndigit, int *__restrict __decpt,
     int *__restrict __sign) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (3, 4))) __attribute__ ((__warn_unused_result__));




extern char *gcvt (double __value, int __ndigit, char *__buf)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (3))) __attribute__ ((__warn_unused_result__));




extern char *qecvt (long double __value, int __ndigit,
      int *__restrict __decpt, int *__restrict __sign)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (3, 4))) __attribute__ ((__warn_unused_result__));
extern char *qfcvt (long double __value, int __ndigit,
      int *__restrict __decpt, int *__restrict __sign)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (3, 4))) __attribute__ ((__warn_unused_result__));
extern char *qgcvt (long double __value, int __ndigit, char *__buf)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (3))) __attribute__ ((__warn_unused_result__));




extern int ecvt_r (double __value, int __ndigit, int *__restrict __decpt,
     int *__restrict __sign, char *__restrict __buf,
     size_t __len) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (3, 4, 5)));
extern int fcvt_r (double __value, int __ndigit, int *__restrict __decpt,
     int *__restrict __sign, char *__restrict __buf,
     size_t __len) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (3, 4, 5)));

extern int qecvt_r (long double __value, int __ndigit,
      int *__restrict __decpt, int *__restrict __sign,
      char *__restrict __buf, size_t __len)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (3, 4, 5)));
extern int qfcvt_r (long double __value, int __ndigit,
      int *__restrict __decpt, int *__restrict __sign,
      char *__restrict __buf, size_t __len)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (3, 4, 5)));





extern int mblen (const char *__s, size_t __n) __attribute__ ((__nothrow__ , __leaf__));


extern int mbtowc (wchar_t *__restrict __pwc,
     const char *__restrict __s, size_t __n) __attribute__ ((__nothrow__ , __leaf__));


extern int wctomb (char *__s, wchar_t __wchar) __attribute__ ((__nothrow__ , __leaf__));



extern size_t mbstowcs (wchar_t *__restrict __pwcs,
   const char *__restrict __s, size_t __n) __attribute__ ((__nothrow__ , __leaf__))
    __attribute__ ((__access__ (__read_only__, 2)));

extern size_t wcstombs (char *__restrict __s,
   const wchar_t *__restrict __pwcs, size_t __n)
     __attribute__ ((__nothrow__ , __leaf__))
  __attribute__ ((__access__ (__write_only__, 1, 3)))
  __attribute__ ((__access__ (__read_only__, 2)));






extern int rpmatch (const char *__response) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1))) __attribute__ ((__warn_unused_result__));
# 967 "/usr/include/stdlib.h" 3 4
extern int getsubopt (char **__restrict __optionp,
        char *const *__restrict __tokens,
        char **__restrict __valuep)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2, 3))) __attribute__ ((__warn_unused_result__));







extern int posix_openpt (int __oflag) __attribute__ ((__warn_unused_result__));







extern int grantpt (int __fd) __attribute__ ((__nothrow__ , __leaf__));



extern int unlockpt (int __fd) __attribute__ ((__nothrow__ , __leaf__));




extern char *ptsname (int __fd) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__warn_unused_result__));
# 1013 "/usr/include/stdlib.h" 3 4
extern int getloadavg (double __loadavg[], int __nelem)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));
# 1023 "/usr/include/stdlib.h" 3 4
# 1 "/usr/include/aarch64-linux-gnu/bits/stdlib-float.h" 1 3 4
# 24 "/usr/include/aarch64-linux-gnu/bits/stdlib-float.h" 3 4
extern __inline __attribute__ ((__gnu_inline__)) double
__attribute__ ((__nothrow__ , __leaf__)) atof (const char *__nptr)
{
  return strtod (__nptr, (char **) ((void *)0));
}
# 1024 "/usr/include/stdlib.h" 2 3 4



# 1 "/usr/include/aarch64-linux-gnu/bits/stdlib.h" 1 3 4
# 23 "/usr/include/aarch64-linux-gnu/bits/stdlib.h" 3 4
extern char *__realpath_chk (const char *__restrict __name,
        char *__restrict __resolved,
        size_t __resolvedlen) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__warn_unused_result__));
extern char *__realpath_alias (const char *__restrict __name, char *__restrict __resolved) __asm__ ("" "realpath") __attribute__ ((__nothrow__ , __leaf__))

                                                 __attribute__ ((__warn_unused_result__));
extern char *__realpath_chk_warn (const char *__restrict __name, char *__restrict __resolved, size_t __resolvedlen) __asm__ ("" "__realpath_chk") __attribute__ ((__nothrow__ , __leaf__))


                                                __attribute__ ((__warn_unused_result__))
     __attribute__((__warning__ ("second argument of realpath must be either NULL or at " "least PATH_MAX bytes long buffer")))
                                      ;

extern __inline __attribute__ ((__always_inline__)) __attribute__ ((__gnu_inline__)) __attribute__ ((__artificial__)) __attribute__ ((__warn_unused_result__)) char *
__attribute__ ((__nothrow__ , __leaf__)) realpath (const char *__restrict __name, char *__restrict __resolved)
{
  size_t sz = __builtin_object_size (__resolved, 2 > 1);

  if (sz == (size_t) -1)
    return __realpath_alias (__name, __resolved);





  return __realpath_chk (__name, __resolved, sz);
}


extern int __ptsname_r_chk (int __fd, char *__buf, size_t __buflen,
       size_t __nreal) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (2)))
    __attribute__ ((__access__ (__write_only__, 2, 3)));
extern int __ptsname_r_alias (int __fd, char *__buf, size_t __buflen) __asm__ ("" "ptsname_r") __attribute__ ((__nothrow__ , __leaf__))

     __attribute__ ((__nonnull__ (2))) __attribute__ ((__access__ (__write_only__, 2, 3)));
extern int __ptsname_r_chk_warn (int __fd, char *__buf, size_t __buflen, size_t __nreal) __asm__ ("" "__ptsname_r_chk") __attribute__ ((__nothrow__ , __leaf__))


     __attribute__ ((__nonnull__ (2))) __attribute__((__warning__ ("ptsname_r called with buflen bigger than " "size of buf")))
                   ;

extern __inline __attribute__ ((__always_inline__)) __attribute__ ((__gnu_inline__)) __attribute__ ((__artificial__)) int
__attribute__ ((__nothrow__ , __leaf__)) ptsname_r (int __fd, char *__buf, size_t __buflen)
{
  return ((((__typeof (__buflen)) 0 < (__typeof (__buflen)) -1 || (__builtin_constant_p (__buflen) && (__buflen) > 0)) && __builtin_constant_p ((((long unsigned int) (__buflen)) <= (__builtin_object_size (__buf, 2 > 1)) / (sizeof (char)))) && (((long unsigned int) (__buflen)) <= (__builtin_object_size (__buf, 2 > 1)) / (sizeof (char)))) ? __ptsname_r_alias (__fd, __buf, __buflen) : ((((__typeof (__buflen)) 0 < (__typeof (__buflen)) -1 || (__builtin_constant_p (__buflen) && (__buflen) > 0)) && __builtin_constant_p ((((long unsigned int) (__buflen)) <= (__builtin_object_size (__buf, 2 > 1)) / (sizeof (char)))) && !(((long unsigned int) (__buflen)) <= (__builtin_object_size (__buf, 2 > 1)) / (sizeof (char)))) ? __ptsname_r_chk_warn (__fd, __buf, __buflen, __builtin_object_size (__buf, 2 > 1)) : __ptsname_r_chk (__fd, __buf, __buflen, __builtin_object_size (__buf, 2 > 1))))

                           ;
}


extern int __wctomb_chk (char *__s, wchar_t __wchar, size_t __buflen)
  __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__warn_unused_result__));
extern int __wctomb_alias (char *__s, wchar_t __wchar) __asm__ ("" "wctomb") __attribute__ ((__nothrow__ , __leaf__))
              __attribute__ ((__warn_unused_result__));

extern __inline __attribute__ ((__always_inline__)) __attribute__ ((__gnu_inline__)) __attribute__ ((__artificial__)) __attribute__ ((__warn_unused_result__)) int
__attribute__ ((__nothrow__ , __leaf__)) wctomb (char *__s, wchar_t __wchar)
{







  if (__builtin_object_size (__s, 2 > 1) != (size_t) -1
      && 16 > __builtin_object_size (__s, 2 > 1))
    return __wctomb_chk (__s, __wchar, __builtin_object_size (__s, 2 > 1));
  return __wctomb_alias (__s, __wchar);
}


extern size_t __mbstowcs_chk (wchar_t *__restrict __dst,
         const char *__restrict __src,
         size_t __len, size_t __dstlen) __attribute__ ((__nothrow__ , __leaf__))
    __attribute__ ((__access__ (__write_only__, 1, 3))) __attribute__ ((__access__ (__read_only__, 2)));
extern size_t __mbstowcs_alias (wchar_t *__restrict __dst, const char *__restrict __src, size_t __len) __asm__ ("" "mbstowcs") __attribute__ ((__nothrow__ , __leaf__))



    __attribute__ ((__access__ (__write_only__, 1, 3))) __attribute__ ((__access__ (__read_only__, 2)));
extern size_t __mbstowcs_chk_warn (wchar_t *__restrict __dst, const char *__restrict __src, size_t __len, size_t __dstlen) __asm__ ("" "__mbstowcs_chk") __attribute__ ((__nothrow__ , __leaf__))



     __attribute__((__warning__ ("mbstowcs called with dst buffer smaller than len " "* sizeof (wchar_t)")))
                        ;

extern __inline __attribute__ ((__always_inline__)) __attribute__ ((__gnu_inline__)) __attribute__ ((__artificial__)) size_t
__attribute__ ((__nothrow__ , __leaf__)) mbstowcs (wchar_t *__restrict __dst, const char *__restrict __src, size_t __len)

{
  return ((((__typeof (__len)) 0 < (__typeof (__len)) -1 || (__builtin_constant_p (__len) && (__len) > 0)) && __builtin_constant_p ((((long unsigned int) (__len)) <= (__builtin_object_size (__dst, 2 > 1)) / (sizeof (wchar_t)))) && (((long unsigned int) (__len)) <= (__builtin_object_size (__dst, 2 > 1)) / (sizeof (wchar_t)))) ? __mbstowcs_alias (__dst, __src, __len) : ((((__typeof (__len)) 0 < (__typeof (__len)) -1 || (__builtin_constant_p (__len) && (__len) > 0)) && __builtin_constant_p ((((long unsigned int) (__len)) <= (__builtin_object_size (__dst, 2 > 1)) / (sizeof (wchar_t)))) && !(((long unsigned int) (__len)) <= (__builtin_object_size (__dst, 2 > 1)) / (sizeof (wchar_t)))) ? __mbstowcs_chk_warn (__dst, __src, __len, (__builtin_object_size (__dst, 2 > 1)) / (sizeof (wchar_t))) : __mbstowcs_chk (__dst, __src, __len, (__builtin_object_size (__dst, 2 > 1)) / (sizeof (wchar_t)))))

                           ;
}


extern size_t __wcstombs_chk (char *__restrict __dst,
         const wchar_t *__restrict __src,
         size_t __len, size_t __dstlen) __attribute__ ((__nothrow__ , __leaf__))
  __attribute__ ((__access__ (__write_only__, 1, 3))) __attribute__ ((__access__ (__read_only__, 2)));
extern size_t __wcstombs_alias (char *__restrict __dst, const wchar_t *__restrict __src, size_t __len) __asm__ ("" "wcstombs") __attribute__ ((__nothrow__ , __leaf__))



  __attribute__ ((__access__ (__write_only__, 1, 3))) __attribute__ ((__access__ (__read_only__, 2)));
extern size_t __wcstombs_chk_warn (char *__restrict __dst, const wchar_t *__restrict __src, size_t __len, size_t __dstlen) __asm__ ("" "__wcstombs_chk") __attribute__ ((__nothrow__ , __leaf__))



     __attribute__((__warning__ ("wcstombs called with dst buffer smaller than len")));

extern __inline __attribute__ ((__always_inline__)) __attribute__ ((__gnu_inline__)) __attribute__ ((__artificial__)) size_t
__attribute__ ((__nothrow__ , __leaf__)) wcstombs (char *__restrict __dst, const wchar_t *__restrict __src, size_t __len)

{
  return ((((__typeof (__len)) 0 < (__typeof (__len)) -1 || (__builtin_constant_p (__len) && (__len) > 0)) && __builtin_constant_p ((((long unsigned int) (__len)) <= (__builtin_object_size (__dst, 2 > 1)) / (sizeof (char)))) && (((long unsigned int) (__len)) <= (__builtin_object_size (__dst, 2 > 1)) / (sizeof (char)))) ? __wcstombs_alias (__dst, __src, __len) : ((((__typeof (__len)) 0 < (__typeof (__len)) -1 || (__builtin_constant_p (__len) && (__len) > 0)) && __builtin_constant_p ((((long unsigned int) (__len)) <= (__builtin_object_size (__dst, 2 > 1)) / (sizeof (char)))) && !(((long unsigned int) (__len)) <= (__builtin_object_size (__dst, 2 > 1)) / (sizeof (char)))) ? __wcstombs_chk_warn (__dst, __src, __len, __builtin_object_size (__dst, 2 > 1)) : __wcstombs_chk (__dst, __src, __len, __builtin_object_size (__dst, 2 > 1))))

                         ;
}
# 1028 "/usr/include/stdlib.h" 2 3 4








# 5 "/ejdb/src/jql/jqp.c" 2
# 1 "/usr/include/string.h" 1 3 4
# 26 "/usr/include/string.h" 3 4
# 1 "/usr/include/aarch64-linux-gnu/bits/libc-header-start.h" 1 3 4
# 27 "/usr/include/string.h" 2 3 4






# 1 "/usr/lib/gcc/aarch64-linux-gnu/11/include/stddef.h" 1 3 4
# 34 "/usr/include/string.h" 2 3 4
# 43 "/usr/include/string.h" 3 4
extern void *memcpy (void *__restrict __dest, const void *__restrict __src,
       size_t __n) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));


extern void *memmove (void *__dest, const void *__src, size_t __n)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));





extern void *memccpy (void *__restrict __dest, const void *__restrict __src,
        int __c, size_t __n)
    __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2))) __attribute__ ((__access__ (__write_only__, 1, 4)));




extern void *memset (void *__s, int __c, size_t __n) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));


extern int memcmp (const void *__s1, const void *__s2, size_t __n)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__pure__)) __attribute__ ((__nonnull__ (1, 2)));
# 80 "/usr/include/string.h" 3 4
extern int __memcmpeq (const void *__s1, const void *__s2, size_t __n)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__pure__)) __attribute__ ((__nonnull__ (1, 2)));
# 107 "/usr/include/string.h" 3 4
extern void *memchr (const void *__s, int __c, size_t __n)
      __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__pure__)) __attribute__ ((__nonnull__ (1)));
# 141 "/usr/include/string.h" 3 4
extern char *strcpy (char *__restrict __dest, const char *__restrict __src)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));

extern char *strncpy (char *__restrict __dest,
        const char *__restrict __src, size_t __n)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));


extern char *strcat (char *__restrict __dest, const char *__restrict __src)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));

extern char *strncat (char *__restrict __dest, const char *__restrict __src,
        size_t __n) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));


extern int strcmp (const char *__s1, const char *__s2)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__pure__)) __attribute__ ((__nonnull__ (1, 2)));

extern int strncmp (const char *__s1, const char *__s2, size_t __n)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__pure__)) __attribute__ ((__nonnull__ (1, 2)));


extern int strcoll (const char *__s1, const char *__s2)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__pure__)) __attribute__ ((__nonnull__ (1, 2)));

extern size_t strxfrm (char *__restrict __dest,
         const char *__restrict __src, size_t __n)
    __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (2))) __attribute__ ((__access__ (__write_only__, 1, 3)));



# 1 "/usr/include/aarch64-linux-gnu/bits/types/locale_t.h" 1 3 4
# 22 "/usr/include/aarch64-linux-gnu/bits/types/locale_t.h" 3 4
# 1 "/usr/include/aarch64-linux-gnu/bits/types/__locale_t.h" 1 3 4
# 27 "/usr/include/aarch64-linux-gnu/bits/types/__locale_t.h" 3 4
struct __locale_struct
{

  struct __locale_data *__locales[13];


  const unsigned short int *__ctype_b;
  const int *__ctype_tolower;
  const int *__ctype_toupper;


  const char *__names[13];
};

typedef struct __locale_struct *__locale_t;
# 23 "/usr/include/aarch64-linux-gnu/bits/types/locale_t.h" 2 3 4

typedef __locale_t locale_t;
# 173 "/usr/include/string.h" 2 3 4


extern int strcoll_l (const char *__s1, const char *__s2, locale_t __l)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__pure__)) __attribute__ ((__nonnull__ (1, 2, 3)));


extern size_t strxfrm_l (char *__dest, const char *__src, size_t __n,
    locale_t __l) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (2, 4)))
     __attribute__ ((__access__ (__write_only__, 1, 3)));





extern char *strdup (const char *__s)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__malloc__)) __attribute__ ((__nonnull__ (1)));






extern char *strndup (const char *__string, size_t __n)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__malloc__)) __attribute__ ((__nonnull__ (1)));
# 246 "/usr/include/string.h" 3 4
extern char *strchr (const char *__s, int __c)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__pure__)) __attribute__ ((__nonnull__ (1)));
# 273 "/usr/include/string.h" 3 4
extern char *strrchr (const char *__s, int __c)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__pure__)) __attribute__ ((__nonnull__ (1)));
# 293 "/usr/include/string.h" 3 4
extern size_t strcspn (const char *__s, const char *__reject)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__pure__)) __attribute__ ((__nonnull__ (1, 2)));


extern size_t strspn (const char *__s, const char *__accept)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__pure__)) __attribute__ ((__nonnull__ (1, 2)));
# 323 "/usr/include/string.h" 3 4
extern char *strpbrk (const char *__s, const char *__accept)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__pure__)) __attribute__ ((__nonnull__ (1, 2)));
# 350 "/usr/include/string.h" 3 4
extern char *strstr (const char *__haystack, const char *__needle)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__pure__)) __attribute__ ((__nonnull__ (1, 2)));




extern char *strtok (char *__restrict __s, const char *__restrict __delim)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (2)));



extern char *__strtok_r (char *__restrict __s,
    const char *__restrict __delim,
    char **__restrict __save_ptr)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (2, 3)));

extern char *strtok_r (char *__restrict __s, const char *__restrict __delim,
         char **__restrict __save_ptr)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (2, 3)));
# 407 "/usr/include/string.h" 3 4
extern size_t strlen (const char *__s)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__pure__)) __attribute__ ((__nonnull__ (1)));




extern size_t strnlen (const char *__string, size_t __maxlen)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__pure__)) __attribute__ ((__nonnull__ (1)));




extern char *strerror (int __errnum) __attribute__ ((__nothrow__ , __leaf__));
# 432 "/usr/include/string.h" 3 4
extern int strerror_r (int __errnum, char *__buf, size_t __buflen) __asm__ ("" "__xpg_strerror_r") __attribute__ ((__nothrow__ , __leaf__))

                        __attribute__ ((__nonnull__ (2)))
    __attribute__ ((__access__ (__write_only__, 2, 3)));
# 458 "/usr/include/string.h" 3 4
extern char *strerror_l (int __errnum, locale_t __l) __attribute__ ((__nothrow__ , __leaf__));



# 1 "/usr/include/strings.h" 1 3 4
# 23 "/usr/include/strings.h" 3 4
# 1 "/usr/lib/gcc/aarch64-linux-gnu/11/include/stddef.h" 1 3 4
# 24 "/usr/include/strings.h" 2 3 4










extern int bcmp (const void *__s1, const void *__s2, size_t __n)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__pure__)) __attribute__ ((__nonnull__ (1, 2)));


extern void bcopy (const void *__src, void *__dest, size_t __n)
  __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));


extern void bzero (void *__s, size_t __n) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));
# 68 "/usr/include/strings.h" 3 4
extern char *index (const char *__s, int __c)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__pure__)) __attribute__ ((__nonnull__ (1)));
# 96 "/usr/include/strings.h" 3 4
extern char *rindex (const char *__s, int __c)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__pure__)) __attribute__ ((__nonnull__ (1)));






extern int ffs (int __i) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__const__));





extern int ffsl (long int __l) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__const__));
__extension__ extern int ffsll (long long int __ll)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__const__));



extern int strcasecmp (const char *__s1, const char *__s2)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__pure__)) __attribute__ ((__nonnull__ (1, 2)));


extern int strncasecmp (const char *__s1, const char *__s2, size_t __n)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__pure__)) __attribute__ ((__nonnull__ (1, 2)));






extern int strcasecmp_l (const char *__s1, const char *__s2, locale_t __loc)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__pure__)) __attribute__ ((__nonnull__ (1, 2, 3)));



extern int strncasecmp_l (const char *__s1, const char *__s2,
     size_t __n, locale_t __loc)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__pure__)) __attribute__ ((__nonnull__ (1, 2, 4)));








# 1 "/usr/include/aarch64-linux-gnu/bits/strings_fortified.h" 1 3 4
# 22 "/usr/include/aarch64-linux-gnu/bits/strings_fortified.h" 3 4
extern __inline __attribute__ ((__always_inline__)) __attribute__ ((__gnu_inline__)) __attribute__ ((__artificial__)) void
__attribute__ ((__nothrow__ , __leaf__)) bcopy (const void *__src, void *__dest, size_t __len)
{
  (void) __builtin___memmove_chk (__dest, __src, __len,
      __builtin_object_size (__dest, 0));
}

extern __inline __attribute__ ((__always_inline__)) __attribute__ ((__gnu_inline__)) __attribute__ ((__artificial__)) void
__attribute__ ((__nothrow__ , __leaf__)) bzero (void *__dest, size_t __len)
{
  (void) __builtin___memset_chk (__dest, '\0', __len,
     __builtin_object_size (__dest, 0));
}
# 145 "/usr/include/strings.h" 2 3 4
# 463 "/usr/include/string.h" 2 3 4



extern void explicit_bzero (void *__s, size_t __n) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)))
    __attribute__ ((__access__ (__write_only__, 1, 2)));



extern char *strsep (char **__restrict __stringp,
       const char *__restrict __delim)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));




extern char *strsignal (int __sig) __attribute__ ((__nothrow__ , __leaf__));
# 489 "/usr/include/string.h" 3 4
extern char *__stpcpy (char *__restrict __dest, const char *__restrict __src)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));
extern char *stpcpy (char *__restrict __dest, const char *__restrict __src)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));



extern char *__stpncpy (char *__restrict __dest,
   const char *__restrict __src, size_t __n)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));
extern char *stpncpy (char *__restrict __dest,
        const char *__restrict __src, size_t __n)
     __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));
# 535 "/usr/include/string.h" 3 4
# 1 "/usr/include/aarch64-linux-gnu/bits/string_fortified.h" 1 3 4
# 25 "/usr/include/aarch64-linux-gnu/bits/string_fortified.h" 3 4
extern __inline __attribute__ ((__always_inline__)) __attribute__ ((__gnu_inline__)) __attribute__ ((__artificial__)) void *
__attribute__ ((__nothrow__ , __leaf__)) memcpy (void *__restrict __dest, const void *__restrict __src, size_t __len)

{
  return __builtin___memcpy_chk (__dest, __src, __len,
     __builtin_object_size (__dest, 0));
}

extern __inline __attribute__ ((__always_inline__)) __attribute__ ((__gnu_inline__)) __attribute__ ((__artificial__)) void *
__attribute__ ((__nothrow__ , __leaf__)) memmove (void *__dest, const void *__src, size_t __len)
{
  return __builtin___memmove_chk (__dest, __src, __len,
      __builtin_object_size (__dest, 0));
}
# 56 "/usr/include/aarch64-linux-gnu/bits/string_fortified.h" 3 4
extern __inline __attribute__ ((__always_inline__)) __attribute__ ((__gnu_inline__)) __attribute__ ((__artificial__)) void *
__attribute__ ((__nothrow__ , __leaf__)) memset (void *__dest, int __ch, size_t __len)
{
  return __builtin___memset_chk (__dest, __ch, __len,
     __builtin_object_size (__dest, 0));
}




void __explicit_bzero_chk (void *__dest, size_t __len, size_t __destlen)
  __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1))) __attribute__ ((__access__ (__write_only__, 1, 2)));

extern __inline __attribute__ ((__always_inline__)) __attribute__ ((__gnu_inline__)) __attribute__ ((__artificial__)) void
__attribute__ ((__nothrow__ , __leaf__)) explicit_bzero (void *__dest, size_t __len)
{
  __explicit_bzero_chk (__dest, __len, __builtin_object_size (__dest, 0));
}


extern __inline __attribute__ ((__always_inline__)) __attribute__ ((__gnu_inline__)) __attribute__ ((__artificial__)) char *
__attribute__ ((__nothrow__ , __leaf__)) strcpy (char *__restrict __dest, const char *__restrict __src)
{
  return __builtin___strcpy_chk (__dest, __src, __builtin_object_size (__dest, 2 > 1));
}


extern __inline __attribute__ ((__always_inline__)) __attribute__ ((__gnu_inline__)) __attribute__ ((__artificial__)) char *
__attribute__ ((__nothrow__ , __leaf__)) stpcpy (char *__restrict __dest, const char *__restrict __src)
{
  return __builtin___stpcpy_chk (__dest, __src, __builtin_object_size (__dest, 2 > 1));
}



extern __inline __attribute__ ((__always_inline__)) __attribute__ ((__gnu_inline__)) __attribute__ ((__artificial__)) char *
__attribute__ ((__nothrow__ , __leaf__)) strncpy (char *__restrict __dest, const char *__restrict __src, size_t __len)

{
  return __builtin___strncpy_chk (__dest, __src, __len,
      __builtin_object_size (__dest, 2 > 1));
}



extern __inline __attribute__ ((__always_inline__)) __attribute__ ((__gnu_inline__)) __attribute__ ((__artificial__)) char *
__attribute__ ((__nothrow__ , __leaf__)) stpncpy (char *__dest, const char *__src, size_t __n)
{
  return __builtin___stpncpy_chk (__dest, __src, __n,
      __builtin_object_size (__dest, 2 > 1));
}
# 127 "/usr/include/aarch64-linux-gnu/bits/string_fortified.h" 3 4
extern __inline __attribute__ ((__always_inline__)) __attribute__ ((__gnu_inline__)) __attribute__ ((__artificial__)) char *
__attribute__ ((__nothrow__ , __leaf__)) strcat (char *__restrict __dest, const char *__restrict __src)
{
  return __builtin___strcat_chk (__dest, __src, __builtin_object_size (__dest, 2 > 1));
}


extern __inline __attribute__ ((__always_inline__)) __attribute__ ((__gnu_inline__)) __attribute__ ((__artificial__)) char *
__attribute__ ((__nothrow__ , __leaf__)) strncat (char *__restrict __dest, const char *__restrict __src, size_t __len)

{
  return __builtin___strncat_chk (__dest, __src, __len,
      __builtin_object_size (__dest, 2 > 1));
}
# 536 "/usr/include/string.h" 2 3 4




# 6 "/ejdb/src/jql/jqp.c" 2
# 1 "./jqp.leg"

# 1 "/ejdb/src/jql/jqp.h" 1

       
# 32 "/ejdb/src/jql/jqp.h"
# 1 "/ejdb/src/jql/jql.h" 1
       
# 40 "/ejdb/src/jql/jql.h"
# 1 "/ejdb/build/include/ejdb2/iowow/iwjson.h" 1
       
# 52 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
# 1 "/ejdb/build/include/ejdb2/iowow/iwlog.h" 1
       
# 57 "/ejdb/build/include/ejdb2/iowow/iwlog.h"
# 1 "/ejdb/build/include/ejdb2/iowow/iowow.h" 1
       
# 31 "/ejdb/build/include/ejdb2/iowow/iowow.h"
# 1 "/ejdb/build/include/ejdb2/iowow/basedefs.h" 1
# 117 "/ejdb/build/include/ejdb2/iowow/basedefs.h"

# 117 "/ejdb/build/include/ejdb2/iowow/basedefs.h"
typedef int HANDLE;
# 359 "/ejdb/build/include/ejdb2/iowow/basedefs.h"
# 1 "/usr/lib/gcc/aarch64-linux-gnu/11/include/stdint.h" 1 3 4
# 9 "/usr/lib/gcc/aarch64-linux-gnu/11/include/stdint.h" 3 4
# 1 "/usr/include/stdint.h" 1 3 4
# 26 "/usr/include/stdint.h" 3 4
# 1 "/usr/include/aarch64-linux-gnu/bits/libc-header-start.h" 1 3 4
# 27 "/usr/include/stdint.h" 2 3 4

# 1 "/usr/include/aarch64-linux-gnu/bits/wchar.h" 1 3 4
# 29 "/usr/include/stdint.h" 2 3 4
# 1 "/usr/include/aarch64-linux-gnu/bits/wordsize.h" 1 3 4
# 30 "/usr/include/stdint.h" 2 3 4







# 1 "/usr/include/aarch64-linux-gnu/bits/stdint-uintn.h" 1 3 4
# 24 "/usr/include/aarch64-linux-gnu/bits/stdint-uintn.h" 3 4

# 24 "/usr/include/aarch64-linux-gnu/bits/stdint-uintn.h" 3 4
typedef __uint8_t uint8_t;
typedef __uint16_t uint16_t;
typedef __uint32_t uint32_t;
typedef __uint64_t uint64_t;
# 38 "/usr/include/stdint.h" 2 3 4





typedef __int_least8_t int_least8_t;
typedef __int_least16_t int_least16_t;
typedef __int_least32_t int_least32_t;
typedef __int_least64_t int_least64_t;


typedef __uint_least8_t uint_least8_t;
typedef __uint_least16_t uint_least16_t;
typedef __uint_least32_t uint_least32_t;
typedef __uint_least64_t uint_least64_t;





typedef signed char int_fast8_t;

typedef long int int_fast16_t;
typedef long int int_fast32_t;
typedef long int int_fast64_t;
# 71 "/usr/include/stdint.h" 3 4
typedef unsigned char uint_fast8_t;

typedef unsigned long int uint_fast16_t;
typedef unsigned long int uint_fast32_t;
typedef unsigned long int uint_fast64_t;
# 87 "/usr/include/stdint.h" 3 4
typedef long int intptr_t;


typedef unsigned long int uintptr_t;
# 101 "/usr/include/stdint.h" 3 4
typedef __intmax_t intmax_t;
typedef __uintmax_t uintmax_t;
# 10 "/usr/lib/gcc/aarch64-linux-gnu/11/include/stdint.h" 2 3 4
# 360 "/ejdb/build/include/ejdb2/iowow/basedefs.h" 2
# 1 "/usr/lib/gcc/aarch64-linux-gnu/11/include/stddef.h" 1 3 4
# 143 "/usr/lib/gcc/aarch64-linux-gnu/11/include/stddef.h" 3 4
typedef long int ptrdiff_t;
# 415 "/usr/lib/gcc/aarch64-linux-gnu/11/include/stddef.h" 3 4
typedef struct {
  long long __max_align_ll __attribute__((__aligned__(__alignof__(long long))));
  long double __max_align_ld __attribute__((__aligned__(__alignof__(long double))));
# 426 "/usr/lib/gcc/aarch64-linux-gnu/11/include/stddef.h" 3 4
} max_align_t;
# 361 "/ejdb/build/include/ejdb2/iowow/basedefs.h" 2
# 1 "/usr/lib/gcc/aarch64-linux-gnu/11/include/stdbool.h" 1 3 4
# 362 "/ejdb/build/include/ejdb2/iowow/basedefs.h" 2
# 387 "/ejdb/build/include/ejdb2/iowow/basedefs.h"

# 387 "/ejdb/build/include/ejdb2/iowow/basedefs.h"
typedef uint64_t iwrc;




typedef struct IW_RNUM {
  int32_t n;
  int32_t dn;
} IW_RNUM;
# 32 "/ejdb/build/include/ejdb2/iowow/iowow.h" 2






__attribute__((visibility("default"))) __attribute__((warn_unused_result)) iwrc iw_init(void);

__attribute__((visibility("default"))) const char *iowow_version_full(void);

__attribute__((visibility("default"))) unsigned int iowow_version_major(void);

__attribute__((visibility("default"))) unsigned int iowow_version_minor(void);

__attribute__((visibility("default"))) unsigned int iowow_version_patch(void);



# 58 "/ejdb/build/include/ejdb2/iowow/iwlog.h" 2


# 1 "/usr/lib/gcc/aarch64-linux-gnu/11/include/stdarg.h" 1 3 4
# 61 "/ejdb/build/include/ejdb2/iowow/iwlog.h" 2





# 1 "/usr/include/locale.h" 1 3 4
# 28 "/usr/include/locale.h" 3 4
# 1 "/usr/lib/gcc/aarch64-linux-gnu/11/include/stddef.h" 1 3 4
# 29 "/usr/include/locale.h" 2 3 4
# 1 "/usr/include/aarch64-linux-gnu/bits/locale.h" 1 3 4
# 30 "/usr/include/locale.h" 2 3 4


# 51 "/usr/include/locale.h" 3 4

# 51 "/usr/include/locale.h" 3 4
struct lconv
{


  char *decimal_point;
  char *thousands_sep;





  char *grouping;





  char *int_curr_symbol;
  char *currency_symbol;
  char *mon_decimal_point;
  char *mon_thousands_sep;
  char *mon_grouping;
  char *positive_sign;
  char *negative_sign;
  char int_frac_digits;
  char frac_digits;

  char p_cs_precedes;

  char p_sep_by_space;

  char n_cs_precedes;

  char n_sep_by_space;






  char p_sign_posn;
  char n_sign_posn;


  char int_p_cs_precedes;

  char int_p_sep_by_space;

  char int_n_cs_precedes;

  char int_n_sep_by_space;






  char int_p_sign_posn;
  char int_n_sign_posn;
# 118 "/usr/include/locale.h" 3 4
};



extern char *setlocale (int __category, const char *__locale) __attribute__ ((__nothrow__ , __leaf__));


extern struct lconv *localeconv (void) __attribute__ ((__nothrow__ , __leaf__));
# 141 "/usr/include/locale.h" 3 4
extern locale_t newlocale (int __category_mask, const char *__locale,
      locale_t __base) __attribute__ ((__nothrow__ , __leaf__));
# 176 "/usr/include/locale.h" 3 4
extern locale_t duplocale (locale_t __dataset) __attribute__ ((__nothrow__ , __leaf__));



extern void freelocale (locale_t __dataset) __attribute__ ((__nothrow__ , __leaf__));






extern locale_t uselocale (locale_t __dataset) __attribute__ ((__nothrow__ , __leaf__));








# 67 "/ejdb/build/include/ejdb2/iowow/iwlog.h" 2









# 75 "/ejdb/build/include/ejdb2/iowow/iwlog.h"
typedef enum {
  IW_OK = 0,
  IW_ERROR_FAIL = 70000,
  IW_ERROR_ERRNO,
  IW_ERROR_IO_ERRNO,
  IW_ERROR_AGAIN,
  IW_ERROR_NOT_EXISTS,
  IW_ERROR_READONLY,
  IW_ERROR_ALREADY_OPENED,
  IW_ERROR_THREADING,
  IW_ERROR_THREADING_ERRNO,
  IW_ERROR_ASSERTION,
  IW_ERROR_INVALID_HANDLE,
  IW_ERROR_OUT_OF_BOUNDS,
  IW_ERROR_NOT_IMPLEMENTED,
  IW_ERROR_ALLOC,
  IW_ERROR_INVALID_STATE,
  IW_ERROR_NOT_ALIGNED,
  IW_ERROR_FALSE,
  IW_ERROR_INVALID_ARGS,
  IW_ERROR_OVERFLOW,
  IW_ERROR_INVALID_VALUE,
  IW_ERROR_UNEXPECTED_RESPONSE,
  IW_ERROR_NOT_ALLOWED,
  IW_ERROR_UNSUPPORTED,
  IW_ERROR_EOF,
  IW_ERROR_UNEXPECTED_INPUT,
  IW_ERROR_IO,
  IW_ERROR_INVALID_CONFIG,
} iw_ecode;





typedef enum {
  IWLOG_ERROR = 0,
  IWLOG_WARN = 1,
  IWLOG_INFO = 2,
  IWLOG_VERBOSE = 3,
  IWLOG_DEBUG = 4,
} iwlog_lvl;





typedef struct {
  FILE *out;
} IWLOG_DEFAULT_OPTS;
# 141 "/ejdb/build/include/ejdb2/iowow/iwlog.h"
typedef iwrc (*IWLOG_FN)(
  FILE *out, locale_t locale, iwlog_lvl lvl, iwrc ecode,
  int errno_code, int werror_code, const char *file,
  int line, uint64_t ts, void *opts, const char *fmt,
  va_list argp, 
# 145 "/ejdb/build/include/ejdb2/iowow/iwlog.h" 3 4
               _Bool 
# 145 "/ejdb/build/include/ejdb2/iowow/iwlog.h"
                    no_va);
# 155 "/ejdb/build/include/ejdb2/iowow/iwlog.h"
typedef const char* (*IWLOG_ECODE_FN)(locale_t locale, uint32_t ecode);







__attribute__((visibility("default"))) iwrc iwrc_set_errno(iwrc rc, int errno_code);







__attribute__((visibility("default"))) uint32_t iwrc_strip_errno(iwrc *rc);
# 197 "/ejdb/build/include/ejdb2/iowow/iwlog.h"
__attribute__((visibility("default"))) void iwrc_strip_code(iwrc *rc);
# 206 "/ejdb/build/include/ejdb2/iowow/iwlog.h"
__attribute__((visibility("default"))) void iwlog_set_logfn(IWLOG_FN fp, void *opts);





__attribute__((visibility("default"))) IWLOG_FN iwlog_get_logfn(void);






__attribute__((visibility("default"))) const char* iwlog_ecode_explained(iwrc ecode);







__attribute__((visibility("default"))) iwrc iwlog_register_ecodefn(IWLOG_ECODE_FN fp);
# 238 "/ejdb/build/include/ejdb2/iowow/iwlog.h"
__attribute__((visibility("default"))) iwrc iwlog(
  iwlog_lvl lvl, iwrc ecode, const char *file, int line,
  const char *fmt, ...) __attribute__((format(__printf__, 5, 6)));

__attribute__((visibility("default"))) void iwlog2(
  iwlog_lvl lvl, iwrc ecode, const char *file, int line,
  const char *fmt, ...) __attribute__((format(__printf__, 5, 6)));

__attribute__((visibility("default"))) void iwlog3(
  iwlog_lvl lvl, iwrc ecode, const char *file, int line,
  const char *data);

__attribute__((visibility("default"))) iwrc iwlog_va(
  FILE *out, iwlog_lvl lvl, iwrc ecode, const char *file, int line,
  const char *fmt, va_list argp, 
# 252 "/ejdb/build/include/ejdb2/iowow/iwlog.h" 3 4
                                _Bool 
# 252 "/ejdb/build/include/ejdb2/iowow/iwlog.h"
                                     no_va);
# 358 "/ejdb/build/include/ejdb2/iowow/iwlog.h"
__attribute__((visibility("default"))) iwrc iwlog_init(void);






# 53 "/ejdb/build/include/ejdb2/iowow/iwjson.h" 2
# 1 "/ejdb/build/include/ejdb2/iowow/iwpool.h" 1
       
# 34 "/ejdb/build/include/ejdb2/iowow/iwpool.h"






struct _IWPOOL;
typedef struct _IWPOOL IWPOOL;
# 50 "/ejdb/build/include/ejdb2/iowow/iwpool.h"
__attribute__((visibility("default"))) __attribute__((malloc)) __attribute__((warn_unused_result)) IWPOOL* iwpool_create(size_t siz);





__attribute__((visibility("default"))) __attribute__((malloc)) __attribute__((warn_unused_result)) IWPOOL* iwpool_create_empty(void);
# 65 "/ejdb/build/include/ejdb2/iowow/iwpool.h"
__attribute__((visibility("default"))) void* iwpool_alloc(size_t siz, IWPOOL *pool);
# 75 "/ejdb/build/include/ejdb2/iowow/iwpool.h"
__attribute__((visibility("default"))) void* iwpool_calloc(size_t siz, IWPOOL *pool);
# 86 "/ejdb/build/include/ejdb2/iowow/iwpool.h"
__attribute__((visibility("default"))) char* iwpool_strndup(IWPOOL *pool, const char *str, size_t len, iwrc *rcp);
# 96 "/ejdb/build/include/ejdb2/iowow/iwpool.h"
__attribute__((visibility("default"))) char* iwpool_strdup(IWPOOL *pool, const char *str, iwrc *rcp);

__attribute__((visibility("default"))) char* iwpool_strdup2(IWPOOL *pool, const char *str);

__attribute__((visibility("default"))) char* iwpool_strndup2(IWPOOL *pool, const char *str, size_t len);
# 110 "/ejdb/build/include/ejdb2/iowow/iwpool.h"
__attribute__((visibility("default"))) char* iwpool_printf(IWPOOL *pool, const char *format, ...) __attribute__((format(__printf__, 2, 3)));

__attribute__((visibility("default"))) const char** iwpool_split_string(
  IWPOOL *pool, const char *haystack,
  const char *split_chars, 
# 114 "/ejdb/build/include/ejdb2/iowow/iwpool.h" 3 4
                          _Bool 
# 114 "/ejdb/build/include/ejdb2/iowow/iwpool.h"
                               ignore_whitespace);

__attribute__((visibility("default"))) const char** iwpool_printf_split(
  IWPOOL *pool,
  const char *split_chars, 
# 118 "/ejdb/build/include/ejdb2/iowow/iwpool.h" 3 4
                          _Bool 
# 118 "/ejdb/build/include/ejdb2/iowow/iwpool.h"
                               ignore_whitespace,
  const char *format, ...) __attribute__((format(__printf__, 4, 5)));







__attribute__((visibility("default"))) void iwpool_destroy(IWPOOL *pool);






__attribute__((visibility("default"))) void iwpool_free_fn(void *pool);
# 144 "/ejdb/build/include/ejdb2/iowow/iwpool.h"
__attribute__((visibility("default"))) void iwpool_user_data_set(IWPOOL *pool, void *data, void (*free_fn)(void*));




__attribute__((visibility("default"))) void* iwpool_user_data_get(IWPOOL *pool);







__attribute__((visibility("default"))) void* iwpool_user_data_detach(IWPOOL *pool);






__attribute__((visibility("default"))) size_t iwpool_allocated_size(IWPOOL *pool);






__attribute__((visibility("default"))) size_t iwpool_used_size(IWPOOL *pool);


# 54 "/ejdb/build/include/ejdb2/iowow/iwjson.h" 2
# 1 "/ejdb/build/include/ejdb2/iowow/iwxstr.h" 1
       
# 35 "/ejdb/build/include/ejdb2/iowow/iwxstr.h"


typedef struct _IWXSTR IWXSTR;

__attribute__((visibility("default"))) __attribute__((malloc)) __attribute__((warn_unused_result)) IWXSTR* iwxstr_new(void);

__attribute__((visibility("default"))) IWXSTR* iwxstr_new2(size_t siz);

__attribute__((visibility("default"))) IWXSTR* iwxstr_new_printf(const char *format, ...) __attribute__ ((format(__printf__, 1, 2)));

__attribute__((visibility("default"))) IWXSTR* iwxstr_new_clone(const IWXSTR *xstr);

__attribute__((visibility("default"))) IWXSTR* iwxstr_wrap(char *buf, size_t size, size_t asize);

__attribute__((visibility("default"))) void iwxstr_destroy(IWXSTR *xstr);

__attribute__((visibility("default"))) __attribute__((malloc)) __attribute__((warn_unused_result)) char* iwxstr_destroy_keep_ptr(IWXSTR *xstr);

__attribute__((visibility("default"))) iwrc iwxstr_cat(IWXSTR *xstr, const void *buf, size_t size);

__attribute__((visibility("default"))) iwrc iwxstr_cat2(IWXSTR *xstr, const char *buf);

__attribute__((visibility("default"))) iwrc iwxstr_unshift(IWXSTR *xstr, const void *buf, size_t size);

__attribute__((visibility("default"))) iwrc iwxstr_vaprintf(IWXSTR *xstr, const char *format, va_list va);

__attribute__((visibility("default"))) iwrc iwxstr_printf(IWXSTR *xstr, const char *format, ...) __attribute__((format(__printf__, 2, 3)));

__attribute__((visibility("default"))) void iwxstr_shift(IWXSTR *xstr, size_t shift_size);

__attribute__((visibility("default"))) void iwxstr_pop(IWXSTR *xstr, size_t pop_size);

__attribute__((visibility("default"))) iwrc iwxstr_insert(IWXSTR *xstr, size_t pos, const void *buf, size_t size);

__attribute__((visibility("default"))) iwrc iwxstr_insert_vaprintf(IWXSTR *xstr, size_t pos, const char *format, va_list va);

__attribute__((visibility("default"))) iwrc iwxstr_insert_printf(IWXSTR *xstr, size_t pos, const char *format, ...) __attribute__((format(__printf__, 3, 4)));

__attribute__((visibility("default"))) char* iwxstr_ptr(IWXSTR *xstr);

__attribute__((visibility("default"))) iwrc iwxstr_set_size(IWXSTR *xstr, size_t size);




__attribute__((visibility("default"))) size_t iwxstr_size(IWXSTR *xstr);




__attribute__((visibility("default"))) size_t iwxstr_asize(IWXSTR *xstr);

__attribute__((visibility("default"))) void iwxstr_user_data_set(IWXSTR *xstr, void *data, void (*free_fn)(void*));

__attribute__((visibility("default"))) void* iwxstr_user_data_get(IWXSTR *xstr);

__attribute__((visibility("default"))) void* iwxstr_user_data_detach(IWXSTR *xstr);

__attribute__((visibility("default"))) void iwxstr_clear(IWXSTR *xstr);


# 55 "/ejdb/build/include/ejdb2/iowow/iwjson.h" 2







struct _JBL;
typedef struct _JBL*JBL;

typedef enum {
  _JBL_ERROR_START = (70000 + 6000UL),
  JBL_ERROR_INVALID_BUFFER,
  JBL_ERROR_CREATION,
  JBL_ERROR_INVALID,
  JBL_ERROR_PARSE_JSON,
  JBL_ERROR_PARSE_UNQUOTED_STRING,
  JBL_ERROR_PARSE_INVALID_CODEPOINT,


  JBL_ERROR_PARSE_INVALID_UTF8,
  JBL_ERROR_JSON_POINTER,
  JBL_ERROR_PATH_NOTFOUND,
  JBL_ERROR_PATCH_INVALID,
  JBL_ERROR_PATCH_INVALID_OP,
  JBL_ERROR_PATCH_NOVALUE,
  JBL_ERROR_PATCH_TARGET_INVALID,


  JBL_ERROR_PATCH_INVALID_VALUE,
  JBL_ERROR_PATCH_INVALID_ARRAY_INDEX,


  JBL_ERROR_NOT_AN_OBJECT,
  JBL_ERROR_TYPE_MISMATCHED,


  JBL_ERROR_PATCH_TEST_FAILED,
  JBL_ERROR_MAX_NESTING_LEVEL_EXCEEDED,


  _JBL_ERROR_END,
} jbl_ecode_t;

typedef struct _JBL_iterator {
  unsigned char *pnext;
  unsigned char *plimit;
  int type;
  int count;
  int current;
} JBL_iterator;

typedef uint8_t jbl_print_flags_t;



typedef uint8_t jbn_visitor_cmd_t;






typedef enum {
  JBV_NONE = 0,
  JBV_NULL,
  JBV_BOOL,
  JBV_I64,
  JBV_F64,
  JBV_STR,
  JBV_OBJECT,
  JBV_ARRAY,
} jbl_type_t;




typedef struct _JBL_NODE {
  struct _JBL_NODE *next;
  struct _JBL_NODE *prev;
  struct _JBL_NODE *parent;
  const char *key;
  int klidx;
  uint32_t flags;


  struct _JBL_NODE *child;
  int vsize;
  jbl_type_t type;
  union {
    const char *vptr;
    
# 146 "/ejdb/build/include/ejdb2/iowow/iwjson.h" 3 4
   _Bool 
# 146 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
           vbool;
    int64_t vi64;
    double vf64;
  };
} *JBL_NODE;




typedef enum {
  JBP_ADD = 1,
  JBP_REMOVE,
  JBP_REPLACE,
  JBP_COPY,
  JBP_MOVE,
  JBP_TEST,

  JBP_INCREMENT,
  JBP_ADD_CREATE,
  JBP_SWAP,
} jbp_patch_t;




typedef struct _JBL_PATCH {
  jbp_patch_t op;
  const char *path;
  const char *from;
  const char *vjson;
  JBL_NODE vnode;
} JBL_PATCH;





typedef struct _JBL_PTR {
  uint64_t op;
  int cnt;
  int sz;
  char *n[1];
} *JBL_PTR;


typedef iwrc (*jbl_json_printer)(const char *data, int size, char ch, int count, void *op);

__attribute__((visibility("default"))) void iwjson_ftoa(long double val, char buf[static 32], size_t *out_len);
# 202 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
__attribute__((visibility("default"))) __attribute__((warn_unused_result)) iwrc jbl_create_empty_object(JBL *jblp);
# 211 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
__attribute__((visibility("default"))) __attribute__((warn_unused_result)) iwrc jbl_create_empty_array(JBL *jblp);
# 220 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
__attribute__((visibility("default"))) void jbl_set_user_data(JBL jbl, void *user_data, void (*user_data_free_fn)(void*));






__attribute__((visibility("default"))) void* jbl_get_user_data(JBL jbl);
# 242 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
__attribute__((visibility("default"))) iwrc jbl_set_int64(JBL jbl, const char *key, int64_t v);
# 257 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
__attribute__((visibility("default"))) iwrc jbl_set_f64(JBL jbl, const char *key, double v);
# 272 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
__attribute__((visibility("default"))) iwrc jbl_set_string(JBL jbl, const char *key, const char *v);

__attribute__((visibility("default"))) iwrc jbl_set_string_printf(JBL jbl, const char *key, const char *format, ...);
# 289 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
__attribute__((visibility("default"))) iwrc jbl_set_bool(JBL jbl, const char *key, 
# 289 "/ejdb/build/include/ejdb2/iowow/iwjson.h" 3 4
                                                     _Bool 
# 289 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
                                                          v);
# 305 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
__attribute__((visibility("default"))) iwrc jbl_set_null(JBL jbl, const char *key);

__attribute__((visibility("default"))) iwrc jbl_set_empty_array(JBL jbl, const char *key);

__attribute__((visibility("default"))) iwrc jbl_set_empty_object(JBL jbl, const char *key);
# 324 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
__attribute__((visibility("default"))) iwrc jbl_set_nested(JBL jbl, const char *key, JBL nested);
# 336 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
__attribute__((visibility("default"))) iwrc jbl_from_buf_keep(JBL *jblp, void *buf, size_t bufsz, 
# 336 "/ejdb/build/include/ejdb2/iowow/iwjson.h" 3 4
                                                                    _Bool 
# 336 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
                                                                         keep_on_destroy);
# 346 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
__attribute__((visibility("default"))) iwrc jbl_clone(JBL src, JBL *targetp);
# 355 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
__attribute__((visibility("default"))) iwrc jbl_object_copy_to(JBL src, JBL target);
# 365 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
__attribute__((visibility("default"))) iwrc jbn_clone(JBL_NODE src, JBL_NODE *targetp, IWPOOL *pool);
# 375 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
__attribute__((visibility("default"))) void jbn_apply_from(JBL_NODE target, JBL_NODE from);
# 393 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
__attribute__((visibility("default"))) iwrc jbn_copy_path(
  JBL_NODE src,
  const char *src_path,
  JBL_NODE target,
  const char *target_path,
  
# 398 "/ejdb/build/include/ejdb2/iowow/iwjson.h" 3 4
 _Bool 
# 398 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
             overwrite_on_nulls,
  
# 399 "/ejdb/build/include/ejdb2/iowow/iwjson.h" 3 4
 _Bool 
# 399 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
             no_src_clone,
  IWPOOL *pool);
# 415 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
__attribute__((visibility("default"))) iwrc jbn_copy_paths(
  JBL_NODE src,
  JBL_NODE target,
  const char **paths,
  
# 419 "/ejdb/build/include/ejdb2/iowow/iwjson.h" 3 4
 _Bool 
# 419 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
              overwrite_on_nulls,
  
# 420 "/ejdb/build/include/ejdb2/iowow/iwjson.h" 3 4
 _Bool 
# 420 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
              no_src_clone,
  IWPOOL *pool);
# 430 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
__attribute__((visibility("default"))) iwrc jbl_clone_into_pool(JBL src, JBL *targetp, IWPOOL *pool);







__attribute__((visibility("default"))) iwrc jbl_from_json(JBL *jblp, const char *jsonstr);


__attribute__((visibility("default"))) iwrc jbl_from_json_printf(JBL *jblp, const char *format, ...);

__attribute__((visibility("default"))) iwrc jbl_from_json_printf_va(JBL *jblp, const char *format, va_list va);




__attribute__((visibility("default"))) jbl_type_t jbl_type(JBL jbl);




__attribute__((visibility("default"))) size_t jbl_count(JBL jbl);




__attribute__((visibility("default"))) size_t jbl_size(JBL jbl);




__attribute__((visibility("default"))) size_t jbl_structure_size(void);

__attribute__((visibility("default"))) iwrc jbl_from_buf_keep_onstack(JBL jbl, void *buf, size_t bufsz);





__attribute__((visibility("default"))) int32_t jbl_get_i32(JBL jbl);





__attribute__((visibility("default"))) int64_t jbl_get_i64(JBL jbl);





__attribute__((visibility("default"))) double jbl_get_f64(JBL jbl);





__attribute__((visibility("default"))) const char* jbl_get_str(JBL jbl);

__attribute__((visibility("default"))) iwrc jbl_object_get_i64(JBL jbl, const char *key, int64_t *out);

__attribute__((visibility("default"))) iwrc jbl_object_get_f64(JBL jbl, const char *key, double *out);

__attribute__((visibility("default"))) iwrc jbl_object_get_bool(JBL jbl, const char *key, 
# 495 "/ejdb/build/include/ejdb2/iowow/iwjson.h" 3 4
                                                            _Bool 
# 495 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
                                                                 *out);

__attribute__((visibility("default"))) iwrc jbl_object_get_str(JBL jbl, const char *key, const char **out);

__attribute__((visibility("default"))) iwrc jbl_object_get_fill_jbl(JBL jbl, const char *key, JBL out);

__attribute__((visibility("default"))) jbl_type_t jbl_object_get_type(JBL jbl, const char *key);





__attribute__((visibility("default"))) size_t jbl_copy_strn(JBL jbl, char *buf, size_t bufsz);
# 518 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
__attribute__((visibility("default"))) iwrc jbl_at(JBL jbl, const char *path, JBL *res);

__attribute__((visibility("default"))) iwrc jbn_at(JBL_NODE node, const char *path, JBL_NODE *res);

__attribute__((visibility("default"))) int jbn_path_compare(JBL_NODE n1, JBL_NODE n2, const char *path, jbl_type_t vtype, iwrc *rcp);

__attribute__((visibility("default"))) int jbn_paths_compare(
  JBL_NODE n1, const char *n1path, JBL_NODE n2, const char *n2path, jbl_type_t vtype,
  iwrc *rcp);

__attribute__((visibility("default"))) int jbn_path_compare_str(JBL_NODE n, const char *path, const char *sv, iwrc *rcp);

__attribute__((visibility("default"))) int jbn_path_compare_i64(JBL_NODE n, const char *path, int64_t iv, iwrc *rcp);

__attribute__((visibility("default"))) int jbn_path_compare_f64(JBL_NODE n, const char *path, double fv, iwrc *rcp);

__attribute__((visibility("default"))) int jbn_path_compare_bool(JBL_NODE n, const char *path, 
# 534 "/ejdb/build/include/ejdb2/iowow/iwjson.h" 3 4
                                                                 _Bool 
# 534 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
                                                                      bv, iwrc *rcp);
# 546 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
__attribute__((visibility("default"))) iwrc jbl_at2(JBL jbl, JBL_PTR jp, JBL *res);

__attribute__((visibility("default"))) iwrc jbn_at2(JBL_NODE node, JBL_PTR jp, JBL_NODE *res);
# 558 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
__attribute__((visibility("default"))) iwrc jbl_as_buf(JBL jbl, void **buf, size_t *size);
# 572 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
__attribute__((visibility("default"))) iwrc jbl_as_json(JBL jbl, jbl_json_printer pt, void *op, jbl_print_flags_t pf);





__attribute__((visibility("default"))) iwrc jbl_fstream_json_printer(const char *data, int size, char ch, int count, void *op);





__attribute__((visibility("default"))) iwrc jbl_xstr_json_printer(const char *data, int size, char ch, int count, void *op);





__attribute__((visibility("default"))) iwrc jbl_count_json_printer(const char *data, int size, char ch, int count, void *op);






__attribute__((visibility("default"))) void jbl_destroy(JBL *jblp);






__attribute__((visibility("default"))) iwrc jbl_create_iterator_holder(JBL *jblp);







__attribute__((visibility("default"))) iwrc jbl_iterator_init(JBL jbl, JBL_iterator *iter);
# 623 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
__attribute__((visibility("default"))) 
# 623 "/ejdb/build/include/ejdb2/iowow/iwjson.h" 3 4
         _Bool 
# 623 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
              jbl_iterator_next(JBL_iterator *iter, JBL holder, char **pkey, int *klen);
# 639 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
__attribute__((visibility("default"))) iwrc jbl_to_node(JBL jbl, JBL_NODE *node, 
# 639 "/ejdb/build/include/ejdb2/iowow/iwjson.h" 3 4
                                                   _Bool 
# 639 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
                                                        clone_strings, IWPOOL *pool);
# 649 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
__attribute__((visibility("default"))) iwrc jbn_from_json(const char *json, JBL_NODE *node, IWPOOL *pool);

__attribute__((visibility("default"))) iwrc jbn_from_json_printf(JBL_NODE *node, IWPOOL *pool, const char *format, ...);

__attribute__((visibility("default"))) iwrc jbn_from_json_printf_va(JBL_NODE *node, IWPOOL *pool, const char *format, va_list va);
# 667 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
__attribute__((visibility("default"))) iwrc jbn_as_json(JBL_NODE node, jbl_json_printer pt, void *op, jbl_print_flags_t pf);
# 679 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
__attribute__((visibility("default"))) iwrc jbl_fill_from_node(JBL jbl, JBL_NODE node);
# 688 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
__attribute__((visibility("default"))) iwrc jbl_from_node(JBL *jblp, JBL_NODE node);
# 706 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
__attribute__((visibility("default"))) int jbn_compare_nodes(JBL_NODE n1, JBL_NODE n2, iwrc *rcp);




__attribute__((visibility("default"))) void jbn_add_item(JBL_NODE parent, JBL_NODE node);
# 725 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
__attribute__((visibility("default"))) iwrc jbn_add_item_str(
  JBL_NODE parent, const char *key, const char *val, int vlen, JBL_NODE *node_out,
  IWPOOL *pool);
# 736 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
__attribute__((visibility("default"))) iwrc jbn_add_item_null(JBL_NODE parent, const char *key, IWPOOL *pool);
# 747 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
__attribute__((visibility("default"))) iwrc jbn_add_item_i64(JBL_NODE parent, const char *key, int64_t val, JBL_NODE *node_out, IWPOOL *pool);
# 758 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
__attribute__((visibility("default"))) iwrc jbn_add_item_f64(JBL_NODE parent, const char *key, double val, JBL_NODE *node_out, IWPOOL *pool);
# 769 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
__attribute__((visibility("default"))) iwrc jbn_add_item_obj(JBL_NODE parent, const char *key, JBL_NODE *node_out, IWPOOL *pool);
# 780 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
__attribute__((visibility("default"))) iwrc jbn_add_item_arr(JBL_NODE parent, const char *key, JBL_NODE *node_out, IWPOOL *pool);
# 791 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
__attribute__((visibility("default"))) iwrc jbn_add_item_bool(JBL_NODE parent, const char *key, 
# 791 "/ejdb/build/include/ejdb2/iowow/iwjson.h" 3 4
                                                                  _Bool 
# 791 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
                                                                       val, JBL_NODE *node_out, IWPOOL *pool);




__attribute__((visibility("default"))) void jbn_remove_item(JBL_NODE parent, JBL_NODE child);




__attribute__((visibility("default"))) JBL_NODE jbn_detach2(JBL_NODE target, JBL_PTR path);

__attribute__((visibility("default"))) JBL_NODE jbn_detach(JBL_NODE target, const char *path);




__attribute__((visibility("default"))) void jbn_data(JBL_NODE node);






__attribute__((visibility("default"))) int jbn_length(JBL_NODE node);
# 824 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
__attribute__((visibility("default"))) iwrc jbl_ptr_alloc(const char *path, JBL_PTR *jpp);
# 833 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
__attribute__((visibility("default"))) iwrc jbl_ptr_alloc_pool(const char *path, JBL_PTR *jpp, IWPOOL *pool);




__attribute__((visibility("default"))) int jbl_ptr_cmp(JBL_PTR p1, JBL_PTR p2);






__attribute__((visibility("default"))) iwrc jbl_ptr_serialize(JBL_PTR ptr, IWXSTR *xstr);




typedef struct _JBN_VCTX {
  JBL_NODE root;
  void *op;
  void *result;
  IWPOOL *pool;
  int pos;
  
# 856 "/ejdb/build/include/ejdb2/iowow/iwjson.h" 3 4
 _Bool 
# 856 "/ejdb/build/include/ejdb2/iowow/iwjson.h"
          terminate;
} JBN_VCTX;




typedef jbn_visitor_cmd_t (*JBN_VISITOR)(int lvl, JBL_NODE n, const char *key, int klidx, JBN_VCTX *vctx, iwrc *rc);

__attribute__((visibility("default"))) iwrc jbn_visit(JBL_NODE node, int lvl, JBN_VCTX *vctx, JBN_VISITOR visitor);



__attribute__((visibility("default"))) iwrc jbn_patch_auto(JBL_NODE root, JBL_NODE patch, IWPOOL *pool);

__attribute__((visibility("default"))) iwrc jbn_merge_patch(JBL_NODE root, JBL_NODE patch, IWPOOL *pool);

__attribute__((visibility("default"))) iwrc jbn_patch(JBL_NODE root, const JBL_PATCH *patch, size_t cnt, IWPOOL *pool);

__attribute__((visibility("default"))) iwrc jbn_merge_patch_from_json(JBL_NODE root, const char *patchjson, IWPOOL *pool);

__attribute__((visibility("default"))) iwrc jbl_patch(JBL jbl, const JBL_PATCH *patch, size_t cnt);

__attribute__((visibility("default"))) iwrc jbl_patch_from_json(JBL jbl, const char *patchjson);

__attribute__((visibility("default"))) iwrc jbl_merge_patch(JBL jbl, const char *patchjson);

__attribute__((visibility("default"))) iwrc jbl_merge_patch_jbl(JBL jbl, JBL patch);


__attribute__((visibility("default"))) iwrc jbl_init(void);


# 41 "/ejdb/src/jql/jql.h" 2




struct _JQL;
typedef struct _JQL*JQL;

typedef enum {
  _JQL_ERROR_START = (70000 + 15000UL + 2000),
  JQL_ERROR_QUERY_PARSE,
  JQL_ERROR_INVALID_PLACEHOLDER,
  JQL_ERROR_UNSET_PLACEHOLDER,
  JQL_ERROR_REGEXP_INVALID,
  JQL_ERROR_SKIP_ALREADY_SET,
  JQL_ERROR_LIMIT_ALREADY_SET,
  JQL_ERROR_ORDERBY_MAX_LIMIT,


  JQL_ERROR_NO_COLLECTION,
  JQL_ERROR_INVALID_PLACEHOLDER_VALUE_TYPE,


  _JQL_ERROR_END,
  _JQL_ERROR_UNMATCHED,
} jql_ecode_t;

typedef uint8_t jql_create_mode_t;
# 82 "/ejdb/src/jql/jql.h"
__attribute__((visibility("default"))) __attribute__((warn_unused_result)) iwrc jql_create(JQL *qptr, const char *coll, const char *query);

__attribute__((visibility("default"))) __attribute__((warn_unused_result)) iwrc jql_create2(JQL *qptr, const char *coll, const char *query, jql_create_mode_t mode);

__attribute__((visibility("default"))) const char* jql_collection(JQL q);







__attribute__((visibility("default"))) __attribute__((warn_unused_result)) iwrc jql_set_json(JQL q, const char *placeholder, int index, JBL_NODE val);

__attribute__((visibility("default"))) __attribute__((warn_unused_result)) iwrc jql_set_json2(
  JQL q, const char *placeholder, int index, JBL_NODE val,
  void (*freefn)(void*, void*), void *op);

__attribute__((visibility("default"))) __attribute__((warn_unused_result)) iwrc jql_set_json_jbl(JQL q, const char *placeholder, int index, JBL jbl);

__attribute__((visibility("default"))) __attribute__((warn_unused_result)) iwrc jql_set_i64(JQL q, const char *placeholder, int index, int64_t val);

__attribute__((visibility("default"))) __attribute__((warn_unused_result)) iwrc jql_set_f64(JQL q, const char *placeholder, int index, double val);







__attribute__((visibility("default"))) __attribute__((warn_unused_result)) iwrc jql_set_str(JQL q, const char *placeholder, int index, const char *val);

__attribute__((visibility("default"))) __attribute__((warn_unused_result)) iwrc jql_set_str2(
  JQL q, const char *placeholder, int index, const char *val,
  void (*freefn)(void*, void*), void *op);

__attribute__((visibility("default"))) __attribute__((warn_unused_result)) iwrc jql_set_str3(JQL q, const char *placeholder, int index, const char *val, size_t val_len);

__attribute__((visibility("default"))) __attribute__((warn_unused_result)) iwrc jql_set_bool(JQL q, const char *placeholder, int index, 
# 120 "/ejdb/src/jql/jql.h" 3 4
                                                                          _Bool 
# 120 "/ejdb/src/jql/jql.h"
                                                                               val);
# 129 "/ejdb/src/jql/jql.h"
__attribute__((visibility("default"))) __attribute__((warn_unused_result)) iwrc jql_set_regexp(JQL q, const char *placeholder, int index, const char *expr);

__attribute__((visibility("default"))) __attribute__((warn_unused_result)) iwrc jql_set_regexp2(
  JQL q, const char *placeholder, int index, const char *expr,
  void (*freefn)(void*, void*), void *op);

__attribute__((visibility("default"))) __attribute__((warn_unused_result)) iwrc jql_set_null(JQL q, const char *placeholder, int index);

__attribute__((visibility("default"))) __attribute__((warn_unused_result)) iwrc jql_matched(JQL q, JBL jbl, 
# 137 "/ejdb/src/jql/jql.h" 3 4
                                              _Bool 
# 137 "/ejdb/src/jql/jql.h"
                                                   *out);

__attribute__((visibility("default"))) const char* jql_first_anchor(JQL q);

__attribute__((visibility("default"))) const char* jql_error(JQL q);

__attribute__((visibility("default"))) 
# 143 "/ejdb/src/jql/jql.h" 3 4
         _Bool 
# 143 "/ejdb/src/jql/jql.h"
              jql_has_apply(JQL q);

__attribute__((visibility("default"))) 
# 145 "/ejdb/src/jql/jql.h" 3 4
         _Bool 
# 145 "/ejdb/src/jql/jql.h"
              jql_has_apply_upsert(JQL q);

__attribute__((visibility("default"))) 
# 147 "/ejdb/src/jql/jql.h" 3 4
         _Bool 
# 147 "/ejdb/src/jql/jql.h"
              jql_has_apply_delete(JQL q);

__attribute__((visibility("default"))) 
# 149 "/ejdb/src/jql/jql.h" 3 4
         _Bool 
# 149 "/ejdb/src/jql/jql.h"
              jql_has_projection(JQL q);

__attribute__((visibility("default"))) 
# 151 "/ejdb/src/jql/jql.h" 3 4
         _Bool 
# 151 "/ejdb/src/jql/jql.h"
              jql_has_orderby(JQL q);

__attribute__((visibility("default"))) 
# 153 "/ejdb/src/jql/jql.h" 3 4
         _Bool 
# 153 "/ejdb/src/jql/jql.h"
              jql_has_aggregate_count(JQL q);

__attribute__((visibility("default"))) iwrc jql_get_skip(JQL q, int64_t *out);

__attribute__((visibility("default"))) iwrc jql_get_limit(JQL q, int64_t *out);

__attribute__((visibility("default"))) __attribute__((warn_unused_result)) iwrc jql_apply(JQL q, JBL_NODE root, IWPOOL *pool);

__attribute__((visibility("default"))) __attribute__((warn_unused_result)) iwrc jql_project(JQL q, JBL_NODE root, IWPOOL *pool, void *exec_ctx);

__attribute__((visibility("default"))) __attribute__((warn_unused_result)) iwrc jql_apply_and_project(JQL q, JBL jbl, JBL_NODE *out, void *exec_ctx, IWPOOL *pool);

__attribute__((visibility("default"))) void jql_reset(JQL q, 
# 165 "/ejdb/src/jql/jql.h" 3 4
                               _Bool 
# 165 "/ejdb/src/jql/jql.h"
                                    reset_match_cache, 
# 165 "/ejdb/src/jql/jql.h" 3 4
                                                       _Bool 
# 165 "/ejdb/src/jql/jql.h"
                                                            reset_placeholders);

__attribute__((visibility("default"))) void jql_destroy(JQL *qptr);

__attribute__((visibility("default"))) size_t jql_estimate_allocated_size(JQL q);

__attribute__((visibility("default"))) __attribute__((warn_unused_result)) iwrc jql_init(void);


# 33 "/ejdb/src/jql/jqp.h" 2




# 1 "/usr/include/errno.h" 1 3 4
# 28 "/usr/include/errno.h" 3 4
# 1 "/usr/include/aarch64-linux-gnu/bits/errno.h" 1 3 4
# 26 "/usr/include/aarch64-linux-gnu/bits/errno.h" 3 4
# 1 "/usr/include/linux/errno.h" 1 3 4
# 1 "/usr/include/aarch64-linux-gnu/asm/errno.h" 1 3 4
# 1 "/usr/include/asm-generic/errno.h" 1 3 4




# 1 "/usr/include/asm-generic/errno-base.h" 1 3 4
# 6 "/usr/include/asm-generic/errno.h" 2 3 4
# 2 "/usr/include/aarch64-linux-gnu/asm/errno.h" 2 3 4
# 2 "/usr/include/linux/errno.h" 2 3 4
# 27 "/usr/include/aarch64-linux-gnu/bits/errno.h" 2 3 4
# 29 "/usr/include/errno.h" 2 3 4









# 37 "/usr/include/errno.h" 3 4
extern int *__errno_location (void) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__const__));
# 52 "/usr/include/errno.h" 3 4

# 38 "/ejdb/src/jql/jqp.h" 2

# 1 "/usr/include/setjmp.h" 1 3 4
# 27 "/usr/include/setjmp.h" 3 4


# 1 "/usr/include/aarch64-linux-gnu/bits/setjmp.h" 1 3 4
# 30 "/usr/include/aarch64-linux-gnu/bits/setjmp.h" 3 4
__extension__ typedef unsigned long long __jmp_buf [22];
# 30 "/usr/include/setjmp.h" 2 3 4
# 1 "/usr/include/aarch64-linux-gnu/bits/types/struct___jmp_buf_tag.h" 1 3 4
# 26 "/usr/include/aarch64-linux-gnu/bits/types/struct___jmp_buf_tag.h" 3 4
struct __jmp_buf_tag
  {




    __jmp_buf __jmpbuf;
    int __mask_was_saved;
    __sigset_t __saved_mask;
  };
# 31 "/usr/include/setjmp.h" 2 3 4

typedef struct __jmp_buf_tag jmp_buf[1];



extern int setjmp (jmp_buf __env) __attribute__ ((__nothrow__));




extern int __sigsetjmp (struct __jmp_buf_tag __env[1], int __savemask) __attribute__ ((__nothrow__));



extern int _setjmp (struct __jmp_buf_tag __env[1]) __attribute__ ((__nothrow__));
# 54 "/usr/include/setjmp.h" 3 4
extern void longjmp (struct __jmp_buf_tag __env[1], int __val)
     __attribute__ ((__nothrow__)) __attribute__ ((__noreturn__));





extern void _longjmp (struct __jmp_buf_tag __env[1], int __val)
     __attribute__ ((__nothrow__)) __attribute__ ((__noreturn__));







typedef struct __jmp_buf_tag sigjmp_buf[1];
# 80 "/usr/include/setjmp.h" 3 4
extern void siglongjmp (sigjmp_buf __env, int __val)
     __attribute__ ((__nothrow__)) __attribute__ ((__noreturn__));





# 1 "/usr/include/aarch64-linux-gnu/bits/setjmp2.h" 1 3 4
# 25 "/usr/include/aarch64-linux-gnu/bits/setjmp2.h" 3 4
extern void longjmp (struct __jmp_buf_tag __env[1], int __val) __asm__ ("" "__longjmp_chk") __attribute__ ((__nothrow__))

                        __attribute__ ((__noreturn__));
extern void _longjmp (struct __jmp_buf_tag __env[1], int __val) __asm__ ("" "__longjmp_chk") __attribute__ ((__nothrow__))

                        __attribute__ ((__noreturn__));
extern void siglongjmp (struct __jmp_buf_tag __env[1], int __val) __asm__ ("" "__longjmp_chk") __attribute__ ((__nothrow__))

                        __attribute__ ((__noreturn__));
# 88 "/usr/include/setjmp.h" 2 3 4



# 40 "/ejdb/src/jql/jqp.h" 2


# 41 "/ejdb/src/jql/jqp.h"
typedef uint16_t jqp_string_flavours_t;
# 64 "/ejdb/src/jql/jqp.h"
typedef uint8_t jqp_int_flavours_t;



typedef enum {
  JQP_QUERY_TYPE = 1,
  JQP_EXPR_NODE_TYPE,
  JQP_FILTER_TYPE,
  JQP_NODE_TYPE,
  JQP_EXPR_TYPE,
  JQP_STRING_TYPE,
  JQP_INTEGER_TYPE,
  JQP_DOUBLE_TYPE,
  JQP_OP_TYPE,
  JQP_JOIN_TYPE,
  JQP_PROJECTION_TYPE,
  JQP_JSON_TYPE,
} jqp_unit_t;

typedef enum {
  JQP_NODE_FIELD = 1,
  JQP_NODE_ANY,
  JQP_NODE_ANYS,
  JQP_NODE_EXPR,
} jqp_node_type_t;

typedef enum {

  JQP_JOIN_AND = 1,
  JQP_JOIN_OR,
  JQP_OP_EQ,
  JQP_OP_GT,
  JQP_OP_GTE,
  JQP_OP_LT,
  JQP_OP_LTE,
  JQP_OP_IN,
  JQP_OP_NI,
  JQP_OP_RE,
  JQP_OP_PREFIX,
} jqp_op_t;

struct JQP_AUX;

typedef union _JQP_UNIT JQPUNIT;
# 118 "/ejdb/src/jql/jqp.h"
typedef struct JQP_EXPR_NODE {
  jqp_unit_t type; struct JQP_EXPR_NODE *next; struct JQP_JOIN *join; void *opaque; uint8_t flags;
  struct JQP_EXPR_NODE *chain;
} JQP_EXPR_NODE;

typedef struct JQP_EXPR_NODE_PK {
  jqp_unit_t type; struct JQP_EXPR_NODE *next; struct JQP_JOIN *join; void *opaque; uint8_t flags;
  struct JQP_EXPR_NODE *chain;
  const char *anchor;
  JQPUNIT *argument;
} JQP_EXPR_NODE_PK;

typedef struct JQP_FILTER {
  jqp_unit_t type; struct JQP_EXPR_NODE *next; struct JQP_JOIN *join; void *opaque; uint8_t flags;
  const char *anchor;
  struct JQP_NODE *node;
} JQP_FILTER;

typedef struct JQP_JSON {
  jqp_unit_t type;
  struct _JBL_NODE jn;
  void *opaque;
} JQP_JSON;

typedef struct JQP_NODE {
  jqp_unit_t type;
  jqp_node_type_t ntype;
  struct JQP_NODE *next;
  JQPUNIT *value;
  int start;
  int end;
} JQP_NODE;

typedef struct JQP_STRING {
  jqp_unit_t type;
  jqp_string_flavours_t flavour;
  const char *value;
  struct JQP_STRING *next;
  struct JQP_STRING *subnext;
  struct JQP_STRING *placeholder_next;
  void *opaque;
} JQP_STRING;

typedef struct JQP_INTEGER {
  jqp_unit_t type;
  jqp_int_flavours_t flavour;
  int64_t value;
  void *opaque;
} JQP_INTEGER;

typedef struct JQP_DOUBLE {
  jqp_unit_t type;
  jqp_int_flavours_t flavour;
  double value;
  void *opaque;
} JQP_DOUBLE;

typedef struct JQP_OP {
  jqp_unit_t type;
  
# 177 "/ejdb/src/jql/jqp.h" 3 4
 _Bool 
# 177 "/ejdb/src/jql/jqp.h"
            negate;
  jqp_op_t value;
  struct JQP_OP *next;
  void *opaque;
} JQP_OP;

typedef struct JQP_JOIN {
  jqp_unit_t type;
  
# 185 "/ejdb/src/jql/jqp.h" 3 4
 _Bool 
# 185 "/ejdb/src/jql/jqp.h"
            negate;
  jqp_op_t value;
} JQP_JOIN;

typedef struct JQP_EXPR {
  jqp_unit_t type;
  struct JQP_JOIN *join;
  struct JQP_OP *op;
  JQPUNIT *left;
  JQPUNIT *right;
  struct JQP_EXPR *next;
  
# 196 "/ejdb/src/jql/jqp.h" 3 4
 _Bool 
# 196 "/ejdb/src/jql/jqp.h"
      prematched;
} JQP_EXPR;

typedef struct JQP_PROJECTION {
  jqp_unit_t type;
  struct JQP_STRING *value;
  struct JQP_PROJECTION *next;
  int16_t pos;
  int16_t cnt;




  uint8_t flags;
} JQP_PROJECTION;

typedef struct JQP_QUERY {
  jqp_unit_t type;
  struct JQP_AUX *aux;
} JQP_QUERY;



union _JQP_UNIT {
  jqp_unit_t type;
  struct JQP_QUERY query;
  struct JQP_EXPR_NODE exprnode;
  struct JQP_EXPR_NODE_PK exprnode_pk;
  struct JQP_FILTER filter;
  struct JQP_NODE node;
  struct JQP_EXPR expr;
  struct JQP_JOIN join;
  struct JQP_OP op;
  struct JQP_STRING string;
  struct JQP_INTEGER intval;
  struct JQP_DOUBLE dblval;
  struct JQP_JSON json;
  struct JQP_PROJECTION projection;
};

typedef enum {
  STACK_UNIT = 1,
  STACK_STRING,
  STACK_INT,
  STACK_FLOAT,
} jqp_stack_t;

typedef struct JQP_STACK {
  jqp_stack_t type;
  struct JQP_STACK *next;
  struct JQP_STACK *prev;
  union {
    JQPUNIT *unit;
    char *str;
    int64_t i64;
    double f64;
  };
} JQP_STACK;



typedef uint8_t jqp_query_mode_t;
# 267 "/ejdb/src/jql/jqp.h"
typedef struct JQP_AUX {
  int pos;
  int stackn;
  int num_placeholders;
  int orderby_num;
  iwrc rc;
  jmp_buf fatal_jmp;
  const char *buf;
  IWXSTR *xerr;
  IWPOOL *pool;
  struct JQP_QUERY *query;
  JQP_STACK *stack;
  jql_create_mode_t mode;

  struct JQP_EXPR_NODE *expr;
  struct JQP_PROJECTION *projection;
  JQP_STRING *start_placeholder;
  JQP_STRING *end_placeholder;
  JQP_STRING *orderby;
  JBL_PTR *orderby_ptrs;
  JQP_OP *start_op;
  JQP_OP *end_op;
  JQPUNIT *skip;
  JQPUNIT *limit;
  JBL_NODE apply;
  const char *apply_placeholder;
  const char *first_anchor;
  jqp_query_mode_t qmode;
  
# 295 "/ejdb/src/jql/jqp.h" 3 4
 _Bool 
# 295 "/ejdb/src/jql/jqp.h"
           negate;
  
# 296 "/ejdb/src/jql/jqp.h" 3 4
 _Bool 
# 296 "/ejdb/src/jql/jqp.h"
           has_keep_projections;
  
# 297 "/ejdb/src/jql/jqp.h" 3 4
 _Bool 
# 297 "/ejdb/src/jql/jqp.h"
           has_exclude_all_projection;
  JQP_STACK stackpool[128];
} JQP_AUX;

iwrc jqp_aux_create(JQP_AUX **auxp, const char *input);

void jqp_aux_destroy(JQP_AUX **auxp);

iwrc jqp_parse(JQP_AUX *aux);

iwrc jqp_print_query(const JQP_QUERY *q, jbl_json_printer pt, void *op);

iwrc jqp_alloc_orderby_pointers(const JQP_QUERY *q, JBL_PTR *optr, size_t *nptr);

iwrc jqp_print_filter_node_expr(const JQP_EXPR *e, jbl_json_printer pt, void *op);
# 3 "./jqp.leg" 2







struct _yycontext;

static void _jqp_finish(struct _yycontext *yy);
static void _jqp_debug(struct _yycontext *yy, const char *text);
static void *_jqp_malloc(struct _yycontext *yy, size_t size);
static void *_jqp_realloc(struct _yycontext *yy, void *ptr, size_t size);
static JQPUNIT *_jqp_unit(struct _yycontext *yy);

static void _jqp_op_negate(struct _yycontext *yy);
static void _jqp_op_negate_reset(struct _yycontext *yy);

static JQPUNIT *_jqp_string(struct _yycontext *yy, jqp_string_flavours_t flv, const char *text);
static JQPUNIT *_jqp_unescaped_string(struct _yycontext *yy, jqp_string_flavours_t flv, const char *text);
static JQPUNIT *_jqp_number(struct _yycontext *yy, jqp_int_flavours_t flv, const char *text);
static JQPUNIT *_jqp_placeholder(struct _yycontext *yy, const char *text);
static JQPUNIT *_jqp_unit_op(struct _yycontext *yy, const char *text);
static JQPUNIT *_jqp_unit_join(struct _yycontext *yy, const char *text);
static JQPUNIT *_jqp_expr(struct _yycontext *yy, JQPUNIT *left, JQPUNIT *op, JQPUNIT *right);
static JQPUNIT *_jqp_node(struct _yycontext *yy, JQPUNIT *value);
static JQPUNIT *_jqp_projection(struct _yycontext *yy, JQPUNIT *value, uint8_t flags);
static void _jqp_set_skip(struct _yycontext *yy, JQPUNIT *unit);
static void _jqp_set_limit(struct _yycontext *yy, JQPUNIT *unit);
static void _jqp_add_orderby(struct _yycontext *yy, JQPUNIT *unit);
static void _jqp_set_aggregate_count(struct _yycontext *yy);
static void _jqp_set_noidx(struct _yycontext *yy);
static void _jqp_set_inverse(struct _yycontext *yy);

static JQPUNIT *_jqp_json_string(struct _yycontext *yy, const char *text);
static JQPUNIT *_jqp_json_number(struct _yycontext *yy, const char *text);
static JQPUNIT *_jqp_json_true_false_null(struct _yycontext *yy, const char *text);
static JQPUNIT *_jqp_json_pair(struct _yycontext *yy, JQPUNIT *key, JQPUNIT *val);
static JQPUNIT *_jqp_json_collect(struct _yycontext *yy, jbl_type_t type, JQPUNIT *until);

static JQP_STACK *_jqp_push(struct _yycontext *yy);
static void _jqp_unit_push(struct _yycontext *yy, JQPUNIT *unit);
static JQPUNIT *_jqp_unit_pop(struct _yycontext *yy);
static void _jqp_string_push(struct _yycontext *yy, char *str, 
# 46 "./jqp.leg" 3 4
                                                              _Bool 
# 46 "./jqp.leg"
                                                                   dup);
static char *_jqp_string_pop(struct _yycontext *yy);

static JQPUNIT *_jqp_pop_filter_factor_chain(struct _yycontext *yy, JQPUNIT *until);
static JQPUNIT *_jqp_pop_expr_chain(struct _yycontext *yy, JQPUNIT *until);
static JQPUNIT *_jqp_pop_node_chain(struct _yycontext *yy, JQPUNIT *until);
static JQPUNIT *_jqp_pop_projfields_chain(struct _yycontext *yy, JQPUNIT *until);
static JQPUNIT *_jqp_pop_projection_nodes(struct _yycontext *yy, JQPUNIT *until);
static JQPUNIT *_jqp_pop_ordernodes(struct _yycontext *yy, JQPUNIT *until);
static JQPUNIT *_jqp_push_joined_projection(struct _yycontext *yy, JQPUNIT *p);
static JQPUNIT *_jqp_pop_joined_projections(struct _yycontext *yy, JQPUNIT *until);

static void _jqp_set_filters_expr(struct _yycontext *yy, JQPUNIT *expr);
static JQPUNIT *_jqp_create_filterexpr_pk(struct _yycontext *yy, JQPUNIT *argument);
static void _jqp_set_apply(struct _yycontext *yy, JQPUNIT *unit);
static void _jqp_set_apply_delete(struct _yycontext *yy);
static void _jqp_set_apply_upsert(struct _yycontext *yy, JQPUNIT *unit);
static void _jqp_set_projection(struct _yycontext *yy, JQPUNIT *unit);
# 135 "./jqp.leg"
typedef struct _yycontext yycontext;
typedef void (*yyaction)(yycontext *yy, char *yytext, int yyleng);
typedef struct _yythunk { int begin, end; yyaction action; struct _yythunk *next; } yythunk;

struct _yycontext {
  char *__buf;
  int __buflen;
  int __pos;
  int __limit;
  char *__text;
  int __textlen;
  int __begin;
  int __end;
  int __textmax;
  yythunk *__thunks;
  int __thunkslen;
  int __thunkpos;
  JQPUNIT* __;
  JQPUNIT* *__val;
  JQPUNIT* *__vals;
  int __valslen;

  JQP_AUX *aux;

};
# 191 "./jqp.leg"
static int yyrefill(yycontext *yy)
{
  int yyn;
  while (yy->__buflen - yy->__pos < 512)
    {
      yy->__buflen *= 2;
      yy->__buf= (char *)_jqp_realloc(yy, yy->__buf, yy->__buflen);
    }

  { JQP_AUX *aux = (yy)->aux; if (aux->rc || *(aux->buf + aux->pos) == '\0') { yyn = 0; } else { char ch = *(aux->buf + aux->pos++); yyn = 1; *((yy->__buf + yy->__pos))= ch; } };



  if (!yyn) return 0;
  yy->__limit += yyn;
  return 1;
}

static int yymatchDot(yycontext *yy)
{
  if (yy->__pos >= yy->__limit && !yyrefill(yy)) return 0;
  ++yy->__pos;
  return 1;
}

static int yymatchChar(yycontext *yy, int c)
{
  if (yy->__pos >= yy->__limit && !yyrefill(yy)) return 0;
  if ((unsigned char)yy->__buf[yy->__pos] == c)
    {
      ++yy->__pos;
      ;
      return 1;
    }
  ;
  return 0;
}

static int yymatchString(yycontext *yy, const char *s)
{
  int yysav= yy->__pos;
  while (*s)
    {
      if (yy->__pos >= yy->__limit && !yyrefill(yy)) return 0;
      if (yy->__buf[yy->__pos] != *s)
        {
          yy->__pos= yysav;
          return 0;
        }
      ++s;
      ++yy->__pos;
    }
  return 1;
}

static int yymatchClass(yycontext *yy, unsigned char *bits)
{
  int c;
  if (yy->__pos >= yy->__limit && !yyrefill(yy)) return 0;
  c= (unsigned char)yy->__buf[yy->__pos];
  if (bits[c >> 3] & (1 << (c & 7)))
    {
      ++yy->__pos;
      ;
      return 1;
    }
  ;
  return 0;
}

static void yyDo(yycontext *yy, yyaction action, int begin, int end)
{
  while (yy->__thunkpos >= yy->__thunkslen)
    {
      yy->__thunkslen *= 2;
      yy->__thunks= (yythunk *)_jqp_realloc(yy, yy->__thunks, sizeof(yythunk) * yy->__thunkslen);
    }
  yy->__thunks[yy->__thunkpos].begin= begin;
  yy->__thunks[yy->__thunkpos].end= end;
  yy->__thunks[yy->__thunkpos].action= action;
  ++yy->__thunkpos;
}

static int yyText(yycontext *yy, int begin, int end)
{
  int yyleng= end - begin;
  if (yyleng <= 0)
    yyleng= 0;
  else
    {
      while (yy->__textlen < (yyleng + 1))
 {
   yy->__textlen *= 2;
   yy->__text= (char *)_jqp_realloc(yy, yy->__text, yy->__textlen);
 }
      memcpy(yy->__text, yy->__buf + begin, yyleng);
    }
  yy->__text[yyleng]= '\0';
  return yyleng;
}

static void yyDone(yycontext *yy)
{
  int pos;
  for (pos= 0; pos < yy->__thunkpos; ++pos)
    {
      yythunk *thunk= &yy->__thunks[pos];
      int yyleng= thunk->end ? yyText(yy, thunk->begin, thunk->end) : thunk->begin;
      ;
      thunk->action(yy, yy->__text, yyleng);
    }
  yy->__thunkpos= 0;
}

static void yyCommit(yycontext *yy)
{
  if ((yy->__limit -= yy->__pos))
    {
      memmove(yy->__buf, yy->__buf + yy->__pos, yy->__limit);
    }
  yy->__begin -= yy->__pos;
  yy->__end -= yy->__pos;
  yy->__pos= yy->__thunkpos= 0;
}

static int yyAccept(yycontext *yy, int tp0)
{
  if (tp0)
    {
      fprintf(
# 320 "./jqp.leg" 3 4
             stderr
# 320 "./jqp.leg"
                   , "accept denied at %d\n", tp0);
      return 0;
    }
  else
    {
      yyDone(yy);
      yyCommit(yy);
    }
  return 1;
}

static void yyPush(yycontext *yy, char *text, int count)
{
  yy->__val += count;
  while (yy->__valslen <= yy->__val - yy->__vals)
    {
      long offset= yy->__val - yy->__vals;
      yy->__valslen *= 2;
      yy->__vals= (JQPUNIT* *)_jqp_realloc(yy, yy->__vals, sizeof(JQPUNIT*) * yy->__valslen);
      yy->__val= yy->__vals + offset;
    }
}
static void yyPop(yycontext *yy, char *text, int count) { yy->__val -= count; }
static void yySet(yycontext *yy, char *text, int count) { yy->__val[count]= yy->__; }





static int yy_EOL(yycontext *yy);
static int yy_SPACE(yycontext *yy);
static int yy_NUME(yycontext *yy);
static int yy_NUMF(yycontext *yy);
static int yy_NUMJ(yycontext *yy);
static int yy_STRJ(yycontext *yy);
static int yy_SARRJ(yycontext *yy);
static int yy_PAIRJ(yycontext *yy);
static int yy_SOBJJ(yycontext *yy);
static int yy_CHJ(yycontext *yy);
static int yy_CHP(yycontext *yy);
static int yy_VALJ(yycontext *yy);
static int yy_NEXPRLEFT(yycontext *yy);
static int yy_STRSTAR(yycontext *yy);
static int yy_DBLSTAR(yycontext *yy);
static int yy_NEXRIGHT(yycontext *yy);
static int yy_NEXOP(yycontext *yy);
static int yy_NEXLEFT(yycontext *yy);
static int yy_NEXJOIN(yycontext *yy);
static int yy_NEXPAIR(yycontext *yy);
static int yy_STRP(yycontext *yy);
static int yy_NEXPR(yycontext *yy);
static int yy_NODE(yycontext *yy);
static int yy_FILTER(yycontext *yy);
static int yy_FILTERFACTOR(yycontext *yy);
static int yy_HEX(yycontext *yy);
static int yy_PCHP(yycontext *yy);
static int yy_PSTRP(yycontext *yy);
static int yy_STRN(yycontext *yy);
static int yy_PROJFIELDS(yycontext *yy);
static int yy_PROJNODE(yycontext *yy);
static int yy_PROJALL(yycontext *yy);
static int yy_PROJPROP(yycontext *yy);
static int yy_ORDERNODE(yycontext *yy);
static int yy_ORDERNODES(yycontext *yy);
static int yy_NUMI(yycontext *yy);
static int yy_INVERSE(yycontext *yy);
static int yy_NOIDX(yycontext *yy);
static int yy_COUNT(yycontext *yy);
static int yy_ORDERBY(yycontext *yy);
static int yy_LIMIT(yycontext *yy);
static int yy_SKIP(yycontext *yy);
static int yy_OPT(yycontext *yy);
static int yy_PROJOIN(yycontext *yy);
static int yy_PROJNODES(yycontext *yy);
static int yy_ARRJ(yycontext *yy);
static int yy_OBJJ(yycontext *yy);
static int yy___(yycontext *yy);
static int yy_FILTERJOIN(yycontext *yy);
static int yy_NUMPK_ARR(yycontext *yy);
static int yy_NUMPK(yycontext *yy);
static int yy_PLACEHOLDER(yycontext *yy);
static int yy_FILTERANCHOR(yycontext *yy);
static int yy_FILTEREXPR(yycontext *yy);
static int yy_FILTEREXPR_PK(yycontext *yy);
static int yy_EOF(yycontext *yy);
static int yy_OPTS(yycontext *yy);
static int yy_PROJECTION(yycontext *yy);
static int yy_UPSERT(yycontext *yy);
static int yy_APPLY(yycontext *yy);
static int yy__(yycontext *yy);
static int yy_QEXPR(yycontext *yy);
static int yy_QUERY(yycontext *yy);

static void yy_4_NUMPK_ARR(yycontext *yy, char *yytext, int yyleng)
{






  ;
  {
# 235 "./jqp.leg"
   yy->__ = _jqp_json_collect(yy, JBV_ARRAY, yy->__val[-3]); ;
  }






}
static void yy_3_NUMPK_ARR(yycontext *yy, char *yytext, int yyleng)
{






  ;
  {
# 234 "./jqp.leg"
   _jqp_unit_push(yy, yy->__val[-1]); ;
  }






}
static void yy_2_NUMPK_ARR(yycontext *yy, char *yytext, int yyleng)
{






  ;
  {
# 234 "./jqp.leg"
   _jqp_unit_push(yy, yy->__val[-2]); ;
  }






}
static void yy_1_NUMPK_ARR(yycontext *yy, char *yytext, int yyleng)
{






  ;
  {
# 233 "./jqp.leg"
   _jqp_unit_push(yy, yy->__val[-3]); ;
  }






}
static void yy_1_NUMPK(yycontext *yy, char *yytext, int yyleng)
{



  ;
  {
# 231 "./jqp.leg"
   yy->__ = _jqp_json_number(yy, yytext); ;
  }



}
static void yy_1_NUMJ(yycontext *yy, char *yytext, int yyleng)
{



  ;
  {
# 229 "./jqp.leg"
   yy->__ = _jqp_json_number(yy, yytext); ;
  }



}
static void yy_1_STRJ(yycontext *yy, char *yytext, int yyleng)
{



  ;
  {
# 214 "./jqp.leg"
   yy->__ = _jqp_json_string(yy, yytext); ;
  }



}
static void yy_3_VALJ(yycontext *yy, char *yytext, int yyleng)
{



  ;
  {
# 212 "./jqp.leg"
   yy->__ = _jqp_json_true_false_null(yy, "null"); ;
  }



}
static void yy_2_VALJ(yycontext *yy, char *yytext, int yyleng)
{



  ;
  {
# 211 "./jqp.leg"
   yy->__ = _jqp_json_true_false_null(yy, "false"); ;
  }



}
static void yy_1_VALJ(yycontext *yy, char *yytext, int yyleng)
{



  ;
  {
# 210 "./jqp.leg"
   yy->__ = _jqp_json_true_false_null(yy, "true"); ;
  }



}
static void yy_1_PAIRJ(yycontext *yy, char *yytext, int yyleng)
{





  ;
  {
# 204 "./jqp.leg"
   yy->__ = _jqp_json_pair(yy, yy->__val[-2], yy->__val[-1]); ;
  }





}
static void yy_1_SARRJ(yycontext *yy, char *yytext, int yyleng)
{



  ;
  {
# 202 "./jqp.leg"
   yy->__ = _jqp_unit(yy); ;
  }



}
static void yy_1_SOBJJ(yycontext *yy, char *yytext, int yyleng)
{



  ;
  {
# 200 "./jqp.leg"
   yy->__ = _jqp_unit(yy); ;
  }



}
static void yy_4_ARRJ(yycontext *yy, char *yytext, int yyleng)
{






  ;
  {
# 198 "./jqp.leg"
   yy->__ = _jqp_json_collect(yy, JBV_ARRAY, yy->__val[-3]); ;
  }






}
static void yy_3_ARRJ(yycontext *yy, char *yytext, int yyleng)
{






  ;
  {
# 197 "./jqp.leg"
   _jqp_unit_push(yy, yy->__val[-1]); ;
  }






}
static void yy_2_ARRJ(yycontext *yy, char *yytext, int yyleng)
{






  ;
  {
# 197 "./jqp.leg"
   _jqp_unit_push(yy, yy->__val[-2]); ;
  }






}
static void yy_1_ARRJ(yycontext *yy, char *yytext, int yyleng)
{






  ;
  {
# 196 "./jqp.leg"
   _jqp_unit_push(yy, yy->__val[-3]); ;
  }






}
static void yy_4_OBJJ(yycontext *yy, char *yytext, int yyleng)
{






  ;
  {
# 194 "./jqp.leg"
   yy->__ = _jqp_json_collect(yy, JBV_OBJECT, yy->__val[-3]); ;
  }






}
static void yy_3_OBJJ(yycontext *yy, char *yytext, int yyleng)
{






  ;
  {
# 193 "./jqp.leg"
   _jqp_unit_push(yy, yy->__val[-1]); ;
  }






}
static void yy_2_OBJJ(yycontext *yy, char *yytext, int yyleng)
{






  ;
  {
# 193 "./jqp.leg"
   _jqp_unit_push(yy, yy->__val[-2]); ;
  }






}
static void yy_1_OBJJ(yycontext *yy, char *yytext, int yyleng)
{






  ;
  {
# 192 "./jqp.leg"
   _jqp_unit_push(yy, yy->__val[-3]); ;
  }






}
static void yy_1_STRN(yycontext *yy, char *yytext, int yyleng)
{



  ;
  {
# 190 "./jqp.leg"
   yy->__ = _jqp_unescaped_string(yy, ((jqp_string_flavours_t) 0x10U), yytext); ;
  }



}
static void yy_1_STRSTAR(yycontext *yy, char *yytext, int yyleng)
{



  ;
  {
# 188 "./jqp.leg"
   yy->__ = _jqp_unescaped_string(yy, ((jqp_string_flavours_t) 0x20U), "*"); ;
  }



}
static void yy_1_DBLSTAR(yycontext *yy, char *yytext, int yyleng)
{



  ;
  {
# 186 "./jqp.leg"
   yy->__ = _jqp_unescaped_string(yy, ((jqp_string_flavours_t) 0x80U), "**"); ;
  }



}
static void yy_1_STRP(yycontext *yy, char *yytext, int yyleng)
{



  ;
  {
# 184 "./jqp.leg"
   yy->__ = _jqp_unescaped_string(yy, 0, yytext); ;
  }



}
static void yy_9_NEXOP(yycontext *yy, char *yytext, int yyleng)
{



  ;
  {
# 182 "./jqp.leg"
   yy->__ = _jqp_unit_op(yy, yytext); ;
  }



}
static void yy_8_NEXOP(yycontext *yy, char *yytext, int yyleng)
{



  ;
  {
# 181 "./jqp.leg"
   yy->__ = _jqp_unit_op(yy, yytext); ;
  }



}
static void yy_7_NEXOP(yycontext *yy, char *yytext, int yyleng)
{



  ;
  {
# 180 "./jqp.leg"
   yy->__ = _jqp_unit_op(yy, yytext); ;
  }



}
static void yy_6_NEXOP(yycontext *yy, char *yytext, int yyleng)
{



  ;
  {
# 179 "./jqp.leg"
   yy->__ = _jqp_unit_op(yy, yytext); ;
  }



}
static void yy_5_NEXOP(yycontext *yy, char *yytext, int yyleng)
{



  ;
  {
# 179 "./jqp.leg"
   _jqp_op_negate(yy); ;
  }



}
static void yy_4_NEXOP(yycontext *yy, char *yytext, int yyleng)
{



  ;
  {
# 178 "./jqp.leg"
   yy->__ = _jqp_unit_op(yy, yytext); ;
  }



}
static void yy_3_NEXOP(yycontext *yy, char *yytext, int yyleng)
{



  ;
  {
# 177 "./jqp.leg"
   yy->__ = _jqp_unit_op(yy, yytext); ;
  }



}
static void yy_2_NEXOP(yycontext *yy, char *yytext, int yyleng)
{



  ;
  {
# 176 "./jqp.leg"
   yy->__ = _jqp_unit_op(yy, yytext); ;
  }



}
static void yy_1_NEXOP(yycontext *yy, char *yytext, int yyleng)
{



  ;
  {
# 176 "./jqp.leg"
   _jqp_op_negate(yy); ;
  }



}
static void yy_1_PLACEHOLDER(yycontext *yy, char *yytext, int yyleng)
{



  ;
  {
# 174 "./jqp.leg"
   yy->__ = _jqp_placeholder(yy, yytext); ;
  }



}
static void yy_1_NEXPRLEFT(yycontext *yy, char *yytext, int yyleng)
{






  ;
  {
# 170 "./jqp.leg"
   yy->__ = _jqp_expr(yy, yy->__val[-3], yy->__val[-2], yy->__val[-1]); ;
  }






}
static void yy_1_NEXPAIR(yycontext *yy, char *yytext, int yyleng)
{






  ;
  {
# 166 "./jqp.leg"
   yy->__ = _jqp_expr(yy, yy->__val[-3], yy->__val[-2], yy->__val[-1]); ;
  }






}
static void yy_2_NEXJOIN(yycontext *yy, char *yytext, int yyleng)
{



  ;
  {
# 164 "./jqp.leg"
   yy->__ = _jqp_unit_join(yy, yytext); ;
  }



}
static void yy_1_NEXJOIN(yycontext *yy, char *yytext, int yyleng)
{



  ;
  {
# 164 "./jqp.leg"
   _jqp_op_negate(yy); ;
  }



}
static void yy_4_NEXPR(yycontext *yy, char *yytext, int yyleng)
{






  ;
  {
# 162 "./jqp.leg"
   yy->__ = _jqp_pop_expr_chain(yy, yy->__val[-3]); ;
  }






}
static void yy_3_NEXPR(yycontext *yy, char *yytext, int yyleng)
{






  ;
  {
# 161 "./jqp.leg"
   _jqp_unit_push(yy, yy->__val[-1]); ;
  }






}
static void yy_2_NEXPR(yycontext *yy, char *yytext, int yyleng)
{






  ;
  {
# 161 "./jqp.leg"
   _jqp_unit_push(yy, yy->__val[-2]); ;
  }






}
static void yy_1_NEXPR(yycontext *yy, char *yytext, int yyleng)
{






  ;
  {
# 160 "./jqp.leg"
   _jqp_unit_push(yy, yy->__val[-3]); ;
  }






}
static void yy_1_NODE(yycontext *yy, char *yytext, int yyleng)
{




  ;
  {
# 158 "./jqp.leg"
   yy->__ = _jqp_node(yy, yy->__val[-1]); ;
  }




}
static void yy_1_FILTERANCHOR(yycontext *yy, char *yytext, int yyleng)
{



  ;
  {
# 155 "./jqp.leg"
   yy->__ = _jqp_string(yy, ((jqp_string_flavours_t) 0x02U), yytext); ;
  }



}
static void yy_4_FILTER(yycontext *yy, char *yytext, int yyleng)
{






  ;
  {
# 153 "./jqp.leg"
   yy->__ = _jqp_pop_node_chain(yy, yy->__val[-2]); ;
  }






}
static void yy_3_FILTER(yycontext *yy, char *yytext, int yyleng)
{






  ;
  {
# 153 "./jqp.leg"
   _jqp_unit_push(yy, yy->__val[-1]); ;
  }






}
static void yy_2_FILTER(yycontext *yy, char *yytext, int yyleng)
{






  ;
  {
# 153 "./jqp.leg"
   _jqp_unit_push(yy, yy->__val[-2]); ;
  }






}
static void yy_1_FILTER(yycontext *yy, char *yytext, int yyleng)
{






  ;
  {
# 153 "./jqp.leg"
   _jqp_unit_push(yy, yy->__val[-3]); ;
  }






}
static void yy_4_FILTEREXPR(yycontext *yy, char *yytext, int yyleng)
{






  ;
  {
# 151 "./jqp.leg"
   yy->__ = _jqp_pop_filter_factor_chain(yy, yy->__val[-3]); ;
  }






}
static void yy_3_FILTEREXPR(yycontext *yy, char *yytext, int yyleng)
{






  ;
  {
# 151 "./jqp.leg"
   _jqp_unit_push(yy, yy->__val[-1]); ;
  }






}
static void yy_2_FILTEREXPR(yycontext *yy, char *yytext, int yyleng)
{






  ;
  {
# 151 "./jqp.leg"
   _jqp_unit_push(yy, yy->__val[-2]); ;
  }






}
static void yy_1_FILTEREXPR(yycontext *yy, char *yytext, int yyleng)
{






  ;
  {
# 150 "./jqp.leg"
   _jqp_unit_push(yy, yy->__val[-3]); ;
  }






}
static void yy_1_PSTRP(yycontext *yy, char *yytext, int yyleng)
{



  ;
  {
# 140 "./jqp.leg"
   yy->__ = _jqp_string(yy, 0, yytext); ;
  }



}
static void yy_3_PROJFIELDS(yycontext *yy, char *yytext, int yyleng)
{





  ;
  {
# 134 "./jqp.leg"
   yy->__ = _jqp_pop_projfields_chain(yy, yy->__val[-2]); ;
  }





}
static void yy_2_PROJFIELDS(yycontext *yy, char *yytext, int yyleng)
{





  ;
  {
# 133 "./jqp.leg"
   _jqp_unit_push(yy, yy->__val[-1]); ;
  }





}
static void yy_1_PROJFIELDS(yycontext *yy, char *yytext, int yyleng)
{





  ;
  {
# 133 "./jqp.leg"
   _jqp_unit_push(yy, yy->__val[-2]); ;
  }





}
static void yy_1_PROJALL(yycontext *yy, char *yytext, int yyleng)
{



  ;
  {
# 129 "./jqp.leg"
   yy->__ = _jqp_string(yy, ((jqp_string_flavours_t) 0x08U), "all"); ;
  }



}
static void yy_4_PROJNODES(yycontext *yy, char *yytext, int yyleng)
{






  ;
  {
# 127 "./jqp.leg"
   yy->__ = _jqp_pop_projection_nodes(yy, yy->__val[-2]); ;
  }






}
static void yy_3_PROJNODES(yycontext *yy, char *yytext, int yyleng)
{






  ;
  {
# 127 "./jqp.leg"
   _jqp_unit_push(yy, yy->__val[-1]);;
  }






}
static void yy_2_PROJNODES(yycontext *yy, char *yytext, int yyleng)
{






  ;
  {
# 127 "./jqp.leg"
   _jqp_unit_push(yy, yy->__val[-2]); ;
  }






}
static void yy_1_PROJNODES(yycontext *yy, char *yytext, int yyleng)
{






  ;
  {
# 126 "./jqp.leg"
   yy->__ = _jqp_projection(yy, yy->__val[-3], 0); ;
  }






}
static void yy_3_ORDERNODES(yycontext *yy, char *yytext, int yyleng)
{





  ;
  {
# 122 "./jqp.leg"
   yy->__ = _jqp_pop_ordernodes(yy, yy->__val[-2]) ;
  }





}
static void yy_2_ORDERNODES(yycontext *yy, char *yytext, int yyleng)
{





  ;
  {
# 122 "./jqp.leg"
   _jqp_unit_push(yy, yy->__val[-1]); ;
  }





}
static void yy_1_ORDERNODES(yycontext *yy, char *yytext, int yyleng)
{





  ;
  {
# 122 "./jqp.leg"
   _jqp_unit_push(yy, yy->__val[-2]); ;
  }





}
static void yy_2_ORDERBY(yycontext *yy, char *yytext, int yyleng)
{




  ;
  {
# 120 "./jqp.leg"
   yy->__val[-1]->string.flavour |= (yy->aux->negate ? ((jqp_string_flavours_t) 0x40U) : 0); _jqp_op_negate_reset(yy); _jqp_add_orderby(yy, yy->__val[-1]); ;
  }




}
static void yy_1_ORDERBY(yycontext *yy, char *yytext, int yyleng)
{




  ;
  {
# 118 "./jqp.leg"
   _jqp_op_negate(yy); ;
  }




}
static void yy_1_INVERSE(yycontext *yy, char *yytext, int yyleng)
{



  ;
  {
# 116 "./jqp.leg"
   _jqp_set_inverse(yy); ;
  }



}
static void yy_1_NOIDX(yycontext *yy, char *yytext, int yyleng)
{



  ;
  {
# 114 "./jqp.leg"
   _jqp_set_noidx(yy); ;
  }



}
static void yy_1_COUNT(yycontext *yy, char *yytext, int yyleng)
{



  ;
  {
# 112 "./jqp.leg"
   _jqp_set_aggregate_count(yy); ;
  }



}
static void yy_3_LIMIT(yycontext *yy, char *yytext, int yyleng)
{




  ;
  {
# 110 "./jqp.leg"
   _jqp_set_limit(yy, yy->__); ;
  }




}
static void yy_2_LIMIT(yycontext *yy, char *yytext, int yyleng)
{




  ;
  {
# 110 "./jqp.leg"
   yy->__ = yy->__val[-1]; ;
  }




}
static void yy_1_LIMIT(yycontext *yy, char *yytext, int yyleng)
{




  ;
  {
# 110 "./jqp.leg"
   yy->__ = _jqp_number(yy, ((jqp_int_flavours_t) 0x02U), yytext); ;
  }




}
static void yy_3_SKIP(yycontext *yy, char *yytext, int yyleng)
{




  ;
  {
# 108 "./jqp.leg"
   _jqp_set_skip(yy, yy->__); ;
  }




}
static void yy_2_SKIP(yycontext *yy, char *yytext, int yyleng)
{




  ;
  {
# 108 "./jqp.leg"
   yy->__ = yy->__val[-1]; ;
  }




}
static void yy_1_SKIP(yycontext *yy, char *yytext, int yyleng)
{




  ;
  {
# 108 "./jqp.leg"
   yy->__ = _jqp_number(yy, ((jqp_int_flavours_t) 0x01U), yytext); ;
  }




}
static void yy_4_PROJECTION(yycontext *yy, char *yytext, int yyleng)
{





  ;
  {
# 102 "./jqp.leg"
   yy->__ = _jqp_pop_joined_projections(yy, yy->__val[-2]); ;
  }





}
static void yy_3_PROJECTION(yycontext *yy, char *yytext, int yyleng)
{





  ;
  {
# 101 "./jqp.leg"
   _jqp_push_joined_projection(yy, yy->__val[-1]); ;
  }





}
static void yy_2_PROJECTION(yycontext *yy, char *yytext, int yyleng)
{





  ;
  {
# 101 "./jqp.leg"
   _jqp_string_push(yy, yytext, 
# 101 "./jqp.leg" 3 4
                               1
# 101 "./jqp.leg"
                                   ); ;
  }





}
static void yy_1_PROJECTION(yycontext *yy, char *yytext, int yyleng)
{





  ;
  {
# 100 "./jqp.leg"
   _jqp_unit_push(yy, yy->__val[-2]); ;
  }





}
static void yy_2_FILTERJOIN(yycontext *yy, char *yytext, int yyleng)
{



  ;
  {
# 94 "./jqp.leg"
   yy->__ = _jqp_unit_join(yy, yytext); ;
  }



}
static void yy_1_FILTERJOIN(yycontext *yy, char *yytext, int yyleng)
{



  ;
  {
# 94 "./jqp.leg"
   _jqp_op_negate(yy); ;
  }



}
static void yy_2_FILTEREXPR_PK(yycontext *yy, char *yytext, int yyleng)
{





  ;
  {
# 92 "./jqp.leg"
   yy->__ = _jqp_create_filterexpr_pk(yy, yy->__val[-1]) ;
  }





}
static void yy_1_FILTEREXPR_PK(yycontext *yy, char *yytext, int yyleng)
{





  ;
  {
# 90 "./jqp.leg"
   _jqp_unit_push(yy, yy->__val[-2]); ;
  }





}
static void yy_6_QUERY(yycontext *yy, char *yytext, int yyleng)
{







  ;
  {
# 86 "./jqp.leg"
   _jqp_finish(yy); ;
  }







}
static void yy_5_QUERY(yycontext *yy, char *yytext, int yyleng)
{







  ;
  {
# 84 "./jqp.leg"
   _jqp_set_projection(yy, yy->__val[-1]); ;
  }







}
static void yy_4_QUERY(yycontext *yy, char *yytext, int yyleng)
{







  ;
  {
# 83 "./jqp.leg"
   _jqp_set_apply_upsert(yy, yy->__val[-2]); ;
  }







}
static void yy_3_QUERY(yycontext *yy, char *yytext, int yyleng)
{







  ;
  {
# 83 "./jqp.leg"
   _jqp_set_apply_delete(yy); ;
  }







}
static void yy_2_QUERY(yycontext *yy, char *yytext, int yyleng)
{







  ;
  {
# 83 "./jqp.leg"
   _jqp_set_apply(yy, yy->__val[-3]); ;
  }







}
static void yy_1_QUERY(yycontext *yy, char *yytext, int yyleng)
{







  ;
  {
# 82 "./jqp.leg"
   _jqp_set_filters_expr(yy, yy->__val[-4]); ;
  }







}

static int yy_EOL(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  ;
  { int yypos2= yy->__pos, yythunkpos2= yy->__thunkpos; if (!yymatchString(yy, "\r\n")) goto l3; goto l2;
  l3:; yy->__pos= yypos2; yy->__thunkpos= yythunkpos2; if (!yymatchChar(yy, '\n')) goto l4; goto l2;
  l4:; yy->__pos= yypos2; yy->__thunkpos= yythunkpos2; if (!yymatchChar(yy, '\r')) goto l1;
  }
  l2:;
  ;
  return 1;
  l1:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_SPACE(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  ;
  { int yypos6= yy->__pos, yythunkpos6= yy->__thunkpos; if (!yymatchChar(yy, ' ')) goto l7; goto l6;
  l7:; yy->__pos= yypos6; yy->__thunkpos= yythunkpos6; if (!yymatchChar(yy, '\t')) goto l8; goto l6;
  l8:; yy->__pos= yypos6; yy->__thunkpos= yythunkpos6; if (!yy_EOL(yy)) goto l5;
  }
  l6:;
  ;
  return 1;
  l5:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_NUME(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  ; if (!yymatchClass(yy, (unsigned char *)"\000\000\000\000\000\000\000\000\040\000\000\000\040\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000")) goto l9; if (!yymatchClass(yy, (unsigned char *)"\000\000\000\000\001\370\377\377\377\377\377\077\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000")) goto l9;
  l10:;
  { int yypos11= yy->__pos, yythunkpos11= yy->__thunkpos; if (!yymatchClass(yy, (unsigned char *)"\000\000\000\000\001\370\377\377\377\377\377\077\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000")) goto l11; goto l10;
  l11:; yy->__pos= yypos11; yy->__thunkpos= yythunkpos11;
  }
  ;
  return 1;
  l9:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_NUMF(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  ; if (!yymatchChar(yy, '.')) goto l12; if (!yymatchClass(yy, (unsigned char *)"\000\000\000\000\000\000\377\003\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000")) goto l12;
  l13:;
  { int yypos14= yy->__pos, yythunkpos14= yy->__thunkpos; if (!yymatchClass(yy, (unsigned char *)"\000\000\000\000\000\000\377\003\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000")) goto l14; goto l13;
  l14:; yy->__pos= yypos14; yy->__thunkpos= yythunkpos14;
  }
  ;
  return 1;
  l12:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_NUMJ(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  ; yyText(yy, yy->__begin, yy->__end); {


if (!(( yy->__begin= yy->__pos, 1))) goto l15;


  }
  { int yypos16= yy->__pos, yythunkpos16= yy->__thunkpos; if (!yymatchChar(yy, '-')) goto l16; goto l17;
  l16:; yy->__pos= yypos16; yy->__thunkpos= yythunkpos16;
  }
  l17:; if (!yy_NUMI(yy)) goto l15;
  { int yypos18= yy->__pos, yythunkpos18= yy->__thunkpos; if (!yy_NUMF(yy)) goto l18; goto l19;
  l18:; yy->__pos= yypos18; yy->__thunkpos= yythunkpos18;
  }
  l19:;
  { int yypos20= yy->__pos, yythunkpos20= yy->__thunkpos; if (!yy_NUME(yy)) goto l20; goto l21;
  l20:; yy->__pos= yypos20; yy->__thunkpos= yythunkpos20;
  }
  l21:; yyText(yy, yy->__begin, yy->__end); {


if (!(( yy->__end= yy->__pos, 1))) goto l15;


  } yyDo(yy, yy_1_NUMJ, yy->__begin, yy->__end);
  ;
  return 1;
  l15:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_STRJ(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  ; if (!yymatchChar(yy, '"')) goto l22; yyText(yy, yy->__begin, yy->__end); {


if (!(( yy->__begin= yy->__pos, 1))) goto l22;


  }
  l23:;
  { int yypos24= yy->__pos, yythunkpos24= yy->__thunkpos; if (!yy_CHJ(yy)) goto l24; goto l23;
  l24:; yy->__pos= yypos24; yy->__thunkpos= yythunkpos24;
  } yyText(yy, yy->__begin, yy->__end); {


if (!(( yy->__end= yy->__pos, 1))) goto l22;


  } if (!yymatchChar(yy, '"')) goto l22; yyDo(yy, yy_1_STRJ, yy->__begin, yy->__end);
  ;
  return 1;
  l22:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_SARRJ(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  ; if (!yymatchChar(yy, '[')) goto l25; yyDo(yy, yy_1_SARRJ, yy->__begin, yy->__end);
  ;
  return 1;
  l25:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_PAIRJ(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos; yyDo(yy, yyPush, 2, 0);
  ; if (!yy_STRJ(yy)) goto l26; yyDo(yy, yySet, -2, 0); if (!yy__(yy)) goto l26; if (!yymatchChar(yy, ':')) goto l26; if (!yy__(yy)) goto l26; if (!yy_VALJ(yy)) goto l26; yyDo(yy, yySet, -1, 0); yyDo(yy, yy_1_PAIRJ, yy->__begin, yy->__end);
  ; yyDo(yy, yyPop, 2, 0);
  return 1;
  l26:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_SOBJJ(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  ; if (!yymatchChar(yy, '{')) goto l27; yyDo(yy, yy_1_SOBJJ, yy->__begin, yy->__end);
  ;
  return 1;
  l27:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_CHJ(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  ;
  { int yypos29= yy->__pos, yythunkpos29= yy->__thunkpos; if (!yymatchChar(yy, '\\')) goto l30; if (!yymatchChar(yy, '"')) goto l30; goto l29;
  l30:; yy->__pos= yypos29; yy->__thunkpos= yythunkpos29; if (!yymatchChar(yy, '\\')) goto l31; if (!yymatchChar(yy, '\\')) goto l31; goto l29;
  l31:; yy->__pos= yypos29; yy->__thunkpos= yythunkpos29; if (!yymatchChar(yy, '\\')) goto l32; if (!yymatchClass(yy, (unsigned char *)"\000\000\000\000\000\000\000\000\000\000\000\000\104\100\024\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000")) goto l32; goto l29;
  l32:; yy->__pos= yypos29; yy->__thunkpos= yythunkpos29; if (!yymatchChar(yy, '\\')) goto l33; if (!yymatchChar(yy, 'u')) goto l33; if (!yy_HEX(yy)) goto l33; if (!yy_HEX(yy)) goto l33; if (!yy_HEX(yy)) goto l33; if (!yy_HEX(yy)) goto l33; goto l29;
  l33:; yy->__pos= yypos29; yy->__thunkpos= yythunkpos29;
  { int yypos34= yy->__pos, yythunkpos34= yy->__thunkpos; if (!yymatchChar(yy, '"')) goto l34; goto l28;
  l34:; yy->__pos= yypos34; yy->__thunkpos= yythunkpos34;
  } if (!yymatchDot(yy)) goto l28;
  }
  l29:;
  ;
  return 1;
  l28:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_CHP(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  ;
  { int yypos36= yy->__pos, yythunkpos36= yy->__thunkpos; if (!yymatchChar(yy, '\\')) goto l37; if (!yymatchChar(yy, '\\')) goto l37; goto l36;
  l37:; yy->__pos= yypos36; yy->__thunkpos= yythunkpos36; if (!yymatchChar(yy, '\\')) goto l38; if (!yymatchClass(yy, (unsigned char *)"\000\000\000\000\000\000\000\000\000\000\000\000\104\100\024\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000")) goto l38; goto l36;
  l38:; yy->__pos= yypos36; yy->__thunkpos= yythunkpos36; if (!yymatchChar(yy, '\\')) goto l39; if (!yymatchChar(yy, 'u')) goto l39; if (!yy_HEX(yy)) goto l39; if (!yy_HEX(yy)) goto l39; if (!yy_HEX(yy)) goto l39; if (!yy_HEX(yy)) goto l39; goto l36;
  l39:; yy->__pos= yypos36; yy->__thunkpos= yythunkpos36;
  { int yypos40= yy->__pos, yythunkpos40= yy->__thunkpos; if (!yymatchClass(yy, (unsigned char *)"\000\046\000\000\007\203\000\160\000\000\000\050\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000")) goto l40; goto l35;
  l40:; yy->__pos= yypos40; yy->__thunkpos= yythunkpos40;
  } if (!yymatchDot(yy)) goto l35;
  }
  l36:;
  ;
  return 1;
  l35:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_VALJ(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  ;
  { int yypos42= yy->__pos, yythunkpos42= yy->__thunkpos; if (!yy_STRJ(yy)) goto l43; goto l42;
  l43:; yy->__pos= yypos42; yy->__thunkpos= yythunkpos42; if (!yy_NUMJ(yy)) goto l44; goto l42;
  l44:; yy->__pos= yypos42; yy->__thunkpos= yythunkpos42; if (!yy_OBJJ(yy)) goto l45; goto l42;
  l45:; yy->__pos= yypos42; yy->__thunkpos= yythunkpos42; if (!yy_ARRJ(yy)) goto l46; goto l42;
  l46:; yy->__pos= yypos42; yy->__thunkpos= yythunkpos42; if (!yymatchString(yy, "true")) goto l47; yyDo(yy, yy_1_VALJ, yy->__begin, yy->__end); goto l42;
  l47:; yy->__pos= yypos42; yy->__thunkpos= yythunkpos42; if (!yymatchString(yy, "false")) goto l48; yyDo(yy, yy_2_VALJ, yy->__begin, yy->__end); goto l42;
  l48:; yy->__pos= yypos42; yy->__thunkpos= yythunkpos42; if (!yymatchString(yy, "null")) goto l41; yyDo(yy, yy_3_VALJ, yy->__begin, yy->__end);
  }
  l42:;
  ;
  return 1;
  l41:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_NEXPRLEFT(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos; yyDo(yy, yyPush, 3, 0);
  ; if (!yymatchChar(yy, '[')) goto l49; if (!yy__(yy)) goto l49; if (!yy_STRSTAR(yy)) goto l49; yyDo(yy, yySet, -3, 0); if (!yy__(yy)) goto l49; if (!yy_NEXOP(yy)) goto l49; yyDo(yy, yySet, -2, 0); if (!yy__(yy)) goto l49; if (!yy_NEXRIGHT(yy)) goto l49; yyDo(yy, yySet, -1, 0); if (!yy__(yy)) goto l49; if (!yymatchChar(yy, ']')) goto l49; yyDo(yy, yy_1_NEXPRLEFT, yy->__begin, yy->__end);
  ; yyDo(yy, yyPop, 3, 0);
  return 1;
  l49:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_STRSTAR(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  ; if (!yymatchChar(yy, '*')) goto l50; yyDo(yy, yy_1_STRSTAR, yy->__begin, yy->__end);
  ;
  return 1;
  l50:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_DBLSTAR(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  ; if (!yymatchString(yy, "**")) goto l51; yyDo(yy, yy_1_DBLSTAR, yy->__begin, yy->__end);
  ;
  return 1;
  l51:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_NEXRIGHT(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  ;
  { int yypos53= yy->__pos, yythunkpos53= yy->__thunkpos; if (!yy_PLACEHOLDER(yy)) goto l54; goto l53;
  l54:; yy->__pos= yypos53; yy->__thunkpos= yythunkpos53; if (!yy_VALJ(yy)) goto l55; goto l53;
  l55:; yy->__pos= yypos53; yy->__thunkpos= yythunkpos53; if (!yy_STRP(yy)) goto l52;
  }
  l53:;
  ;
  return 1;
  l52:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_NEXOP(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  ;
  { int yypos57= yy->__pos, yythunkpos57= yy->__thunkpos;
  { int yypos59= yy->__pos, yythunkpos59= yy->__thunkpos; if (!yymatchString(yy, "not")) goto l59; if (!yy___(yy)) goto l59; yyDo(yy, yy_1_NEXOP, yy->__begin, yy->__end); goto l60;
  l59:; yy->__pos= yypos59; yy->__thunkpos= yythunkpos59;
  }
  l60:; yyText(yy, yy->__begin, yy->__end); {


if (!(( yy->__begin= yy->__pos, 1))) goto l58;


  }
  { int yypos61= yy->__pos, yythunkpos61= yy->__thunkpos; if (!yymatchString(yy, "in")) goto l62; goto l61;
  l62:; yy->__pos= yypos61; yy->__thunkpos= yythunkpos61; if (!yymatchString(yy, "ni")) goto l63; goto l61;
  l63:; yy->__pos= yypos61; yy->__thunkpos= yythunkpos61; if (!yymatchString(yy, "re")) goto l58;
  }
  l61:; yyText(yy, yy->__begin, yy->__end); {


if (!(( yy->__end= yy->__pos, 1))) goto l58;


  } yyDo(yy, yy_2_NEXOP, yy->__begin, yy->__end); goto l57;
  l58:; yy->__pos= yypos57; yy->__thunkpos= yythunkpos57; yyText(yy, yy->__begin, yy->__end); {


if (!(( yy->__begin= yy->__pos, 1))) goto l64;


  }
  { int yypos65= yy->__pos, yythunkpos65= yy->__thunkpos; if (!yymatchString(yy, ">=")) goto l66; goto l65;
  l66:; yy->__pos= yypos65; yy->__thunkpos= yythunkpos65; if (!yymatchString(yy, "gte")) goto l64;
  }
  l65:; yyText(yy, yy->__begin, yy->__end); {


if (!(( yy->__end= yy->__pos, 1))) goto l64;


  } yyDo(yy, yy_3_NEXOP, yy->__begin, yy->__end); goto l57;
  l64:; yy->__pos= yypos57; yy->__thunkpos= yythunkpos57; yyText(yy, yy->__begin, yy->__end); {


if (!(( yy->__begin= yy->__pos, 1))) goto l67;


  }
  { int yypos68= yy->__pos, yythunkpos68= yy->__thunkpos; if (!yymatchString(yy, "<=")) goto l69; goto l68;
  l69:; yy->__pos= yypos68; yy->__thunkpos= yythunkpos68; if (!yymatchString(yy, "lte")) goto l67;
  }
  l68:; yyText(yy, yy->__begin, yy->__end); {


if (!(( yy->__end= yy->__pos, 1))) goto l67;


  } yyDo(yy, yy_4_NEXOP, yy->__begin, yy->__end); goto l57;
  l67:; yy->__pos= yypos57; yy->__thunkpos= yythunkpos57;
  { int yypos71= yy->__pos, yythunkpos71= yy->__thunkpos; if (!yymatchChar(yy, '!')) goto l71; if (!yy__(yy)) goto l71; yyDo(yy, yy_5_NEXOP, yy->__begin, yy->__end); goto l72;
  l71:; yy->__pos= yypos71; yy->__thunkpos= yythunkpos71;
  }
  l72:; yyText(yy, yy->__begin, yy->__end); {


if (!(( yy->__begin= yy->__pos, 1))) goto l70;


  }
  { int yypos73= yy->__pos, yythunkpos73= yy->__thunkpos; if (!yymatchChar(yy, '=')) goto l74; goto l73;
  l74:; yy->__pos= yypos73; yy->__thunkpos= yythunkpos73; if (!yymatchString(yy, "eq")) goto l75; goto l73;
  l75:; yy->__pos= yypos73; yy->__thunkpos= yythunkpos73; if (!yymatchChar(yy, '~')) goto l70;
  }
  l73:; yyText(yy, yy->__begin, yy->__end); {


if (!(( yy->__end= yy->__pos, 1))) goto l70;


  } yyDo(yy, yy_6_NEXOP, yy->__begin, yy->__end); goto l57;
  l70:; yy->__pos= yypos57; yy->__thunkpos= yythunkpos57; yyText(yy, yy->__begin, yy->__end); {


if (!(( yy->__begin= yy->__pos, 1))) goto l76;


  }
  { int yypos77= yy->__pos, yythunkpos77= yy->__thunkpos; if (!yymatchChar(yy, '>')) goto l78; goto l77;
  l78:; yy->__pos= yypos77; yy->__thunkpos= yythunkpos77; if (!yymatchString(yy, "gt")) goto l76;
  }
  l77:; yyText(yy, yy->__begin, yy->__end); {


if (!(( yy->__end= yy->__pos, 1))) goto l76;


  } yyDo(yy, yy_7_NEXOP, yy->__begin, yy->__end); goto l57;
  l76:; yy->__pos= yypos57; yy->__thunkpos= yythunkpos57; yyText(yy, yy->__begin, yy->__end); {


if (!(( yy->__begin= yy->__pos, 1))) goto l79;


  }
  { int yypos80= yy->__pos, yythunkpos80= yy->__thunkpos; if (!yymatchChar(yy, '<')) goto l81; goto l80;
  l81:; yy->__pos= yypos80; yy->__thunkpos= yythunkpos80; if (!yymatchString(yy, "lt")) goto l79;
  }
  l80:; yyText(yy, yy->__begin, yy->__end); {


if (!(( yy->__end= yy->__pos, 1))) goto l79;


  } yyDo(yy, yy_8_NEXOP, yy->__begin, yy->__end); goto l57;
  l79:; yy->__pos= yypos57; yy->__thunkpos= yythunkpos57; yyText(yy, yy->__begin, yy->__end); {


if (!(( yy->__begin= yy->__pos, 1))) goto l56;


  } if (!yymatchChar(yy, '~')) goto l56; yyText(yy, yy->__begin, yy->__end); {


if (!(( yy->__end= yy->__pos, 1))) goto l56;


  } yyDo(yy, yy_9_NEXOP, yy->__begin, yy->__end);
  }
  l57:;
  ;
  return 1;
  l56:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_NEXLEFT(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  ;
  { int yypos83= yy->__pos, yythunkpos83= yy->__thunkpos; if (!yy_DBLSTAR(yy)) goto l84; goto l83;
  l84:; yy->__pos= yypos83; yy->__thunkpos= yythunkpos83; if (!yy_STRSTAR(yy)) goto l85; goto l83;
  l85:; yy->__pos= yypos83; yy->__thunkpos= yythunkpos83; if (!yy_STRN(yy)) goto l86; goto l83;
  l86:; yy->__pos= yypos83; yy->__thunkpos= yythunkpos83; if (!yy_NEXPRLEFT(yy)) goto l87; goto l83;
  l87:; yy->__pos= yypos83; yy->__thunkpos= yythunkpos83; if (!yy_STRP(yy)) goto l82;
  }
  l83:;
  ;
  return 1;
  l82:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_NEXJOIN(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  ; yyText(yy, yy->__begin, yy->__end); {


if (!(( yy->__begin= yy->__pos, 1))) goto l88;


  }
  { int yypos89= yy->__pos, yythunkpos89= yy->__thunkpos; if (!yymatchString(yy, "and")) goto l90; goto l89;
  l90:; yy->__pos= yypos89; yy->__thunkpos= yythunkpos89; if (!yymatchString(yy, "or")) goto l88;
  }
  l89:; yyText(yy, yy->__begin, yy->__end); {


if (!(( yy->__end= yy->__pos, 1))) goto l88;


  }
  { int yypos91= yy->__pos, yythunkpos91= yy->__thunkpos; if (!yy___(yy)) goto l91; if (!yymatchString(yy, "not")) goto l91; yyDo(yy, yy_1_NEXJOIN, yy->__begin, yy->__end); goto l92;
  l91:; yy->__pos= yypos91; yy->__thunkpos= yythunkpos91;
  }
  l92:; yyDo(yy, yy_2_NEXJOIN, yy->__begin, yy->__end);
  ;
  return 1;
  l88:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_NEXPAIR(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos; yyDo(yy, yyPush, 3, 0);
  ; if (!yy_NEXLEFT(yy)) goto l93; yyDo(yy, yySet, -3, 0); if (!yy__(yy)) goto l93; if (!yy_NEXOP(yy)) goto l93; yyDo(yy, yySet, -2, 0); if (!yy__(yy)) goto l93; if (!yy_NEXRIGHT(yy)) goto l93; yyDo(yy, yySet, -1, 0); yyDo(yy, yy_1_NEXPAIR, yy->__begin, yy->__end);
  ; yyDo(yy, yyPop, 3, 0);
  return 1;
  l93:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_STRP(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  ; yyText(yy, yy->__begin, yy->__end); {


if (!(( yy->__begin= yy->__pos, 1))) goto l94;


  } if (!yy_CHP(yy)) goto l94;
  l95:;
  { int yypos96= yy->__pos, yythunkpos96= yy->__thunkpos; if (!yy_CHP(yy)) goto l96; goto l95;
  l96:; yy->__pos= yypos96; yy->__thunkpos= yythunkpos96;
  } yyText(yy, yy->__begin, yy->__end); {


if (!(( yy->__end= yy->__pos, 1))) goto l94;


  } yyDo(yy, yy_1_STRP, yy->__begin, yy->__end);
  ;
  return 1;
  l94:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_NEXPR(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos; yyDo(yy, yyPush, 3, 0);
  ; if (!yymatchChar(yy, '[')) goto l97; if (!yy__(yy)) goto l97; if (!yy_NEXPAIR(yy)) goto l97; yyDo(yy, yySet, -3, 0); yyDo(yy, yy_1_NEXPR, yy->__begin, yy->__end);
  l98:;
  { int yypos99= yy->__pos, yythunkpos99= yy->__thunkpos; if (!yy___(yy)) goto l99; if (!yy_NEXJOIN(yy)) goto l99; yyDo(yy, yySet, -2, 0); yyDo(yy, yy_2_NEXPR, yy->__begin, yy->__end); if (!yy___(yy)) goto l99; if (!yy_NEXPAIR(yy)) goto l99; yyDo(yy, yySet, -1, 0); yyDo(yy, yy_3_NEXPR, yy->__begin, yy->__end); goto l98;
  l99:; yy->__pos= yypos99; yy->__thunkpos= yythunkpos99;
  } if (!yy__(yy)) goto l97; if (!yymatchChar(yy, ']')) goto l97; yyDo(yy, yy_4_NEXPR, yy->__begin, yy->__end);
  ; yyDo(yy, yyPop, 3, 0);
  return 1;
  l97:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_NODE(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos; yyDo(yy, yyPush, 1, 0);
  ; if (!yymatchChar(yy, '/')) goto l100;
  { int yypos101= yy->__pos, yythunkpos101= yy->__thunkpos; if (!yy_STRN(yy)) goto l102; yyDo(yy, yySet, -1, 0); goto l101;
  l102:; yy->__pos= yypos101; yy->__thunkpos= yythunkpos101; if (!yy_NEXPR(yy)) goto l103; yyDo(yy, yySet, -1, 0); goto l101;
  l103:; yy->__pos= yypos101; yy->__thunkpos= yythunkpos101; if (!yy_STRP(yy)) goto l100; yyDo(yy, yySet, -1, 0);
  }
  l101:; yyDo(yy, yy_1_NODE, yy->__begin, yy->__end);
  ; yyDo(yy, yyPop, 1, 0);
  return 1;
  l100:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_FILTER(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos; yyDo(yy, yyPush, 3, 0);
  ;
  { int yypos105= yy->__pos, yythunkpos105= yy->__thunkpos; if (!yy_FILTERANCHOR(yy)) goto l105; yyDo(yy, yySet, -3, 0); yyDo(yy, yy_1_FILTER, yy->__begin, yy->__end); goto l106;
  l105:; yy->__pos= yypos105; yy->__thunkpos= yythunkpos105;
  }
  l106:; if (!yy_NODE(yy)) goto l104; yyDo(yy, yySet, -2, 0); yyDo(yy, yy_2_FILTER, yy->__begin, yy->__end);
  l107:;
  { int yypos108= yy->__pos, yythunkpos108= yy->__thunkpos; if (!yy_NODE(yy)) goto l108; yyDo(yy, yySet, -1, 0); yyDo(yy, yy_3_FILTER, yy->__begin, yy->__end); goto l107;
  l108:; yy->__pos= yypos108; yy->__thunkpos= yythunkpos108;
  } yyDo(yy, yy_4_FILTER, yy->__begin, yy->__end);
  ; yyDo(yy, yyPop, 3, 0);
  return 1;
  l104:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_FILTERFACTOR(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  ;
  { int yypos110= yy->__pos, yythunkpos110= yy->__thunkpos; if (!yy_FILTER(yy)) goto l111; goto l110;
  l111:; yy->__pos= yypos110; yy->__thunkpos= yythunkpos110; if (!yymatchChar(yy, '(')) goto l109; if (!yy_FILTEREXPR(yy)) goto l109; if (!yymatchChar(yy, ')')) goto l109;
  }
  l110:;
  ;
  return 1;
  l109:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_HEX(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  ; if (!yymatchClass(yy, (unsigned char *)"\000\000\000\000\000\000\377\003\176\000\000\000\176\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000")) goto l112;
  ;
  return 1;
  l112:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_PCHP(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  ;
  { int yypos114= yy->__pos, yythunkpos114= yy->__thunkpos; if (!yymatchChar(yy, '\\')) goto l115; if (!yymatchChar(yy, '\\')) goto l115; goto l114;
  l115:; yy->__pos= yypos114; yy->__thunkpos= yythunkpos114; if (!yymatchChar(yy, '\\')) goto l116; if (!yymatchClass(yy, (unsigned char *)"\000\000\000\000\000\000\000\000\000\000\000\000\104\100\024\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000")) goto l116; goto l114;
  l116:; yy->__pos= yypos114; yy->__thunkpos= yythunkpos114; if (!yymatchChar(yy, '\\')) goto l117; if (!yymatchChar(yy, 'u')) goto l117; if (!yy_HEX(yy)) goto l117; if (!yy_HEX(yy)) goto l117; if (!yy_HEX(yy)) goto l117; if (!yy_HEX(yy)) goto l117; goto l114;
  l117:; yy->__pos= yypos114; yy->__thunkpos= yythunkpos114;
  { int yypos118= yy->__pos, yythunkpos118= yy->__thunkpos; if (!yymatchClass(yy, (unsigned char *)"\000\046\000\000\005\220\000\000\000\000\000\000\000\000\000\050\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000")) goto l118; goto l113;
  l118:; yy->__pos= yypos118; yy->__thunkpos= yythunkpos118;
  } if (!yymatchDot(yy)) goto l113;
  }
  l114:;
  ;
  return 1;
  l113:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_PSTRP(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  ; yyText(yy, yy->__begin, yy->__end); {


if (!(( yy->__begin= yy->__pos, 1))) goto l119;


  } if (!yy_PCHP(yy)) goto l119;
  l120:;
  { int yypos121= yy->__pos, yythunkpos121= yy->__thunkpos; if (!yy_PCHP(yy)) goto l121; goto l120;
  l121:; yy->__pos= yypos121; yy->__thunkpos= yythunkpos121;
  } yyText(yy, yy->__begin, yy->__end); {


if (!(( yy->__end= yy->__pos, 1))) goto l119;


  } yyDo(yy, yy_1_PSTRP, yy->__begin, yy->__end);
  ;
  return 1;
  l119:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_STRN(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  ; if (!yymatchChar(yy, '"')) goto l122; yyText(yy, yy->__begin, yy->__end); {


if (!(( yy->__begin= yy->__pos, 1))) goto l122;


  } if (!yy_CHJ(yy)) goto l122;
  l123:;
  { int yypos124= yy->__pos, yythunkpos124= yy->__thunkpos; if (!yy_CHJ(yy)) goto l124; goto l123;
  l124:; yy->__pos= yypos124; yy->__thunkpos= yythunkpos124;
  } yyText(yy, yy->__begin, yy->__end); {


if (!(( yy->__end= yy->__pos, 1))) goto l122;


  } if (!yymatchChar(yy, '"')) goto l122; yyDo(yy, yy_1_STRN, yy->__begin, yy->__end);
  ;
  return 1;
  l122:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_PROJFIELDS(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos; yyDo(yy, yyPush, 2, 0);
  ; if (!yymatchChar(yy, '{')) goto l125; if (!yy__(yy)) goto l125; if (!yy_PROJPROP(yy)) goto l125; yyDo(yy, yySet, -2, 0); yyDo(yy, yy_1_PROJFIELDS, yy->__begin, yy->__end);
  l126:;
  { int yypos127= yy->__pos, yythunkpos127= yy->__thunkpos; if (!yy__(yy)) goto l127; if (!yymatchChar(yy, ',')) goto l127; if (!yy__(yy)) goto l127; if (!yy_PROJPROP(yy)) goto l127; yyDo(yy, yySet, -1, 0); yyDo(yy, yy_2_PROJFIELDS, yy->__begin, yy->__end); goto l126;
  l127:; yy->__pos= yypos127; yy->__thunkpos= yythunkpos127;
  } if (!yy__(yy)) goto l125; if (!yymatchChar(yy, '}')) goto l125; yyDo(yy, yy_3_PROJFIELDS, yy->__begin, yy->__end);
  ; yyDo(yy, yyPop, 2, 0);
  return 1;
  l125:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_PROJNODE(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  ; if (!yymatchChar(yy, '/')) goto l128;
  { int yypos129= yy->__pos, yythunkpos129= yy->__thunkpos; if (!yy_PROJFIELDS(yy)) goto l130; goto l129;
  l130:; yy->__pos= yypos129; yy->__thunkpos= yythunkpos129; if (!yy_PROJPROP(yy)) goto l128;
  }
  l129:;
  ;
  return 1;
  l128:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_PROJALL(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  ; if (!yymatchString(yy, "all")) goto l131; yyDo(yy, yy_1_PROJALL, yy->__begin, yy->__end);
  ;
  return 1;
  l131:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_PROJPROP(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  ;
  { int yypos133= yy->__pos, yythunkpos133= yy->__thunkpos; if (!yy_STRN(yy)) goto l134; goto l133;
  l134:; yy->__pos= yypos133; yy->__thunkpos= yythunkpos133; if (!yy_PLACEHOLDER(yy)) goto l135; goto l133;
  l135:; yy->__pos= yypos133; yy->__thunkpos= yythunkpos133; if (!yy_PSTRP(yy)) goto l132;
  }
  l133:;
  ;
  return 1;
  l132:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_ORDERNODE(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  ; if (!yymatchChar(yy, '/')) goto l136; if (!yy_PROJPROP(yy)) goto l136;
  ;
  return 1;
  l136:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_ORDERNODES(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos; yyDo(yy, yyPush, 2, 0);
  ; if (!yy_ORDERNODE(yy)) goto l137; yyDo(yy, yySet, -2, 0); yyDo(yy, yy_1_ORDERNODES, yy->__begin, yy->__end);
  l138:;
  { int yypos139= yy->__pos, yythunkpos139= yy->__thunkpos; if (!yy_ORDERNODE(yy)) goto l139; yyDo(yy, yySet, -1, 0); yyDo(yy, yy_2_ORDERNODES, yy->__begin, yy->__end); goto l138;
  l139:; yy->__pos= yypos139; yy->__thunkpos= yythunkpos139;
  } yyDo(yy, yy_3_ORDERNODES, yy->__begin, yy->__end);
  ; yyDo(yy, yyPop, 2, 0);
  return 1;
  l137:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_NUMI(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  ;
  { int yypos141= yy->__pos, yythunkpos141= yy->__thunkpos; if (!yymatchChar(yy, '0')) goto l142; goto l141;
  l142:; yy->__pos= yypos141; yy->__thunkpos= yythunkpos141; if (!yymatchClass(yy, (unsigned char *)"\000\000\000\000\000\000\376\003\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000")) goto l140;
  l143:;
  { int yypos144= yy->__pos, yythunkpos144= yy->__thunkpos; if (!yymatchClass(yy, (unsigned char *)"\000\000\000\000\000\000\377\003\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000")) goto l144; goto l143;
  l144:; yy->__pos= yypos144; yy->__thunkpos= yythunkpos144;
  }
  }
  l141:;
  ;
  return 1;
  l140:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_INVERSE(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  ; if (!yymatchString(yy, "inverse")) goto l145; yyDo(yy, yy_1_INVERSE, yy->__begin, yy->__end);
  ;
  return 1;
  l145:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_NOIDX(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  ; if (!yymatchString(yy, "noidx")) goto l146; yyDo(yy, yy_1_NOIDX, yy->__begin, yy->__end);
  ;
  return 1;
  l146:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_COUNT(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  ; if (!yymatchString(yy, "count")) goto l147; yyDo(yy, yy_1_COUNT, yy->__begin, yy->__end);
  ;
  return 1;
  l147:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_ORDERBY(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos; yyDo(yy, yyPush, 1, 0);
  ;
  { int yypos149= yy->__pos, yythunkpos149= yy->__thunkpos; if (!yymatchString(yy, "asc")) goto l150; goto l149;
  l150:; yy->__pos= yypos149; yy->__thunkpos= yythunkpos149; if (!yymatchString(yy, "desc")) goto l148; yyDo(yy, yy_1_ORDERBY, yy->__begin, yy->__end);
  }
  l149:; if (!yy___(yy)) goto l148;
  { int yypos151= yy->__pos, yythunkpos151= yy->__thunkpos; if (!yy_ORDERNODES(yy)) goto l152; yyDo(yy, yySet, -1, 0); goto l151;
  l152:; yy->__pos= yypos151; yy->__thunkpos= yythunkpos151; if (!yy_PLACEHOLDER(yy)) goto l148; yyDo(yy, yySet, -1, 0);
  }
  l151:; yyDo(yy, yy_2_ORDERBY, yy->__begin, yy->__end);
  ; yyDo(yy, yyPop, 1, 0);
  return 1;
  l148:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_LIMIT(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos; yyDo(yy, yyPush, 1, 0);
  ; if (!yymatchString(yy, "limit")) goto l153; if (!yy___(yy)) goto l153;
  { int yypos154= yy->__pos, yythunkpos154= yy->__thunkpos; yyText(yy, yy->__begin, yy->__end); {


if (!(( yy->__begin= yy->__pos, 1))) goto l155;


  } if (!yy_NUMI(yy)) goto l155; yyText(yy, yy->__begin, yy->__end); {


if (!(( yy->__end= yy->__pos, 1))) goto l155;


  } yyDo(yy, yy_1_LIMIT, yy->__begin, yy->__end); goto l154;
  l155:; yy->__pos= yypos154; yy->__thunkpos= yythunkpos154; if (!yy_PLACEHOLDER(yy)) goto l153; yyDo(yy, yySet, -1, 0); yyDo(yy, yy_2_LIMIT, yy->__begin, yy->__end);
  }
  l154:; yyDo(yy, yy_3_LIMIT, yy->__begin, yy->__end);
  ; yyDo(yy, yyPop, 1, 0);
  return 1;
  l153:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_SKIP(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos; yyDo(yy, yyPush, 1, 0);
  ; if (!yymatchString(yy, "skip")) goto l156; if (!yy___(yy)) goto l156;
  { int yypos157= yy->__pos, yythunkpos157= yy->__thunkpos; yyText(yy, yy->__begin, yy->__end); {


if (!(( yy->__begin= yy->__pos, 1))) goto l158;


  } if (!yy_NUMI(yy)) goto l158; yyText(yy, yy->__begin, yy->__end); {


if (!(( yy->__end= yy->__pos, 1))) goto l158;


  } yyDo(yy, yy_1_SKIP, yy->__begin, yy->__end); goto l157;
  l158:; yy->__pos= yypos157; yy->__thunkpos= yythunkpos157; if (!yy_PLACEHOLDER(yy)) goto l156; yyDo(yy, yySet, -1, 0); yyDo(yy, yy_2_SKIP, yy->__begin, yy->__end);
  }
  l157:; yyDo(yy, yy_3_SKIP, yy->__begin, yy->__end);
  ; yyDo(yy, yyPop, 1, 0);
  return 1;
  l156:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_OPT(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  ;
  { int yypos160= yy->__pos, yythunkpos160= yy->__thunkpos; if (!yy_SKIP(yy)) goto l161; goto l160;
  l161:; yy->__pos= yypos160; yy->__thunkpos= yythunkpos160; if (!yy_LIMIT(yy)) goto l162; goto l160;
  l162:; yy->__pos= yypos160; yy->__thunkpos= yythunkpos160; if (!yy_ORDERBY(yy)) goto l163; goto l160;
  l163:; yy->__pos= yypos160; yy->__thunkpos= yythunkpos160; if (!yy_COUNT(yy)) goto l164; goto l160;
  l164:; yy->__pos= yypos160; yy->__thunkpos= yythunkpos160; if (!yy_NOIDX(yy)) goto l165; goto l160;
  l165:; yy->__pos= yypos160; yy->__thunkpos= yythunkpos160; if (!yy_INVERSE(yy)) goto l159;
  }
  l160:;
  ;
  return 1;
  l159:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_PROJOIN(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  ;
  { int yypos167= yy->__pos, yythunkpos167= yy->__thunkpos; if (!yymatchChar(yy, '+')) goto l168; goto l167;
  l168:; yy->__pos= yypos167; yy->__thunkpos= yythunkpos167; if (!yymatchChar(yy, '-')) goto l166;
  }
  l167:;
  ;
  return 1;
  l166:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_PROJNODES(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos; yyDo(yy, yyPush, 3, 0);
  ;
  { int yypos170= yy->__pos, yythunkpos170= yy->__thunkpos; if (!yy_PROJALL(yy)) goto l171; yyDo(yy, yySet, -3, 0); yyDo(yy, yy_1_PROJNODES, yy->__begin, yy->__end); goto l170;
  l171:; yy->__pos= yypos170; yy->__thunkpos= yythunkpos170; if (!yy_PROJNODE(yy)) goto l169; yyDo(yy, yySet, -2, 0); yyDo(yy, yy_2_PROJNODES, yy->__begin, yy->__end);
  l172:;
  { int yypos173= yy->__pos, yythunkpos173= yy->__thunkpos; if (!yy_PROJNODE(yy)) goto l173; yyDo(yy, yySet, -1, 0); yyDo(yy, yy_3_PROJNODES, yy->__begin, yy->__end); goto l172;
  l173:; yy->__pos= yypos173; yy->__thunkpos= yythunkpos173;
  } yyDo(yy, yy_4_PROJNODES, yy->__begin, yy->__end);
  }
  l170:;
  ; yyDo(yy, yyPop, 3, 0);
  return 1;
  l169:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_ARRJ(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos; yyDo(yy, yyPush, 3, 0);
  ; if (!yy_SARRJ(yy)) goto l174; yyDo(yy, yySet, -3, 0); yyDo(yy, yy_1_ARRJ, yy->__begin, yy->__end); if (!yy__(yy)) goto l174;
  { int yypos175= yy->__pos, yythunkpos175= yy->__thunkpos; if (!yy_VALJ(yy)) goto l175; yyDo(yy, yySet, -2, 0); yyDo(yy, yy_2_ARRJ, yy->__begin, yy->__end);
  l177:;
  { int yypos178= yy->__pos, yythunkpos178= yy->__thunkpos; if (!yy__(yy)) goto l178; if (!yymatchChar(yy, ',')) goto l178; if (!yy__(yy)) goto l178; if (!yy_VALJ(yy)) goto l178; yyDo(yy, yySet, -1, 0); yyDo(yy, yy_3_ARRJ, yy->__begin, yy->__end); goto l177;
  l178:; yy->__pos= yypos178; yy->__thunkpos= yythunkpos178;
  } goto l176;
  l175:; yy->__pos= yypos175; yy->__thunkpos= yythunkpos175;
  }
  l176:; if (!yy__(yy)) goto l174; if (!yymatchChar(yy, ']')) goto l174; yyDo(yy, yy_4_ARRJ, yy->__begin, yy->__end);
  ; yyDo(yy, yyPop, 3, 0);
  return 1;
  l174:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_OBJJ(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos; yyDo(yy, yyPush, 3, 0);
  ; if (!yy_SOBJJ(yy)) goto l179; yyDo(yy, yySet, -3, 0); yyDo(yy, yy_1_OBJJ, yy->__begin, yy->__end); if (!yy__(yy)) goto l179;
  { int yypos180= yy->__pos, yythunkpos180= yy->__thunkpos; if (!yy_PAIRJ(yy)) goto l180; yyDo(yy, yySet, -2, 0); yyDo(yy, yy_2_OBJJ, yy->__begin, yy->__end);
  l182:;
  { int yypos183= yy->__pos, yythunkpos183= yy->__thunkpos; if (!yy__(yy)) goto l183; if (!yymatchChar(yy, ',')) goto l183; if (!yy__(yy)) goto l183; if (!yy_PAIRJ(yy)) goto l183; yyDo(yy, yySet, -1, 0); yyDo(yy, yy_3_OBJJ, yy->__begin, yy->__end); goto l182;
  l183:; yy->__pos= yypos183; yy->__thunkpos= yythunkpos183;
  } goto l181;
  l180:; yy->__pos= yypos180; yy->__thunkpos= yythunkpos180;
  }
  l181:; if (!yy__(yy)) goto l179; if (!yymatchChar(yy, '}')) goto l179; yyDo(yy, yy_4_OBJJ, yy->__begin, yy->__end);
  ; yyDo(yy, yyPop, 3, 0);
  return 1;
  l179:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy___(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  ; if (!yy_SPACE(yy)) goto l184;
  l185:;
  { int yypos186= yy->__pos, yythunkpos186= yy->__thunkpos; if (!yy_SPACE(yy)) goto l186; goto l185;
  l186:; yy->__pos= yypos186; yy->__thunkpos= yythunkpos186;
  }
  ;
  return 1;
  l184:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_FILTERJOIN(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  ; yyText(yy, yy->__begin, yy->__end); {


if (!(( yy->__begin= yy->__pos, 1))) goto l187;


  }
  { int yypos188= yy->__pos, yythunkpos188= yy->__thunkpos; if (!yymatchString(yy, "and")) goto l189; goto l188;
  l189:; yy->__pos= yypos188; yy->__thunkpos= yythunkpos188; if (!yymatchString(yy, "or")) goto l187;
  }
  l188:; yyText(yy, yy->__begin, yy->__end); {


if (!(( yy->__end= yy->__pos, 1))) goto l187;


  }
  { int yypos190= yy->__pos, yythunkpos190= yy->__thunkpos; if (!yy___(yy)) goto l190; if (!yymatchString(yy, "not")) goto l190; yyDo(yy, yy_1_FILTERJOIN, yy->__begin, yy->__end); goto l191;
  l190:; yy->__pos= yypos190; yy->__thunkpos= yythunkpos190;
  }
  l191:; yyDo(yy, yy_2_FILTERJOIN, yy->__begin, yy->__end);
  ;
  return 1;
  l187:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_NUMPK_ARR(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos; yyDo(yy, yyPush, 3, 0);
  ; if (!yy_SARRJ(yy)) goto l192; yyDo(yy, yySet, -3, 0); yyDo(yy, yy_1_NUMPK_ARR, yy->__begin, yy->__end); if (!yy__(yy)) goto l192;
  { int yypos193= yy->__pos, yythunkpos193= yy->__thunkpos; if (!yy_NUMPK(yy)) goto l193; yyDo(yy, yySet, -2, 0); yyDo(yy, yy_2_NUMPK_ARR, yy->__begin, yy->__end);
  l195:;
  { int yypos196= yy->__pos, yythunkpos196= yy->__thunkpos; if (!yy__(yy)) goto l196; if (!yymatchChar(yy, ',')) goto l196; if (!yy__(yy)) goto l196; if (!yy_NUMPK(yy)) goto l196; yyDo(yy, yySet, -1, 0); yyDo(yy, yy_3_NUMPK_ARR, yy->__begin, yy->__end); goto l195;
  l196:; yy->__pos= yypos196; yy->__thunkpos= yythunkpos196;
  } goto l194;
  l193:; yy->__pos= yypos193; yy->__thunkpos= yythunkpos193;
  }
  l194:; if (!yy__(yy)) goto l192; if (!yymatchChar(yy, ']')) goto l192; yyDo(yy, yy_4_NUMPK_ARR, yy->__begin, yy->__end);
  ; yyDo(yy, yyPop, 3, 0);
  return 1;
  l192:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_NUMPK(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  ; yyText(yy, yy->__begin, yy->__end); {


if (!(( yy->__begin= yy->__pos, 1))) goto l197;


  } if (!yy_NUMI(yy)) goto l197; yyText(yy, yy->__begin, yy->__end); {


if (!(( yy->__end= yy->__pos, 1))) goto l197;


  } yyDo(yy, yy_1_NUMPK, yy->__begin, yy->__end);
  ;
  return 1;
  l197:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_PLACEHOLDER(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  ; if (!yymatchChar(yy, ':')) goto l198; yyText(yy, yy->__begin, yy->__end); {


if (!(( yy->__begin= yy->__pos, 1))) goto l198;


  }
  { int yypos199= yy->__pos, yythunkpos199= yy->__thunkpos; if (!yymatchClass(yy, (unsigned char *)"\000\000\000\000\000\000\377\003\376\377\377\007\376\377\377\007\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000")) goto l200;
  l201:;
  { int yypos202= yy->__pos, yythunkpos202= yy->__thunkpos; if (!yymatchClass(yy, (unsigned char *)"\000\000\000\000\000\000\377\003\376\377\377\007\376\377\377\007\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000")) goto l202; goto l201;
  l202:; yy->__pos= yypos202; yy->__thunkpos= yythunkpos202;
  } goto l199;
  l200:; yy->__pos= yypos199; yy->__thunkpos= yythunkpos199; if (!yymatchChar(yy, '?')) goto l198;
  }
  l199:; yyText(yy, yy->__begin, yy->__end); {


if (!(( yy->__end= yy->__pos, 1))) goto l198;


  } yyDo(yy, yy_1_PLACEHOLDER, yy->__begin, yy->__end);
  ;
  return 1;
  l198:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_FILTERANCHOR(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  ; if (!yymatchChar(yy, '@')) goto l203; yyText(yy, yy->__begin, yy->__end); {


if (!(( yy->__begin= yy->__pos, 1))) goto l203;


  } if (!yymatchClass(yy, (unsigned char *)"\000\000\000\000\000\040\377\003\376\377\377\207\376\377\377\007\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000")) goto l203;
  l204:;
  { int yypos205= yy->__pos, yythunkpos205= yy->__thunkpos; if (!yymatchClass(yy, (unsigned char *)"\000\000\000\000\000\040\377\003\376\377\377\207\376\377\377\007\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000")) goto l205; goto l204;
  l205:; yy->__pos= yypos205; yy->__thunkpos= yythunkpos205;
  } yyText(yy, yy->__begin, yy->__end); {


if (!(( yy->__end= yy->__pos, 1))) goto l203;


  } yyDo(yy, yy_1_FILTERANCHOR, yy->__begin, yy->__end);
  ;
  return 1;
  l203:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_FILTEREXPR(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos; yyDo(yy, yyPush, 3, 0);
  ; if (!yy_FILTERFACTOR(yy)) goto l206; yyDo(yy, yySet, -3, 0); yyDo(yy, yy_1_FILTEREXPR, yy->__begin, yy->__end);
  l207:;
  { int yypos208= yy->__pos, yythunkpos208= yy->__thunkpos; if (!yy___(yy)) goto l208; if (!yy_FILTERJOIN(yy)) goto l208; yyDo(yy, yySet, -2, 0); yyDo(yy, yy_2_FILTEREXPR, yy->__begin, yy->__end); if (!yy___(yy)) goto l208; if (!yy_FILTERFACTOR(yy)) goto l208; yyDo(yy, yySet, -1, 0); yyDo(yy, yy_3_FILTEREXPR, yy->__begin, yy->__end); goto l207;
  l208:; yy->__pos= yypos208; yy->__thunkpos= yythunkpos208;
  } yyDo(yy, yy_4_FILTEREXPR, yy->__begin, yy->__end);
  ; yyDo(yy, yyPop, 3, 0);
  return 1;
  l206:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_FILTEREXPR_PK(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos; yyDo(yy, yyPush, 2, 0);
  ;
  { int yypos210= yy->__pos, yythunkpos210= yy->__thunkpos; if (!yy_FILTERANCHOR(yy)) goto l210; yyDo(yy, yySet, -2, 0); yyDo(yy, yy_1_FILTEREXPR_PK, yy->__begin, yy->__end); goto l211;
  l210:; yy->__pos= yypos210; yy->__thunkpos= yythunkpos210;
  }
  l211:; if (!yymatchChar(yy, '/')) goto l209; if (!yy__(yy)) goto l209; if (!yymatchChar(yy, '=')) goto l209; if (!yy__(yy)) goto l209;
  { int yypos212= yy->__pos, yythunkpos212= yy->__thunkpos; if (!yy_PLACEHOLDER(yy)) goto l213; yyDo(yy, yySet, -1, 0); goto l212;
  l213:; yy->__pos= yypos212; yy->__thunkpos= yythunkpos212; if (!yy_NUMPK(yy)) goto l214; yyDo(yy, yySet, -1, 0); goto l212;
  l214:; yy->__pos= yypos212; yy->__thunkpos= yythunkpos212; if (!yy_NUMPK_ARR(yy)) goto l209; yyDo(yy, yySet, -1, 0);
  }
  l212:; yyDo(yy, yy_2_FILTEREXPR_PK, yy->__begin, yy->__end);
  ; yyDo(yy, yyPop, 2, 0);
  return 1;
  l209:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_EOF(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  ;
  { int yypos216= yy->__pos, yythunkpos216= yy->__thunkpos; if (!yymatchDot(yy)) goto l216; goto l215;
  l216:; yy->__pos= yypos216; yy->__thunkpos= yythunkpos216;
  }
  ;
  return 1;
  l215:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_OPTS(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  ; if (!yymatchChar(yy, '|')) goto l217; if (!yy__(yy)) goto l217; if (!yy_OPT(yy)) goto l217;
  l218:;
  { int yypos219= yy->__pos, yythunkpos219= yy->__thunkpos; if (!yy___(yy)) goto l219; if (!yy_OPT(yy)) goto l219; goto l218;
  l219:; yy->__pos= yypos219; yy->__thunkpos= yythunkpos219;
  }
  ;
  return 1;
  l217:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_PROJECTION(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos; yyDo(yy, yyPush, 2, 0);
  ; if (!yymatchChar(yy, '|')) goto l220; if (!yy__(yy)) goto l220; if (!yy_PROJNODES(yy)) goto l220; yyDo(yy, yySet, -2, 0); yyDo(yy, yy_1_PROJECTION, yy->__begin, yy->__end);
  l221:;
  { int yypos222= yy->__pos, yythunkpos222= yy->__thunkpos; if (!yy__(yy)) goto l222; yyText(yy, yy->__begin, yy->__end); {


if (!(( yy->__begin= yy->__pos, 1))) goto l222;


  } if (!yy_PROJOIN(yy)) goto l222; yyText(yy, yy->__begin, yy->__end); {


if (!(( yy->__end= yy->__pos, 1))) goto l222;


  } yyDo(yy, yy_2_PROJECTION, yy->__begin, yy->__end); if (!yy__(yy)) goto l222; if (!yy_PROJNODES(yy)) goto l222; yyDo(yy, yySet, -1, 0); yyDo(yy, yy_3_PROJECTION, yy->__begin, yy->__end); goto l221;
  l222:; yy->__pos= yypos222; yy->__thunkpos= yythunkpos222;
  } yyDo(yy, yy_4_PROJECTION, yy->__begin, yy->__end);
  ; yyDo(yy, yyPop, 2, 0);
  return 1;
  l220:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_UPSERT(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  ; if (!yymatchString(yy, "upsert")) goto l223; if (!yy___(yy)) goto l223;
  { int yypos224= yy->__pos, yythunkpos224= yy->__thunkpos; if (!yy_PLACEHOLDER(yy)) goto l225; goto l224;
  l225:; yy->__pos= yypos224; yy->__thunkpos= yythunkpos224; if (!yy_OBJJ(yy)) goto l226; goto l224;
  l226:; yy->__pos= yypos224; yy->__thunkpos= yythunkpos224; if (!yy_ARRJ(yy)) goto l223;
  }
  l224:;
  ;
  return 1;
  l223:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_APPLY(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  ; if (!yymatchString(yy, "apply")) goto l227; if (!yy___(yy)) goto l227;
  { int yypos228= yy->__pos, yythunkpos228= yy->__thunkpos; if (!yy_PLACEHOLDER(yy)) goto l229; goto l228;
  l229:; yy->__pos= yypos228; yy->__thunkpos= yythunkpos228; if (!yy_OBJJ(yy)) goto l230; goto l228;
  l230:; yy->__pos= yypos228; yy->__thunkpos= yythunkpos228; if (!yy_ARRJ(yy)) goto l227;
  }
  l228:;
  ;
  return 1;
  l227:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy__(yycontext *yy)
{
  ;
  l232:;
  { int yypos233= yy->__pos, yythunkpos233= yy->__thunkpos; if (!yy_SPACE(yy)) goto l233; goto l232;
  l233:; yy->__pos= yypos233; yy->__thunkpos= yythunkpos233;
  }
  ;
  return 1;
}
static int yy_QEXPR(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  ;
  { int yypos235= yy->__pos, yythunkpos235= yy->__thunkpos; if (!yy_FILTEREXPR_PK(yy)) goto l236; goto l235;
  l236:; yy->__pos= yypos235; yy->__thunkpos= yythunkpos235; if (!yy_FILTEREXPR(yy)) goto l234;
  }
  l235:;
  ;
  return 1;
  l234:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}
static int yy_QUERY(yycontext *yy)
{ int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos; yyDo(yy, yyPush, 4, 0);
  ; if (!yy_QEXPR(yy)) goto l237; yyDo(yy, yySet, -4, 0); yyDo(yy, yy_1_QUERY, yy->__begin, yy->__end);
  { int yypos238= yy->__pos, yythunkpos238= yy->__thunkpos; if (!yy__(yy)) goto l238; if (!yymatchChar(yy, '|')) goto l238; if (!yy__(yy)) goto l238;
  { int yypos240= yy->__pos, yythunkpos240= yy->__thunkpos; if (!yy_APPLY(yy)) goto l241; yyDo(yy, yySet, -3, 0); yyDo(yy, yy_2_QUERY, yy->__begin, yy->__end); goto l240;
  l241:; yy->__pos= yypos240; yy->__thunkpos= yythunkpos240; if (!yymatchString(yy, "del")) goto l242; yyDo(yy, yy_3_QUERY, yy->__begin, yy->__end); goto l240;
  l242:; yy->__pos= yypos240; yy->__thunkpos= yythunkpos240; if (!yy_UPSERT(yy)) goto l238; yyDo(yy, yySet, -2, 0); yyDo(yy, yy_4_QUERY, yy->__begin, yy->__end);
  }
  l240:; goto l239;
  l238:; yy->__pos= yypos238; yy->__thunkpos= yythunkpos238;
  }
  l239:;
  { int yypos243= yy->__pos, yythunkpos243= yy->__thunkpos; if (!yy__(yy)) goto l243; if (!yy_PROJECTION(yy)) goto l243; yyDo(yy, yySet, -1, 0); yyDo(yy, yy_5_QUERY, yy->__begin, yy->__end); goto l244;
  l243:; yy->__pos= yypos243; yy->__thunkpos= yythunkpos243;
  }
  l244:;
  { int yypos245= yy->__pos, yythunkpos245= yy->__thunkpos; if (!yy__(yy)) goto l245; if (!yy_OPTS(yy)) goto l245; goto l246;
  l245:; yy->__pos= yypos245; yy->__thunkpos= yythunkpos245;
  }
  l246:; if (!yy__(yy)) goto l237; if (!yy_EOF(yy)) goto l237; yyDo(yy, yy_6_QUERY, yy->__begin, yy->__end);
  ; yyDo(yy, yyPop, 4, 0);
  return 1;
  l237:; yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  ;
  return 0;
}



typedef int (*yyrule)(yycontext *yy);

int yyparsefrom(yycontext *yyctx, yyrule yystart)
{
  int yyok;
  if (!yyctx->__buflen)
    {
      yyctx->__buflen= 1024;
      yyctx->__buf= (char *)_jqp_malloc(yyctx, yyctx->__buflen);
      yyctx->__textlen= 1024;
      yyctx->__text= (char *)_jqp_malloc(yyctx, yyctx->__textlen);
      yyctx->__thunkslen= 128;
      yyctx->__thunks= (yythunk *)_jqp_malloc(yyctx, sizeof(yythunk) * yyctx->__thunkslen);
      yyctx->__valslen= 128;
      yyctx->__vals= (JQPUNIT* *)_jqp_malloc(yyctx, sizeof(JQPUNIT*) * yyctx->__valslen);
      yyctx->__begin= yyctx->__end= yyctx->__pos= yyctx->__limit= yyctx->__thunkpos= 0;
    }
  yyctx->__begin= yyctx->__end= yyctx->__pos;
  yyctx->__thunkpos= 0;
  yyctx->__val= yyctx->__vals;
  yyok= yystart(yyctx);
  if (yyok) yyDone(yyctx);
  yyCommit(yyctx);
  return yyok;
}

int yyparse(yycontext *yyctx)
{
  return yyparsefrom(yyctx, yy_QUERY);
}

yycontext * yyrelease(yycontext *yyctx)
{
  if (yyctx->__buflen)
    {
      yyctx->__buflen= 0;
      free(yyctx->__buf);
      free(yyctx->__text);
      free(yyctx->__thunks);
      free(yyctx->__vals);
    }
  return yyctx;
}
# 253 "./jqp.leg"


# 1 "/ejdb/src/jql/./inc/jqpx.c" 1


# 1 "/ejdb/build/include/ejdb2/iowow/iwconv.h" 1
       
# 33 "/ejdb/build/include/ejdb2/iowow/iwconv.h"
# 1 "/usr/lib/gcc/aarch64-linux-gnu/11/include/stddef.h" 1 3 4
# 34 "/ejdb/build/include/ejdb2/iowow/iwconv.h" 2




__attribute__((visibility("default"))) int64_t iwatoi(const char *str);

__attribute__((visibility("default"))) int64_t iwatoi2(const char *str, size_t len);

__attribute__((visibility("default"))) long double iwatof(const char *str);

__attribute__((visibility("default"))) double iwstrtod(const char *str, char **end);

__attribute__((visibility("default"))) int iwitoa(int64_t v, char *buf, int max);





__attribute__((visibility("default"))) char* iwftoa(long double v, char buf[static 32]);





__attribute__((visibility("default"))) int iwafcmp(const char *aptr, int asiz, const char *bptr, int bsiz);

__attribute__((visibility("default"))) size_t iwhex2bin(const char *hex, int hexlen, char *out, int max);

__attribute__((visibility("default"))) char* iwbin2hex(
  char* const hex,
  const size_t hex_maxlen,
  const unsigned char* const bin,
  const size_t bin_len);


# 4 "/ejdb/src/jql/./inc/jqpx.c" 2
# 1 "/ejdb/build/include/ejdb2/iowow/utf8proc.h" 1
# 111 "/ejdb/build/include/ejdb2/iowow/utf8proc.h"
# 1 "/usr/lib/gcc/aarch64-linux-gnu/11/include/stddef.h" 1 3 4
# 112 "/ejdb/build/include/ejdb2/iowow/utf8proc.h" 2

# 1 "/usr/include/inttypes.h" 1 3 4
# 34 "/usr/include/inttypes.h" 3 4

# 34 "/usr/include/inttypes.h" 3 4
typedef unsigned int __gwchar_t;
# 266 "/usr/include/inttypes.h" 3 4





typedef struct
  {
    long int quot;
    long int rem;
  } imaxdiv_t;
# 290 "/usr/include/inttypes.h" 3 4
extern intmax_t imaxabs (intmax_t __n) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__const__));


extern imaxdiv_t imaxdiv (intmax_t __numer, intmax_t __denom)
      __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__const__));


extern intmax_t strtoimax (const char *__restrict __nptr,
      char **__restrict __endptr, int __base) __attribute__ ((__nothrow__ , __leaf__));


extern uintmax_t strtoumax (const char *__restrict __nptr,
       char ** __restrict __endptr, int __base) __attribute__ ((__nothrow__ , __leaf__));


extern intmax_t wcstoimax (const __gwchar_t *__restrict __nptr,
      __gwchar_t **__restrict __endptr, int __base)
     __attribute__ ((__nothrow__ , __leaf__));


extern uintmax_t wcstoumax (const __gwchar_t *__restrict __nptr,
       __gwchar_t ** __restrict __endptr, int __base)
     __attribute__ ((__nothrow__ , __leaf__));


# 114 "/ejdb/build/include/ejdb2/iowow/utf8proc.h" 2

# 114 "/ejdb/build/include/ejdb2/iowow/utf8proc.h"
typedef int8_t utf8proc_int8_t;
typedef uint8_t utf8proc_uint8_t;
typedef int16_t utf8proc_int16_t;
typedef uint16_t utf8proc_uint16_t;
typedef int32_t utf8proc_int32_t;
typedef uint32_t utf8proc_uint32_t;
typedef size_t utf8proc_size_t;
typedef ptrdiff_t utf8proc_ssize_t;
typedef 
# 122 "/ejdb/build/include/ejdb2/iowow/utf8proc.h" 3 4
       _Bool 
# 122 "/ejdb/build/include/ejdb2/iowow/utf8proc.h"
            utf8proc_bool;

# 1 "/usr/lib/gcc/aarch64-linux-gnu/11/include/limits.h" 1 3 4
# 34 "/usr/lib/gcc/aarch64-linux-gnu/11/include/limits.h" 3 4
# 1 "/usr/lib/gcc/aarch64-linux-gnu/11/include/syslimits.h" 1 3 4






# 1 "/usr/lib/gcc/aarch64-linux-gnu/11/include/limits.h" 1 3 4
# 203 "/usr/lib/gcc/aarch64-linux-gnu/11/include/limits.h" 3 4
# 1 "/usr/include/limits.h" 1 3 4
# 26 "/usr/include/limits.h" 3 4
# 1 "/usr/include/aarch64-linux-gnu/bits/libc-header-start.h" 1 3 4
# 27 "/usr/include/limits.h" 2 3 4
# 195 "/usr/include/limits.h" 3 4
# 1 "/usr/include/aarch64-linux-gnu/bits/posix1_lim.h" 1 3 4
# 27 "/usr/include/aarch64-linux-gnu/bits/posix1_lim.h" 3 4
# 1 "/usr/include/aarch64-linux-gnu/bits/wordsize.h" 1 3 4
# 28 "/usr/include/aarch64-linux-gnu/bits/posix1_lim.h" 2 3 4
# 161 "/usr/include/aarch64-linux-gnu/bits/posix1_lim.h" 3 4
# 1 "/usr/include/aarch64-linux-gnu/bits/local_lim.h" 1 3 4
# 38 "/usr/include/aarch64-linux-gnu/bits/local_lim.h" 3 4
# 1 "/usr/include/linux/limits.h" 1 3 4
# 39 "/usr/include/aarch64-linux-gnu/bits/local_lim.h" 2 3 4
# 81 "/usr/include/aarch64-linux-gnu/bits/local_lim.h" 3 4
# 1 "/usr/include/aarch64-linux-gnu/bits/pthread_stack_min-dynamic.h" 1 3 4
# 29 "/usr/include/aarch64-linux-gnu/bits/pthread_stack_min-dynamic.h" 3 4
# 1 "/usr/include/aarch64-linux-gnu/bits/pthread_stack_min.h" 1 3 4
# 30 "/usr/include/aarch64-linux-gnu/bits/pthread_stack_min-dynamic.h" 2 3 4
# 82 "/usr/include/aarch64-linux-gnu/bits/local_lim.h" 2 3 4
# 162 "/usr/include/aarch64-linux-gnu/bits/posix1_lim.h" 2 3 4
# 196 "/usr/include/limits.h" 2 3 4



# 1 "/usr/include/aarch64-linux-gnu/bits/posix2_lim.h" 1 3 4
# 200 "/usr/include/limits.h" 2 3 4



# 1 "/usr/include/aarch64-linux-gnu/bits/xopen_lim.h" 1 3 4
# 64 "/usr/include/aarch64-linux-gnu/bits/xopen_lim.h" 3 4
# 1 "/usr/include/aarch64-linux-gnu/bits/uio_lim.h" 1 3 4
# 65 "/usr/include/aarch64-linux-gnu/bits/xopen_lim.h" 2 3 4
# 204 "/usr/include/limits.h" 2 3 4
# 204 "/usr/lib/gcc/aarch64-linux-gnu/11/include/limits.h" 2 3 4
# 8 "/usr/lib/gcc/aarch64-linux-gnu/11/include/syslimits.h" 2 3 4
# 35 "/usr/lib/gcc/aarch64-linux-gnu/11/include/limits.h" 2 3 4
# 125 "/ejdb/build/include/ejdb2/iowow/utf8proc.h" 2
# 159 "/ejdb/build/include/ejdb2/iowow/utf8proc.h"
typedef enum {

  UTF8PROC_NULLTERM = (1 << 0),

  UTF8PROC_STABLE = (1 << 1),

  UTF8PROC_COMPAT = (1 << 2),

  UTF8PROC_COMPOSE = (1 << 3),

  UTF8PROC_DECOMPOSE = (1 << 4),

  UTF8PROC_IGNORE = (1 << 5),

  UTF8PROC_REJECTNA = (1 << 6),





  UTF8PROC_NLF2LS = (1 << 7),





  UTF8PROC_NLF2PS = (1 << 8),

  UTF8PROC_NLF2LF = (UTF8PROC_NLF2LS | UTF8PROC_NLF2PS),







  UTF8PROC_STRIPCC = (1 << 9),




  UTF8PROC_CASEFOLD = (1 << 10),




  UTF8PROC_CHARBOUND = (1 << 11),







  UTF8PROC_LUMP = (1 << 12),






  UTF8PROC_STRIPMARK = (1 << 13),



  UTF8PROC_STRIPNA = (1 << 14),
} utf8proc_option_t;
# 246 "/ejdb/build/include/ejdb2/iowow/utf8proc.h"
typedef utf8proc_int16_t utf8proc_propval_t;


typedef struct utf8proc_property_struct {




  utf8proc_propval_t category;
  utf8proc_propval_t combining_class;




  utf8proc_propval_t bidi_class;




  utf8proc_propval_t decomp_type;
  utf8proc_uint16_t decomp_seqindex;
  utf8proc_uint16_t casefold_seqindex;
  utf8proc_uint16_t uppercase_seqindex;
  utf8proc_uint16_t lowercase_seqindex;
  utf8proc_uint16_t titlecase_seqindex;
  utf8proc_uint16_t comb_index;
  unsigned bidi_mirrored : 1;
  unsigned comp_exclusion : 1;






  unsigned ignorable : 1;
  unsigned control_boundary : 1;

  unsigned charwidth : 2;
  unsigned pad : 2;




  unsigned boundclass : 8;
} utf8proc_property_t;


typedef enum {
  UTF8PROC_CATEGORY_CN = 0,
  UTF8PROC_CATEGORY_LU = 1,
  UTF8PROC_CATEGORY_LL = 2,
  UTF8PROC_CATEGORY_LT = 3,
  UTF8PROC_CATEGORY_LM = 4,
  UTF8PROC_CATEGORY_LO = 5,
  UTF8PROC_CATEGORY_MN = 6,
  UTF8PROC_CATEGORY_MC = 7,
  UTF8PROC_CATEGORY_ME = 8,
  UTF8PROC_CATEGORY_ND = 9,
  UTF8PROC_CATEGORY_NL = 10,
  UTF8PROC_CATEGORY_NO = 11,
  UTF8PROC_CATEGORY_PC = 12,
  UTF8PROC_CATEGORY_PD = 13,
  UTF8PROC_CATEGORY_PS = 14,
  UTF8PROC_CATEGORY_PE = 15,
  UTF8PROC_CATEGORY_PI = 16,
  UTF8PROC_CATEGORY_PF = 17,
  UTF8PROC_CATEGORY_PO = 18,
  UTF8PROC_CATEGORY_SM = 19,
  UTF8PROC_CATEGORY_SC = 20,
  UTF8PROC_CATEGORY_SK = 21,
  UTF8PROC_CATEGORY_SO = 22,
  UTF8PROC_CATEGORY_ZS = 23,
  UTF8PROC_CATEGORY_ZL = 24,
  UTF8PROC_CATEGORY_ZP = 25,
  UTF8PROC_CATEGORY_CC = 26,
  UTF8PROC_CATEGORY_CF = 27,
  UTF8PROC_CATEGORY_CS = 28,
  UTF8PROC_CATEGORY_CO = 29,
} utf8proc_category_t;


typedef enum {
  UTF8PROC_BIDI_CLASS_L = 1,
  UTF8PROC_BIDI_CLASS_LRE = 2,
  UTF8PROC_BIDI_CLASS_LRO = 3,
  UTF8PROC_BIDI_CLASS_R = 4,
  UTF8PROC_BIDI_CLASS_AL = 5,
  UTF8PROC_BIDI_CLASS_RLE = 6,
  UTF8PROC_BIDI_CLASS_RLO = 7,
  UTF8PROC_BIDI_CLASS_PDF = 8,
  UTF8PROC_BIDI_CLASS_EN = 9,
  UTF8PROC_BIDI_CLASS_ES = 10,
  UTF8PROC_BIDI_CLASS_ET = 11,
  UTF8PROC_BIDI_CLASS_AN = 12,
  UTF8PROC_BIDI_CLASS_CS = 13,
  UTF8PROC_BIDI_CLASS_NSM = 14,
  UTF8PROC_BIDI_CLASS_BN = 15,
  UTF8PROC_BIDI_CLASS_B = 16,
  UTF8PROC_BIDI_CLASS_S = 17,
  UTF8PROC_BIDI_CLASS_WS = 18,
  UTF8PROC_BIDI_CLASS_ON = 19,
  UTF8PROC_BIDI_CLASS_LRI = 20,
  UTF8PROC_BIDI_CLASS_RLI = 21,
  UTF8PROC_BIDI_CLASS_FSI = 22,
  UTF8PROC_BIDI_CLASS_PDI = 23,
} utf8proc_bidi_class_t;


typedef enum {
  UTF8PROC_DECOMP_TYPE_FONT = 1,
  UTF8PROC_DECOMP_TYPE_NOBREAK = 2,
  UTF8PROC_DECOMP_TYPE_INITIAL = 3,
  UTF8PROC_DECOMP_TYPE_MEDIAL = 4,
  UTF8PROC_DECOMP_TYPE_FINAL = 5,
  UTF8PROC_DECOMP_TYPE_ISOLATED = 6,
  UTF8PROC_DECOMP_TYPE_CIRCLE = 7,
  UTF8PROC_DECOMP_TYPE_SUPER = 8,
  UTF8PROC_DECOMP_TYPE_SUB = 9,
  UTF8PROC_DECOMP_TYPE_VERTICAL = 10,
  UTF8PROC_DECOMP_TYPE_WIDE = 11,
  UTF8PROC_DECOMP_TYPE_NARROW = 12,
  UTF8PROC_DECOMP_TYPE_SMALL = 13,
  UTF8PROC_DECOMP_TYPE_SQUARE = 14,
  UTF8PROC_DECOMP_TYPE_FRACTION = 15,
  UTF8PROC_DECOMP_TYPE_COMPAT = 16,
} utf8proc_decomp_type_t;


typedef enum {
  UTF8PROC_BOUNDCLASS_START = 0,
  UTF8PROC_BOUNDCLASS_OTHER = 1,
  UTF8PROC_BOUNDCLASS_CR = 2,
  UTF8PROC_BOUNDCLASS_LF = 3,
  UTF8PROC_BOUNDCLASS_CONTROL = 4,
  UTF8PROC_BOUNDCLASS_EXTEND = 5,
  UTF8PROC_BOUNDCLASS_L = 6,
  UTF8PROC_BOUNDCLASS_V = 7,
  UTF8PROC_BOUNDCLASS_T = 8,
  UTF8PROC_BOUNDCLASS_LV = 9,
  UTF8PROC_BOUNDCLASS_LVT = 10,
  UTF8PROC_BOUNDCLASS_REGIONAL_INDICATOR = 11,
  UTF8PROC_BOUNDCLASS_SPACINGMARK = 12,
  UTF8PROC_BOUNDCLASS_PREPEND = 13,
  UTF8PROC_BOUNDCLASS_ZWJ = 14,
  UTF8PROC_BOUNDCLASS_E_BASE = 15,
  UTF8PROC_BOUNDCLASS_E_MODIFIER = 16,
  UTF8PROC_BOUNDCLASS_GLUE_AFTER_ZWJ = 17,
  UTF8PROC_BOUNDCLASS_E_BASE_GAZ = 18,
} utf8proc_boundclass_t;






typedef utf8proc_int32_t (*utf8proc_custom_func)(utf8proc_int32_t codepoint, void *data);





 extern const utf8proc_int8_t utf8proc_utf8class[256];






 const char* utf8proc_version(void);





 const char* utf8proc_errmsg(utf8proc_ssize_t errcode);
# 432 "/ejdb/build/include/ejdb2/iowow/utf8proc.h"
 utf8proc_ssize_t utf8proc_iterate(
  const utf8proc_uint8_t *str,
  utf8proc_ssize_t strlen,
  utf8proc_int32_t *codepoint_ref);







 utf8proc_bool utf8proc_codepoint_valid(utf8proc_int32_t codepoint);
# 454 "/ejdb/build/include/ejdb2/iowow/utf8proc.h"
 utf8proc_ssize_t utf8proc_encode_char(utf8proc_int32_t codepoint, utf8proc_uint8_t *dst);
# 468 "/ejdb/build/include/ejdb2/iowow/utf8proc.h"
 const utf8proc_property_t* utf8proc_get_property(utf8proc_int32_t codepoint);
# 498 "/ejdb/build/include/ejdb2/iowow/utf8proc.h"
 utf8proc_ssize_t utf8proc_decompose_char(
  utf8proc_int32_t codepoint, utf8proc_int32_t *dst, utf8proc_ssize_t bufsize,
  utf8proc_option_t options, int *last_boundclass
  );
# 520 "/ejdb/build/include/ejdb2/iowow/utf8proc.h"
 utf8proc_ssize_t utf8proc_decompose(
  const utf8proc_uint8_t *str, utf8proc_ssize_t strlen,
  utf8proc_int32_t *buffer, utf8proc_ssize_t bufsize, utf8proc_option_t options
  );







 utf8proc_ssize_t utf8proc_decompose_custom(
  const utf8proc_uint8_t *str, utf8proc_ssize_t strlen,
  utf8proc_int32_t *buffer, utf8proc_ssize_t bufsize, utf8proc_option_t options,
  utf8proc_custom_func custom_func, void *custom_data
  );
# 560 "/ejdb/build/include/ejdb2/iowow/utf8proc.h"
 utf8proc_ssize_t utf8proc_normalize_utf32(
  utf8proc_int32_t *buffer,
  utf8proc_ssize_t length,
  utf8proc_option_t options);
# 593 "/ejdb/build/include/ejdb2/iowow/utf8proc.h"
 utf8proc_ssize_t utf8proc_reencode(
  utf8proc_int32_t *buffer,
  utf8proc_ssize_t length,
  utf8proc_option_t options);
# 612 "/ejdb/build/include/ejdb2/iowow/utf8proc.h"
 utf8proc_bool utf8proc_grapheme_break_stateful(
  utf8proc_int32_t codepoint1,
  utf8proc_int32_t codepoint2,
  utf8proc_int32_t *state);





 utf8proc_bool utf8proc_grapheme_break(utf8proc_int32_t codepoint1, utf8proc_int32_t codepoint2);







 utf8proc_int32_t utf8proc_tolower(utf8proc_int32_t c);






 utf8proc_int32_t utf8proc_toupper(utf8proc_int32_t c);






 utf8proc_int32_t utf8proc_totitle(utf8proc_int32_t c);
# 653 "/ejdb/build/include/ejdb2/iowow/utf8proc.h"
 int utf8proc_charwidth(utf8proc_int32_t codepoint);





 utf8proc_category_t utf8proc_category(utf8proc_int32_t codepoint);





 const char* utf8proc_category_string(utf8proc_int32_t codepoint);
# 686 "/ejdb/build/include/ejdb2/iowow/utf8proc.h"
 utf8proc_ssize_t utf8proc_map(
  const utf8proc_uint8_t *str, utf8proc_ssize_t strlen, utf8proc_uint8_t **dstptr, utf8proc_option_t options
  );







 utf8proc_ssize_t utf8proc_map_custom(
  const utf8proc_uint8_t *str, utf8proc_ssize_t strlen, utf8proc_uint8_t **dstptr, utf8proc_option_t options,
  utf8proc_custom_func custom_func, void *custom_data
  );
# 710 "/ejdb/build/include/ejdb2/iowow/utf8proc.h"
 utf8proc_uint8_t* utf8proc_NFD(const utf8proc_uint8_t *str);


 utf8proc_uint8_t* utf8proc_NFC(const utf8proc_uint8_t *str);


 utf8proc_uint8_t* utf8proc_NFKD(const utf8proc_uint8_t *str);


 utf8proc_uint8_t* utf8proc_NFKC(const utf8proc_uint8_t *str);





 utf8proc_uint8_t* utf8proc_NFKC_Casefold(const utf8proc_uint8_t *str);
# 5 "/ejdb/src/jql/./inc/jqpx.c" 2
# 16 "/ejdb/src/jql/./inc/jqpx.c"
static void _jqp_debug(yycontext *yy, const char *text) {
  fprintf(
# 17 "/ejdb/src/jql/./inc/jqpx.c" 3 4
         stderr
# 17 "/ejdb/src/jql/./inc/jqpx.c"
               , "TEXT=%s\n", text);
}

static void _jqp_fatal(yycontext *yy, iwrc rc) {
  JQP_AUX *aux = yy->aux;
  aux->rc = rc;
  longjmp(aux->fatal_jmp, 1);
}

static void* _jqp_malloc(struct _yycontext *yy, size_t size) {
  void *ret = malloc(size);
  if (!ret) {
    JQP_AUX *aux = yy->aux;
    aux->rc = iwrc_set_errno(IW_ERROR_ALLOC, 
# 30 "/ejdb/src/jql/./inc/jqpx.c" 3 4
                                            (*__errno_location ())
# 30 "/ejdb/src/jql/./inc/jqpx.c"
                                                 );
    longjmp(aux->fatal_jmp, 1);
  }
  return ret;
}

static void* _jqp_realloc(struct _yycontext *yy, void *ptr, size_t size) {
  void *ret = realloc(ptr, size);
  if (!ret) {
    JQP_AUX *aux = yy->aux;
    aux->rc = iwrc_set_errno(IW_ERROR_ALLOC, 
# 40 "/ejdb/src/jql/./inc/jqpx.c" 3 4
                                            (*__errno_location ())
# 40 "/ejdb/src/jql/./inc/jqpx.c"
                                                 );
    longjmp(aux->fatal_jmp, 1);
  }
  return ret;
}

static iwrc _jqp_aux_set_input(JQP_AUX *aux, const char *input) {
  size_t len = strlen(input) + 1;
  char *buf = iwpool_alloc(len, aux->pool);
  if (!buf) {
    return iwrc_set_errno(IW_ERROR_ALLOC, 
# 50 "/ejdb/src/jql/./inc/jqpx.c" 3 4
                                         (*__errno_location ())
# 50 "/ejdb/src/jql/./inc/jqpx.c"
                                              );
  }
  memcpy(buf, input, len);
  aux->buf = buf;
  return 0;
}



static inline __attribute__((always_inline)) char* _jqp_strdup(struct _yycontext *yy, const char *text) {
  iwrc rc = 0;
  char *ret = iwpool_strdup(yy->aux->pool, text, &rc);
  do { iwrc __rc = (rc); if (__rc) _jqp_fatal(yy, __rc); } while (0);
  return ret;
}

static JQPUNIT* _jqp_unit(yycontext *yy) {
  JQPUNIT *ret = iwpool_calloc(sizeof(JQPUNIT), yy->aux->pool);
  if (!ret) {
    do { iwrc __rc = (iwrc_set_errno(IW_ERROR_ALLOC, 
# 69 "/ejdb/src/jql/./inc/jqpx.c" 3 4
   (*__errno_location ())
# 69 "/ejdb/src/jql/./inc/jqpx.c"
   )); if (__rc) _jqp_fatal(yy, __rc); } while (0);
  }
  return ret;
}

static JQP_STACK* _jqp_push(yycontext *yy) {
  JQP_AUX *aux = yy->aux;
  JQP_STACK *stack;
  if (aux->stackn < (sizeof(aux->stackpool) / sizeof(aux->stackpool[0]))) {
    stack = &aux->stackpool[aux->stackn++];
  } else {
    stack = malloc(sizeof(*aux->stack));
    if (!stack) {
      do { iwrc __rc = (iwrc_set_errno(IW_ERROR_ALLOC, 
# 82 "/ejdb/src/jql/./inc/jqpx.c" 3 4
     (*__errno_location ())
# 82 "/ejdb/src/jql/./inc/jqpx.c"
     )); if (__rc) _jqp_fatal(yy, __rc); } while (0);
    }
    aux->stackn++;
  }
  memset(stack, 0, sizeof(*stack));
  stack->next = 0;
  if (!aux->stack) {
    stack->prev = 0;
  } else {
    aux->stack->next = stack;
    stack->prev = aux->stack;
  }
  aux->stack = stack;
  return aux->stack;
}

static JQP_STACK _jqp_pop(yycontext *yy) {
  JQP_AUX *aux = yy->aux;
  JQP_STACK *stack = aux->stack, ret;
  if (!stack || (aux->stackn < 1)) {
    iwlog3(IWLOG_ERROR, 0, "/ejdb/src/jql/./inc/jqpx.c", 102, ("Unbalanced stack"));
    do { iwrc __rc = (JQL_ERROR_QUERY_PARSE); if (__rc) _jqp_fatal(yy, __rc); } while (0);
  }
  aux->stack = stack->prev;
  if (aux->stack) {
    aux->stack->next = 0;
  }
  stack->prev = 0;
  stack->next = 0;
  ret = *stack;
  if (aux->stackn-- > (sizeof(aux->stackpool) / sizeof(aux->stackpool[0]))) {
    free(stack);
  }
  return ret;
}

static void _jqp_unit_push(yycontext *yy, JQPUNIT *unit) {
  JQP_STACK *stack = _jqp_push(yy);
  stack->type = STACK_UNIT;
  stack->unit = unit;
}

static JQPUNIT* _jqp_unit_pop(yycontext *yy) {
  JQP_STACK stack = _jqp_pop(yy);
  if (stack.type != STACK_UNIT) {
    iwlog2(IWLOG_ERROR, 0, "/ejdb/src/jql/./inc/jqpx.c", 127, ("Unexpected type: %d"), stack.type);
    do { iwrc __rc = (JQL_ERROR_QUERY_PARSE); if (__rc) _jqp_fatal(yy, __rc); } while (0);
  }
  return stack.unit;
}

static void _jqp_string_push(yycontext *yy, char *str, 
# 133 "/ejdb/src/jql/./inc/jqpx.c" 3 4
                                                      _Bool 
# 133 "/ejdb/src/jql/./inc/jqpx.c"
                                                           dup) {
  JQP_STACK *stack = _jqp_push(yy);
  stack->type = STACK_STRING;
  stack->str = str;
  if (dup) {
    iwrc rc = 0;
    JQP_AUX *aux = yy->aux;
    stack->str = iwpool_strdup(aux->pool, stack->str, &rc);
    if (rc) {
      do { iwrc __rc = (JQL_ERROR_QUERY_PARSE); if (__rc) _jqp_fatal(yy, __rc); } while (0);
    }
  }
}

static char* _jqp_string_pop(yycontext *yy) {
  JQP_STACK stack = _jqp_pop(yy);
  if (stack.type != STACK_STRING) {
    iwlog2(IWLOG_ERROR, 0, "/ejdb/src/jql/./inc/jqpx.c", 150, ("Unexpected type: %d"), stack.type);
    do { iwrc __rc = (JQL_ERROR_QUERY_PARSE); if (__rc) _jqp_fatal(yy, __rc); } while (0);
  }
  return stack.str;
}

static JQPUNIT* _jqp_string(yycontext *yy, jqp_string_flavours_t flavour, const char *text) {
  JQPUNIT *unit = _jqp_unit(yy);
  unit->type = JQP_STRING_TYPE;
  unit->string.flavour |= flavour;
  unit->string.value = _jqp_strdup(yy, text);
  return unit;
}

static JQPUNIT* _jqp_number(yycontext *yy, jqp_int_flavours_t flavour, const char *text) {
  JQPUNIT *unit = _jqp_unit(yy);
  char *eptr;
  int64_t ival = strtoll(text, &eptr, 0);
  if ((eptr == text) || (
# 168 "/ejdb/src/jql/./inc/jqpx.c" 3 4
                        (*__errno_location ()) 
# 168 "/ejdb/src/jql/./inc/jqpx.c"
                              == 
# 168 "/ejdb/src/jql/./inc/jqpx.c" 3 4
                                 34
# 168 "/ejdb/src/jql/./inc/jqpx.c"
                                       )) {
    iwlog2(IWLOG_ERROR, 0, "/ejdb/src/jql/./inc/jqpx.c", 169, ("Invalid number: %s"), text);
    do { iwrc __rc = (JQL_ERROR_QUERY_PARSE); if (__rc) _jqp_fatal(yy, __rc); } while (0);
  }
  if ((*eptr == '.') || (*eptr == 'e') || (*eptr == 'E')) {
    unit->type = JQP_DOUBLE_TYPE;
    unit->dblval.value = strtod(text, &eptr);
    if ((eptr == text) || (
# 175 "/ejdb/src/jql/./inc/jqpx.c" 3 4
                          (*__errno_location ()) 
# 175 "/ejdb/src/jql/./inc/jqpx.c"
                                == 
# 175 "/ejdb/src/jql/./inc/jqpx.c" 3 4
                                   34
# 175 "/ejdb/src/jql/./inc/jqpx.c"
                                         )) {
      iwlog2(IWLOG_ERROR, 0, "/ejdb/src/jql/./inc/jqpx.c", 176, ("Invalid double number: %s"), text);
      do { iwrc __rc = (JQL_ERROR_QUERY_PARSE); if (__rc) _jqp_fatal(yy, __rc); } while (0);
    }
    unit->dblval.flavour |= flavour;
  } else {
    unit->type = JQP_INTEGER_TYPE;
    unit->intval.value = ival;
    unit->intval.flavour |= flavour;
  }
  return unit;
}

static JQPUNIT* _jqp_json_number(yycontext *yy, const char *text) {
  JQPUNIT *unit = _jqp_unit(yy);
  char *eptr;
  unit->type = JQP_JSON_TYPE;
  int64_t ival = strtoll(text, &eptr, 0);
  if ((eptr == text) || (
# 193 "/ejdb/src/jql/./inc/jqpx.c" 3 4
                        (*__errno_location ()) 
# 193 "/ejdb/src/jql/./inc/jqpx.c"
                              == 
# 193 "/ejdb/src/jql/./inc/jqpx.c" 3 4
                                 34
# 193 "/ejdb/src/jql/./inc/jqpx.c"
                                       )) {
    iwlog2(IWLOG_ERROR, 0, "/ejdb/src/jql/./inc/jqpx.c", 194, ("Invalid number: %s"), text);
    do { iwrc __rc = (JQL_ERROR_QUERY_PARSE); if (__rc) _jqp_fatal(yy, __rc); } while (0);
  }
  if ((*eptr == '.') || (*eptr == 'e') || (*eptr == 'E')) {
    unit->json.jn.type = JBV_F64;
    unit->json.jn.vf64 = strtod(text, &eptr);
    if ((eptr == text) || (
# 200 "/ejdb/src/jql/./inc/jqpx.c" 3 4
                          (*__errno_location ()) 
# 200 "/ejdb/src/jql/./inc/jqpx.c"
                                == 
# 200 "/ejdb/src/jql/./inc/jqpx.c" 3 4
                                   34
# 200 "/ejdb/src/jql/./inc/jqpx.c"
                                         )) {
      iwlog2(IWLOG_ERROR, 0, "/ejdb/src/jql/./inc/jqpx.c", 201, ("Invalid double number: %s"), text);
      do { iwrc __rc = (JQL_ERROR_QUERY_PARSE); if (__rc) _jqp_fatal(yy, __rc); } while (0);
    }
  } else {
    unit->json.jn.type = JBV_I64;
    unit->json.jn.vi64 = ival;
  }
  return unit;
}

static JQPUNIT* _jqp_placeholder(yycontext *yy, const char *text) {
  JQP_AUX *aux = yy->aux;
  JQPUNIT *unit = _jqp_unit(yy);
  unit->type = JQP_STRING_TYPE;
  unit->string.flavour |= ((jqp_string_flavours_t) 0x01U);
  if (text[0] == '?') {
    char nbuf[32 + 1];
    nbuf[0] = '?';
    int len = iwitoa(aux->num_placeholders++, nbuf + 1, 32);
    nbuf[len + 1] = '\0';
    unit->string.value = _jqp_strdup(yy, nbuf);
  } else {
    unit->string.value = _jqp_strdup(yy, text);
  }
  if (!aux->start_placeholder) {
    aux->start_placeholder = &unit->string;
    aux->end_placeholder = aux->start_placeholder;
  } else {
    aux->end_placeholder->placeholder_next = &unit->string;
    aux->end_placeholder = aux->end_placeholder->placeholder_next;
  }
  return unit;
}

static inline __attribute__((always_inline)) int _jql_hex(char c) {
  if ((c >= '0') && (c <= '9')) {
    return c - '0';
  }
  if ((c >= 'a') && (c <= 'f')) {
    return c - 'a' + 10;
  }
  if ((c >= 'A') && (c <= 'F')) {
    return c - 'A' + 10;
  }
  return -1;
}

static int _jqp_unescape_json_string(const char *p, char *d, int dlen, iwrc *rcp) {
  *rcp = 0;
  char c;
  char *ds = d;
  char *de = d + dlen;

  while (1) {
    c = *p++;
    if (c == '\0') {
      return d - ds;
    } else if (c == '\\') {
      switch (*p) {
        case '\\':
        case '/':
        case '"':
          if (d < de) {
            *d = *p;
          }
          ++p, ++d;
          break;
        case 'b':
          if (d < de) {
            *d = '\b';
          }
          ++p, ++d;
          break;
        case 'f':
          if (d < de) {
            *d = '\f';
          }
          ++p, ++d;
          break;
        case 'n':
        case 'r':
          if (d < de) {
            *d = '\n';
          }
          ++p, ++d;
          break;
        case 't':
          if (d < de) {
            *d = '\t';
          }
          ++p, ++d;
          break;
        case 'u': {
          uint32_t cp, cp2;
          int h1, h2, h3, h4;
          if ( ((h1 = _jql_hex(p[1])) < 0) || ((h2 = _jql_hex(p[2])) < 0)
             || ((h3 = _jql_hex(p[3])) < 0) || ((h4 = _jql_hex(p[4])) < 0)) {
            *rcp = JBL_ERROR_PARSE_INVALID_CODEPOINT;
            return 0;
          }
          cp = h1 << 12 | h2 << 8 | h3 << 4 | h4;
          if ((cp & 0xfc00) == 0xd800) {
            p += 6;
            if ( (p[-1] != '\\') || (*p != 'u')
               || ((h1 = _jql_hex(p[1])) < 0) || ((h2 = _jql_hex(p[2])) < 0)
               || ((h3 = _jql_hex(p[3])) < 0) || ((h4 = _jql_hex(p[4])) < 0)) {
              *rcp = JBL_ERROR_PARSE_INVALID_CODEPOINT;
              return 0;
            }
            cp2 = h1 << 12 | h2 << 8 | h3 << 4 | h4;
            if ((cp2 & 0xfc00) != 0xdc00) {
              *rcp = JBL_ERROR_PARSE_INVALID_CODEPOINT;
              return 0;
            }
            cp = 0x10000 + ((cp - 0xd800) << 10) + (cp2 - 0xdc00);
          }
          if (!utf8proc_codepoint_valid(cp)) {
            *rcp = JBL_ERROR_PARSE_INVALID_CODEPOINT;
            return 0;
          }
          uint8_t uchars[4];
          utf8proc_ssize_t ulen = utf8proc_encode_char(cp, uchars);
          for (int i = 0; i < ulen; ++i) {
            if (d < de) {
              *d = uchars[i];
            }
            ++d;
          }
          p += 5;
          break;
        }
        default:
          if (d < de) {
            *d = c;
          }
          ++d;
      }
    } else {
      if (d < de) {
        *d = c;
      }
      ++d;
    }
  }
  *rcp = JQL_ERROR_QUERY_PARSE;
  return 0;
}

static JQPUNIT* _jqp_unescaped_string(struct _yycontext *yy, jqp_string_flavours_t flv, const char *text) {
  JQP_AUX *aux = yy->aux;
  JQPUNIT *unit = _jqp_unit(yy);
  unit->type = JQP_STRING_TYPE;
  unit->string.flavour |= flv;
  int len = _jqp_unescape_json_string(text, 0, 0, &aux->rc);
  if (aux->rc) {
    do { iwrc __rc = (aux->rc); if (__rc) _jqp_fatal(yy, __rc); } while (0);
  }
  char *dest = iwpool_alloc(len + 1, aux->pool);
  if (!dest) {
    do { iwrc __rc = (iwrc_set_errno(IW_ERROR_ALLOC, 
# 360 "/ejdb/src/jql/./inc/jqpx.c" 3 4
   (*__errno_location ())
# 360 "/ejdb/src/jql/./inc/jqpx.c"
   )); if (__rc) _jqp_fatal(yy, __rc); } while (0);
  }
  _jqp_unescape_json_string(text, dest, len, &aux->rc);
  if (aux->rc) {
    do { iwrc __rc = (aux->rc); if (__rc) _jqp_fatal(yy, __rc); } while (0);
  }
  dest[len] = '\0';
  unit->string.value = dest;
  return unit;
}

static JQPUNIT* _jqp_json_string(struct _yycontext *yy, const char *text) {
  JQP_AUX *aux = yy->aux;
  JQPUNIT *unit = _jqp_unit(yy);
  unit->type = JQP_JSON_TYPE;
  unit->json.jn.type = JBV_STR;
  int len = _jqp_unescape_json_string(text, 0, 0, &aux->rc);
  if (aux->rc) {
    do { iwrc __rc = (aux->rc); if (__rc) _jqp_fatal(yy, __rc); } while (0);
  }
  char *dest = iwpool_alloc(len + 1, aux->pool);
  if (!dest) {
    do { iwrc __rc = (iwrc_set_errno(IW_ERROR_ALLOC, 
# 382 "/ejdb/src/jql/./inc/jqpx.c" 3 4
   (*__errno_location ())
# 382 "/ejdb/src/jql/./inc/jqpx.c"
   )); if (__rc) _jqp_fatal(yy, __rc); } while (0);
  }
  _jqp_unescape_json_string(text, dest, len, &aux->rc);
  if (aux->rc) {
    do { iwrc __rc = (aux->rc); if (__rc) _jqp_fatal(yy, __rc); } while (0);
  }
  dest[len] = '\0';
  unit->json.jn.vptr = dest;
  unit->json.jn.vsize = len;
  return unit;
}

static JQPUNIT* _jqp_json_pair(yycontext *yy, JQPUNIT *key, JQPUNIT *val) {
  if ((key->type != JQP_JSON_TYPE) || (val->type != JQP_JSON_TYPE) || (key->json.jn.type != JBV_STR)) {
    iwlog3(IWLOG_ERROR, 0, "/ejdb/src/jql/./inc/jqpx.c", 396, ("Invalid arguments"));
    do { iwrc __rc = (JQL_ERROR_QUERY_PARSE); if (__rc) _jqp_fatal(yy, __rc); } while (0);
  }
  val->json.jn.key = key->json.jn.vptr;
  val->json.jn.klidx = key->json.jn.vsize;
  return val;
}

static JQPUNIT* _jqp_json_collect(yycontext *yy, jbl_type_t type, JQPUNIT *until) {
  JQP_AUX *aux = yy->aux;
  JQPUNIT *ret = _jqp_unit(yy);
  ret->type = JQP_JSON_TYPE;
  JBL_NODE jn = &ret->json.jn;
  jn->type = type;
  while (aux->stack && aux->stack->type == STACK_UNIT) {
    JQPUNIT *unit = aux->stack->unit;
    if (unit == until) {
      _jqp_pop(yy);
      break;
    }
    if (unit->type != JQP_JSON_TYPE) {
      iwlog2(IWLOG_ERROR, 0, "/ejdb/src/jql/./inc/jqpx.c", 417, ("Unexpected type: %d"), unit->type);
      do { iwrc __rc = (JQL_ERROR_QUERY_PARSE); if (__rc) _jqp_fatal(yy, __rc); } while (0);
    }
    JBL_NODE ju = &unit->json.jn;
    if (!jn->child) {
      jn->child = ju;
    } else {
      ju->next = jn->child;
      ju->prev = jn->child->prev;
      jn->child->prev = ju;
      jn->child = ju;
    }
    _jqp_pop(yy);
  }
  return ret;
}

static JQPUNIT* _jqp_json_true_false_null(yycontext *yy, const char *text) {
  JQPUNIT *unit = _jqp_unit(yy);
  unit->type = JQP_JSON_TYPE;
  int len = strlen(text);
  if (!strncmp("null", text, len)) {
    unit->json.jn.type = JBV_NULL;
  } else if (!strncmp("true", text, len)) {
    unit->json.jn.type = JBV_BOOL;
    unit->json.jn.vbool = 
# 442 "/ejdb/src/jql/./inc/jqpx.c" 3 4
                         1
# 442 "/ejdb/src/jql/./inc/jqpx.c"
                             ;
  } else if (!strncmp("false", text, len)) {
    unit->json.jn.type = JBV_BOOL;
    unit->json.jn.vbool = 
# 445 "/ejdb/src/jql/./inc/jqpx.c" 3 4
                         0
# 445 "/ejdb/src/jql/./inc/jqpx.c"
                              ;
  } else {
    iwlog2(IWLOG_ERROR, 0, "/ejdb/src/jql/./inc/jqpx.c", 447, ("Invalid json value: %s"), text);
    do { iwrc __rc = (JQL_ERROR_QUERY_PARSE); if (__rc) _jqp_fatal(yy, __rc); } while (0);
  }
  return unit;
}

static void _jqp_op_negate(yycontext *yy) {
  yy->aux->negate = 
# 454 "/ejdb/src/jql/./inc/jqpx.c" 3 4
                   1
# 454 "/ejdb/src/jql/./inc/jqpx.c"
                       ;
}

static void _jqp_op_negate_reset(yycontext *yy) {
  yy->aux->negate = 
# 458 "/ejdb/src/jql/./inc/jqpx.c" 3 4
                   0
# 458 "/ejdb/src/jql/./inc/jqpx.c"
                        ;
}

static JQPUNIT* _jqp_unit_op(yycontext *yy, const char *text) {
  JQP_AUX *aux = yy->aux;
  JQPUNIT *unit = _jqp_unit(yy);
  unit->type = JQP_OP_TYPE;
  unit->op.negate = aux->negate;
  aux->negate = 
# 466 "/ejdb/src/jql/./inc/jqpx.c" 3 4
               0
# 466 "/ejdb/src/jql/./inc/jqpx.c"
                    ;
  if (!strcmp(text, "=") || !strcmp(text, "eq")) {
    unit->op.value = JQP_OP_EQ;
  } else if (!strcmp(text, ">") || !strcmp(text, "gt")) {
    unit->op.value = JQP_OP_GT;
  } else if (!strcmp(text, ">=") || !strcmp(text, "gte")) {
    unit->op.value = JQP_OP_GTE;
  } else if (!strcmp(text, "<") || !strcmp(text, "lt")) {
    unit->op.value = JQP_OP_LT;
  } else if (!strcmp(text, "<=") || !strcmp(text, "lte")) {
    unit->op.value = JQP_OP_LTE;
  } else if (!strcmp(text, "in")) {
    unit->op.value = JQP_OP_IN;
  } else if (!strcmp(text, "ni")) {
    unit->op.value = JQP_OP_NI;
  } else if (!strcmp(text, "re")) {
    unit->op.value = JQP_OP_RE;
  } else if (!(strcmp(text, "~"))) {
    unit->op.value = JQP_OP_PREFIX;
  } else {
    iwlog2(IWLOG_ERROR, 0, "/ejdb/src/jql/./inc/jqpx.c", 486, ("Invalid operation: %s"), text);
    do { iwrc __rc = (JQL_ERROR_QUERY_PARSE); if (__rc) _jqp_fatal(yy, __rc); } while (0);
  }
  if (!aux->start_op) {
    aux->start_op = &unit->op;
    aux->end_op = aux->start_op;
  } else {
    aux->end_op->next = &unit->op;
    aux->end_op = aux->end_op->next;
  }
  return unit;
}

static JQPUNIT* _jqp_unit_join(yycontext *yy, const char *text) {
  JQP_AUX *aux = yy->aux;
  JQPUNIT *unit = _jqp_unit(yy);
  unit->type = JQP_JOIN_TYPE;
  unit->join.negate = aux->negate;
  aux->negate = 
# 504 "/ejdb/src/jql/./inc/jqpx.c" 3 4
               0
# 504 "/ejdb/src/jql/./inc/jqpx.c"
                    ;
  if (!strcmp(text, "and")) {
    unit->join.value = JQP_JOIN_AND;
  } else if (!strcmp(text, "or")) {
    unit->join.value = JQP_JOIN_OR;
  }
  return unit;
}

static JQPUNIT* _jqp_expr(yycontext *yy, JQPUNIT *left, JQPUNIT *op, JQPUNIT *right) {
  if (!left || !op || !right) {
    iwlog3(IWLOG_ERROR, 0, "/ejdb/src/jql/./inc/jqpx.c", 515, ("Invalid arguments"));
    do { iwrc __rc = (JQL_ERROR_QUERY_PARSE); if (__rc) _jqp_fatal(yy, __rc); } while (0);
  }
  if ((op->type != JQP_OP_TYPE) && (op->type != JQP_JOIN_TYPE)) {
    iwlog2(IWLOG_ERROR, 0, "/ejdb/src/jql/./inc/jqpx.c", 519, ("Unexpected type: %d"), op->type);
    do { iwrc __rc = (JQL_ERROR_QUERY_PARSE); if (__rc) _jqp_fatal(yy, __rc); } while (0);
  }
  JQPUNIT *unit = _jqp_unit(yy);
  unit->type = JQP_EXPR_TYPE;
  unit->expr.left = left;
  unit->expr.op = &op->op;
  unit->expr.right = right;
  return unit;
}

static JQPUNIT* _jqp_pop_expr_chain(yycontext *yy, JQPUNIT *until) {
  JQPUNIT *expr = 0;
  JQP_AUX *aux = yy->aux;
  while (aux->stack && aux->stack->type == STACK_UNIT) {
    JQPUNIT *unit = aux->stack->unit;
    if (unit->type == JQP_EXPR_TYPE) {
      if (expr) {
        unit->expr.next = &expr->expr;
      }
      expr = unit;
    } else if ((unit->type == JQP_JOIN_TYPE) && expr) {
      expr->expr.join = &unit->join;
    } else {
      iwlog2(IWLOG_ERROR, 0, "/ejdb/src/jql/./inc/jqpx.c", 543, ("Unexpected type: %d"), unit->type);
      do { iwrc __rc = (JQL_ERROR_QUERY_PARSE); if (__rc) _jqp_fatal(yy, __rc); } while (0);
    }
    _jqp_pop(yy);
    if (unit == until) {
      break;
    }
  }
  return expr;
}

static JQPUNIT* _jqp_projection(struct _yycontext *yy, JQPUNIT *value, uint8_t flags) {
  if (value->type != JQP_STRING_TYPE) {
    iwlog2(IWLOG_ERROR, 0, "/ejdb/src/jql/./inc/jqpx.c", 556, ("Unexpected type: %d"), value->type);
    do { iwrc __rc = (JQL_ERROR_QUERY_PARSE); if (__rc) _jqp_fatal(yy, __rc); } while (0);
  }
  JQPUNIT *unit = _jqp_unit(yy);
  unit->type = JQP_PROJECTION_TYPE;
  unit->projection.value = &value->string;
  unit->projection.flags |= flags;
  return unit;
}

static JQPUNIT* _jqp_pop_projection_nodes(yycontext *yy, JQPUNIT *until) {
  JQPUNIT *first = 0;
  JQP_AUX *aux = yy->aux;
  uint8_t flags = 0;

  while (aux->stack && aux->stack->type == STACK_UNIT) {
    JQPUNIT *unit = aux->stack->unit;
    if (unit->type != JQP_STRING_TYPE) {
      iwlog2(IWLOG_ERROR, 0, "/ejdb/src/jql/./inc/jqpx.c", 574, ("Unexpected type: %d"), unit->type);
      do { iwrc __rc = (JQL_ERROR_QUERY_PARSE); if (__rc) _jqp_fatal(yy, __rc); } while (0);
    }
    if (first) {
      unit->string.next = &first->string;
    } else if (unit->string.flavour & ((jqp_string_flavours_t) 0x04U)) {
      for (JQP_STRING *s = &unit->string; s; s = s->subnext) {
        if (s->flavour & ((jqp_string_flavours_t) 0x100U)) {
          flags |= 0x04U;
        } else {
          flags |= 0x02U;
        }
      }
    } else if (strchr(unit->string.value, '<')) {
      unit->string.flavour |= ((jqp_string_flavours_t) 0x100U);
      flags |= 0x04U;
    } else {
      unit->string.flavour |= ((jqp_string_flavours_t) 0x200U);
    }
    first = unit;
    _jqp_pop(yy);
    if (unit == until) {
      break;
    }
  }
  if (!flags) {
    flags |= 0x02U;
  }
  return _jqp_projection(yy, first, flags);
}

static JQPUNIT* _jqp_push_joined_projection(struct _yycontext *yy, JQPUNIT *p) {
  JQP_AUX *aux = yy->aux;
  if (!aux->stack || (aux->stack->type != STACK_STRING)) {
    iwlog3(IWLOG_ERROR, 0, "/ejdb/src/jql/./inc/jqpx.c", 608, ("Invalid stack state"));
    do { iwrc __rc = (JQL_ERROR_QUERY_PARSE); if (__rc) _jqp_fatal(yy, __rc); } while (0);
  }
  if (aux->stack->str[0] == '-') {
    p->projection.flags &= ~0x02U;
    p->projection.flags |= 0x01U;
  }
  _jqp_pop(yy);
  _jqp_unit_push(yy, p);
  return p;
}

static JQPUNIT* _jqp_pop_joined_projections(yycontext *yy, JQPUNIT *until) {
  JQPUNIT *first = 0;
  JQP_AUX *aux = yy->aux;
  while (aux->stack && aux->stack->type == STACK_UNIT) {
    JQPUNIT *unit = aux->stack->unit;
    if (unit->type != JQP_PROJECTION_TYPE) {
      iwlog2(IWLOG_ERROR, 0, "/ejdb/src/jql/./inc/jqpx.c", 626, ("Unexpected type: %d"), unit->type);
      do { iwrc __rc = (JQL_ERROR_QUERY_PARSE); if (__rc) _jqp_fatal(yy, __rc); } while (0);
    }
    if (first) {
      unit->projection.next = &first->projection;
    }
    first = unit;
    _jqp_pop(yy);
    if (unit == until) {
      break;
    }
  }
  return first;
}

static JQPUNIT* _jqp_pop_projfields_chain(yycontext *yy, JQPUNIT *until) {
  JQPUNIT *field = 0;
  JQP_AUX *aux = yy->aux;
  while (aux->stack && aux->stack->type == STACK_UNIT) {
    JQPUNIT *unit = aux->stack->unit;
    if (unit->type != JQP_STRING_TYPE) {
      iwlog2(IWLOG_ERROR, 0, "/ejdb/src/jql/./inc/jqpx.c", 647, ("Unexpected type: %d"), unit->type);
      do { iwrc __rc = (JQL_ERROR_QUERY_PARSE); if (__rc) _jqp_fatal(yy, __rc); } while (0);
    }
    unit->string.flavour |= ((jqp_string_flavours_t) 0x04U);
    if (field) {
      unit->string.subnext = &field->string;
    }
    if (strchr(unit->string.value, '<')) {
      unit->string.flavour |= ((jqp_string_flavours_t) 0x100U);
    }
    field = unit;
    _jqp_pop(yy);
    if (unit == until) {
      break;
    }
  }
  return field;
}

static JQPUNIT* _jqp_pop_ordernodes(yycontext *yy, JQPUNIT *until) {
  JQPUNIT *first = 0;
  JQP_AUX *aux = yy->aux;
  while (aux->stack && aux->stack->type == STACK_UNIT) {
    JQPUNIT *unit = aux->stack->unit;
    if (unit->type != JQP_STRING_TYPE) {
      iwlog2(IWLOG_ERROR, 0, "/ejdb/src/jql/./inc/jqpx.c", 672, ("Unexpected type: %d"), unit->type);
      do { iwrc __rc = (JQL_ERROR_QUERY_PARSE); if (__rc) _jqp_fatal(yy, __rc); } while (0);
    }
    if (first) {
      unit->string.subnext = &first->string;
    }
    first = unit;
    _jqp_pop(yy);
    if (unit == until) {
      break;
    }
  }
  return until;
}

static JQPUNIT* _jqp_node(yycontext *yy, JQPUNIT *value) {
  JQPUNIT *unit = _jqp_unit(yy);
  unit->type = JQP_NODE_TYPE;
  unit->node.value = value;
  if (value->type == JQP_EXPR_TYPE) {
    unit->node.ntype = JQP_NODE_EXPR;
  } else if (value->type == JQP_STRING_TYPE) {
    const char *str = value->string.value;
    size_t len = strlen(str);
    if (!strncmp("*", str, len)) {
      unit->node.ntype = JQP_NODE_ANY;
    } else if (!strncmp("**", str, len)) {
      unit->node.ntype = JQP_NODE_ANYS;
    } else {
      unit->node.ntype = JQP_NODE_FIELD;
    }
  } else {
    iwlog2(IWLOG_ERROR, 0, "/ejdb/src/jql/./inc/jqpx.c", 704, ("Invalid node value type: %d"), value->type);
    do { iwrc __rc = (JQL_ERROR_QUERY_PARSE); if (__rc) _jqp_fatal(yy, __rc); } while (0);
  }
  return unit;
}

static JQPUNIT* _jqp_pop_node_chain(yycontext *yy, JQPUNIT *until) {
  JQPUNIT *filter, *first = 0;
  JQP_AUX *aux = yy->aux;
  while (aux->stack && aux->stack->type == STACK_UNIT) {
    JQPUNIT *unit = aux->stack->unit;
    if (unit->type != JQP_NODE_TYPE) {
      iwlog2(IWLOG_ERROR, 0, "/ejdb/src/jql/./inc/jqpx.c", 716, ("Unexpected type: %d"), unit->type);
      do { iwrc __rc = (JQL_ERROR_QUERY_PARSE); if (__rc) _jqp_fatal(yy, __rc); } while (0);
    }
    if (first) {
      unit->node.next = &first->node;
    }
    first = unit;
    _jqp_pop(yy);
    if (unit == until) {
      break;
    }
  }
  if (!first) {
    iwlog3(IWLOG_ERROR, 0, "/ejdb/src/jql/./inc/jqpx.c", 729, ("Invalid state"));
    do { iwrc __rc = (JQL_ERROR_QUERY_PARSE); if (__rc) _jqp_fatal(yy, __rc); } while (0);
  }
  filter = _jqp_unit(yy);
  filter->type = JQP_FILTER_TYPE;
  filter->filter.node = &first->node;
  if ( aux->stack
     && (aux->stack->type == STACK_UNIT)
     && (aux->stack->unit->type == JQP_STRING_TYPE)
     && (aux->stack->unit->string.flavour & ((jqp_string_flavours_t) 0x02U))) {
    filter->filter.anchor = _jqp_unit_pop(yy)->string.value;
    if (!aux->first_anchor) {
      aux->first_anchor = filter->filter.anchor;
    }
  }
  return filter;
}

static JQPUNIT* _jqp_pop_filter_factor_chain(yycontext *yy, JQPUNIT *until) {
  JQP_EXPR_NODE *factor = 0;
  JQP_AUX *aux = yy->aux;
  JQPUNIT *exprnode = _jqp_unit(yy);
  while (aux->stack && aux->stack->type == STACK_UNIT) {
    JQPUNIT *unit = aux->stack->unit;
    if (unit->type == JQP_JOIN_TYPE) {
      factor->join = &unit->join;
    } else if ((unit->type == JQP_EXPR_NODE_TYPE) || (unit->type == JQP_FILTER_TYPE)) {
      JQP_EXPR_NODE *node = (JQP_EXPR_NODE*) unit;
      if (factor) {
        node->next = factor;
      }
      factor = node;
    } else {
      iwlog2(IWLOG_ERROR, 0, "/ejdb/src/jql/./inc/jqpx.c", 762, ("Unexpected type: %d"), unit->type);
      do { iwrc __rc = (JQL_ERROR_QUERY_PARSE); if (__rc) _jqp_fatal(yy, __rc); } while (0);
    }
    _jqp_pop(yy);
    if (unit == until) {
      break;
    }
  }
  exprnode->type = JQP_EXPR_NODE_TYPE;
  exprnode->exprnode.chain = factor;
  return exprnode;
}

static void _jqp_set_filters_expr(yycontext *yy, JQPUNIT *expr) {
  JQP_AUX *aux = yy->aux;
  if (expr->type != JQP_EXPR_NODE_TYPE) {
    iwlog2(IWLOG_ERROR, 0, "/ejdb/src/jql/./inc/jqpx.c", 778, ("Unexpected type: %d"), expr->type);
    do { iwrc __rc = (JQL_ERROR_QUERY_PARSE); if (__rc) _jqp_fatal(yy, __rc); } while (0);
  }
  JQPUNIT *query = _jqp_unit(yy);
  query->type = JQP_QUERY_TYPE;
  query->query.aux = aux;
  aux->expr = &expr->exprnode;
  aux->query = &query->query;
}

static JQPUNIT* _jqp_create_filterexpr_pk(yycontext *yy, JQPUNIT *argument) {
  JQP_AUX *aux = yy->aux;
  const char *anchor = 0;

  if ( aux->stack
     && (aux->stack->type == STACK_UNIT)
     && (aux->stack->unit->type == JQP_STRING_TYPE)
     && (aux->stack->unit->string.flavour & ((jqp_string_flavours_t) 0x02U))) {
    anchor = _jqp_unit_pop(yy)->string.value;
    if (!aux->first_anchor) {
      aux->first_anchor = anchor;
    }
  }
  JQPUNIT *unit = _jqp_unit(yy);
  unit->type = JQP_EXPR_NODE_TYPE;
  JQP_EXPR_NODE_PK *exprnode_pk = &unit->exprnode_pk;
  exprnode_pk->flags = 0x01U;
  exprnode_pk->anchor = anchor;
  exprnode_pk->argument = argument;
  return unit;
}

static void _jqp_set_apply(yycontext *yy, JQPUNIT *unit) {
  JQP_AUX *aux = yy->aux;
  if (!unit || !aux->query) {
    iwlog3(IWLOG_ERROR, 0, "/ejdb/src/jql/./inc/jqpx.c", 813, ("Invalid arguments"));
    do { iwrc __rc = (JQL_ERROR_QUERY_PARSE); if (__rc) _jqp_fatal(yy, __rc); } while (0);
  }
  if (unit->type == JQP_JSON_TYPE) {
    aux->apply = &unit->json.jn;
    aux->apply_placeholder = 0;
  } else if ((unit->type == JQP_STRING_TYPE) && (unit->string.flavour & ((jqp_string_flavours_t) 0x01U))) {
    aux->apply_placeholder = unit->string.value;
    aux->apply = 0;
  } else {
    iwlog2(IWLOG_ERROR, 0, "/ejdb/src/jql/./inc/jqpx.c", 823, ("Unexpected type: %d"), unit->type);
    do { iwrc __rc = (JQL_ERROR_QUERY_PARSE); if (__rc) _jqp_fatal(yy, __rc); } while (0);
  }
}

static void _jqp_set_apply_delete(yycontext *yy) {
  JQP_AUX *aux = yy->aux;
  aux->qmode |= ((jqp_query_mode_t) 0x04U);
}

static void _jqp_set_apply_upsert(yycontext *yy, JQPUNIT *unit) {
  JQP_AUX *aux = yy->aux;
  aux->qmode |= ((jqp_query_mode_t) 0x10U);
  _jqp_set_apply(yy, unit);
}

static void _jqp_add_orderby(yycontext *yy, JQPUNIT *unit) {
  JQP_AUX *aux = yy->aux;
  if (unit->type != JQP_STRING_TYPE) {
    iwlog2(IWLOG_ERROR, 0, "/ejdb/src/jql/./inc/jqpx.c", 842, ("Unexpected type for order by: %d"), unit->type);
    do { iwrc __rc = (JQL_ERROR_QUERY_PARSE); if (__rc) _jqp_fatal(yy, __rc); } while (0);
  }
  if (!aux->orderby) {
    aux->orderby = &unit->string;
  } else {
    aux->orderby->next = &unit->string;
  }
}

static void _jqp_set_skip(yycontext *yy, JQPUNIT *unit) {
  JQP_AUX *aux = yy->aux;
  if ((unit->type != JQP_INTEGER_TYPE) && !( (unit->type == JQP_STRING_TYPE)
                                           && (unit->string.flavour & ((jqp_string_flavours_t) 0x01U)))) {
    iwlog2(IWLOG_ERROR, 0, "/ejdb/src/jql/./inc/jqpx.c", 856, ("Unexpected type for skip: %d"), unit->type);
    do { iwrc __rc = (JQL_ERROR_QUERY_PARSE); if (__rc) _jqp_fatal(yy, __rc); } while (0);
  }
  if (aux->skip) {
    do { iwrc __rc = (JQL_ERROR_SKIP_ALREADY_SET); if (__rc) _jqp_fatal(yy, __rc); } while (0);
  }
  aux->skip = unit;
}

static void _jqp_set_limit(yycontext *yy, JQPUNIT *unit) {
  JQP_AUX *aux = yy->aux;
  if ((unit->type != JQP_INTEGER_TYPE) && !( (unit->type == JQP_STRING_TYPE)
                                           && (unit->string.flavour & ((jqp_string_flavours_t) 0x01U)))) {
    iwlog2(IWLOG_ERROR, 0, "/ejdb/src/jql/./inc/jqpx.c", 869, ("Unexpected type for limit: %d"), unit->type);
    do { iwrc __rc = (JQL_ERROR_QUERY_PARSE); if (__rc) _jqp_fatal(yy, __rc); } while (0);
  }
  if (aux->limit) {
    do { iwrc __rc = (JQL_ERROR_LIMIT_ALREADY_SET); if (__rc) _jqp_fatal(yy, __rc); } while (0);
  }
  aux->limit = unit;
}

static void _jqp_set_aggregate_count(yycontext *yy) {
  JQP_AUX *aux = yy->aux;
  aux->qmode |= ((jqp_query_mode_t) 0x01U);
  aux->projection = 0;
}

static void _jqp_set_noidx(yycontext *yy) {
  JQP_AUX *aux = yy->aux;
  aux->qmode |= ((jqp_query_mode_t) 0x02U);
}

static void _jqp_set_inverse(yycontext *yy) {
  JQP_AUX *aux = yy->aux;
  aux->qmode |= (((jqp_query_mode_t) 0x02U) | ((jqp_query_mode_t) 0x08U));
}

static void _jqp_set_projection(yycontext *yy, JQPUNIT *unit) {
  JQP_AUX *aux = yy->aux;
  if (!unit || !aux->query) {
    iwlog3(IWLOG_ERROR, 0, "/ejdb/src/jql/./inc/jqpx.c", 897, ("Invalid arguments"));
    do { iwrc __rc = (JQL_ERROR_QUERY_PARSE); if (__rc) _jqp_fatal(yy, __rc); } while (0);
  }
  if (unit->type == JQP_PROJECTION_TYPE) {
    JQP_PROJECTION *proj = &unit->projection;
    for (JQP_PROJECTION *p = proj; p; p = p->next) {
      if (p->value->flavour & ((jqp_string_flavours_t) 0x08U)) {
        if (p->flags & 0x01U) {
          aux->has_exclude_all_projection = 
# 905 "/ejdb/src/jql/./inc/jqpx.c" 3 4
                                           1
# 905 "/ejdb/src/jql/./inc/jqpx.c"
                                               ;
          break;
        } else {
          proj = p->next;
        }
      } else if (!aux->has_keep_projections && (p->flags & 0x02U)) {
        aux->has_keep_projections = 
# 911 "/ejdb/src/jql/./inc/jqpx.c" 3 4
                                   1
# 911 "/ejdb/src/jql/./inc/jqpx.c"
                                       ;
      }
    }
    aux->projection = proj;
  } else {
    iwlog2(IWLOG_ERROR, 0, "/ejdb/src/jql/./inc/jqpx.c", 916, ("Unexpected type: %d"), unit->type);
    do { iwrc __rc = (JQL_ERROR_QUERY_PARSE); if (__rc) _jqp_fatal(yy, __rc); } while (0);
  }
}

static void _jqp_finish(yycontext *yy) {
  iwrc rc = 0;
  int cnt = 0;
  IWXSTR *xstr = 0;
  JQP_AUX *aux = yy->aux;

  JQP_STRING *orderby = aux->orderby;
  for ( ; orderby; ++cnt, orderby = orderby->next) {
    if (cnt >= 64) {
      rc = JQL_ERROR_ORDERBY_MAX_LIMIT;
      if (__builtin_expect((!!(rc)), 0)) goto finish;
    }
  }
  aux->orderby_num = cnt;
  if (cnt) {
    aux->orderby_ptrs = iwpool_alloc(cnt * sizeof(JBL_PTR), aux->pool);
    if (!aux->orderby_ptrs) {
      rc = iwrc_set_errno(IW_ERROR_ALLOC, 
# 938 "/ejdb/src/jql/./inc/jqpx.c" 3 4
                                         (*__errno_location ())
# 938 "/ejdb/src/jql/./inc/jqpx.c"
                                              );
      goto finish;
    }
    xstr = iwxstr_new();
    if (!xstr) {
      rc = iwrc_set_errno(IW_ERROR_ALLOC, 
# 943 "/ejdb/src/jql/./inc/jqpx.c" 3 4
                                         (*__errno_location ())
# 943 "/ejdb/src/jql/./inc/jqpx.c"
                                              );
      if (__builtin_expect((!!(rc)), 0)) goto finish;
    }
    cnt = 0;
    orderby = aux->orderby;
    for ( ; orderby; orderby = orderby->next) {
      iwxstr_clear(xstr);
      for (JQP_STRING *on = orderby; on; on = on->subnext) {
        rc = iwxstr_cat(xstr, "/", 1);
        if (__builtin_expect((!!(rc)), 0)) goto finish;
        iwxstr_cat(xstr, on->value, strlen(on->value));
      }
      rc = jbl_ptr_alloc_pool(iwxstr_ptr(xstr), &aux->orderby_ptrs[cnt], aux->pool);
      if (__builtin_expect((!!(rc)), 0)) goto finish;
      JBL_PTR ptr = aux->orderby_ptrs[cnt];
      ptr->op = (uint64_t) ((orderby->flavour & ((jqp_string_flavours_t) 0x40U)) != 0);
      cnt++;
    }
  }

finish:
  if (xstr) {
    iwxstr_destroy(xstr);
  }
  if (rc) {
    aux->orderby_num = 0;
    do { iwrc __rc = (rc); if (__rc) _jqp_fatal(yy, __rc); } while (0);
  }
}

iwrc jqp_aux_create(JQP_AUX **auxp, const char *input) {
  iwrc rc = 0;
  *auxp = calloc(1, sizeof(**auxp));
  if (!*auxp) {
    return iwrc_set_errno(IW_ERROR_ALLOC, 
# 977 "/ejdb/src/jql/./inc/jqpx.c" 3 4
                                         (*__errno_location ())
# 977 "/ejdb/src/jql/./inc/jqpx.c"
                                              );
  }
  JQP_AUX *aux = *auxp;
  aux->xerr = iwxstr_new();
  if (!aux->xerr) {
    rc = iwrc_set_errno(IW_ERROR_ALLOC, 
# 982 "/ejdb/src/jql/./inc/jqpx.c" 3 4
                                       (*__errno_location ())
# 982 "/ejdb/src/jql/./inc/jqpx.c"
                                            );
    goto finish;
  }
  aux->pool = iwpool_create(4 * 1024);
  if (!aux->pool) {
    rc = iwrc_set_errno(IW_ERROR_ALLOC, 
# 987 "/ejdb/src/jql/./inc/jqpx.c" 3 4
                                       (*__errno_location ())
# 987 "/ejdb/src/jql/./inc/jqpx.c"
                                            );
    goto finish;
  }
  rc = _jqp_aux_set_input(aux, input);

finish:
  if (rc) {
    jqp_aux_destroy(auxp);
  }
  return rc;
}

void jqp_aux_destroy(JQP_AUX **auxp) {
  JQP_AUX *aux = *auxp;
  if (aux) {
    *auxp = 0;
    if (aux->pool) {
      iwpool_destroy(aux->pool);
    }
    if (aux->xerr) {
      iwxstr_destroy(aux->xerr);
    }
    free(aux);
  }
}

static inline __attribute__((always_inline)) iwrc _iwxstr_cat2(IWXSTR *xstr, const char *buf) {
  return iwxstr_cat(xstr, buf, strlen(buf));
}

static void yyerror(yycontext *yy) {
  JQP_AUX *aux = yy->aux;
  IWXSTR *xerr = aux->xerr;
  if (yy->__pos && yy->__text[0]) {
    _iwxstr_cat2(xerr, "near token: '");
    _iwxstr_cat2(xerr, yy->__text);
    _iwxstr_cat2(xerr, "'\n");
  }
  if (yy->__pos < yy->__limit) {
    char buf[2] = { 0 };
    yy->__buf[yy->__limit] = '\0';
    _iwxstr_cat2(xerr, "\n");
    while (yy->__pos < yy->__limit) {
      buf[0] = yy->__buf[yy->__pos++];
      iwxstr_cat(xerr, buf, 1);
    }
  }
  _iwxstr_cat2(xerr, " <--- \n");
}

iwrc jqp_parse(JQP_AUX *aux) {
  yycontext yy = { 0 };
  yy.aux = aux;
  if (
# 1040 "/ejdb/src/jql/./inc/jqpx.c" 3 4
     _setjmp (
# 1040 "/ejdb/src/jql/./inc/jqpx.c"
     aux->fatal_jmp
# 1040 "/ejdb/src/jql/./inc/jqpx.c" 3 4
     )
# 1040 "/ejdb/src/jql/./inc/jqpx.c"
                           ) {
    if (aux->rc) {
      iwlog3(IWLOG_ERROR, (aux->rc), "/ejdb/src/jql/./inc/jqpx.c", 1042, "");
    }
    goto finish;
  }
  if (!yyparse(&yy)) {
    if (!aux->rc) {
      aux->rc = JQL_ERROR_QUERY_PARSE;
    }
    yyerror(&yy);
    if (iwxstr_size(aux->xerr) && !(aux->mode & ((jql_create_mode_t) 0x02U))) {
      const char *prefix = "Syntax error: ";
      iwxstr_unshift(aux->xerr, prefix, strlen(prefix));
      iwlog2(IWLOG_ERROR, 0, "/ejdb/src/jql/./inc/jqpx.c", 1054, ("%s\n"), iwxstr_ptr(aux->xerr));
    }
  }

finish:
  yyrelease(&yy);
  return aux->rc;
}






static inline __attribute__((always_inline)) iwrc _print_placeholder(const char *value, jbl_json_printer pt, void *op);

static iwrc _jqp_print_projection_nodes(const JQP_STRING *p, jbl_json_printer pt, void *op) {
  iwrc rc = 0;
  for (const JQP_STRING *s = p; s; s = s->next) {
    if (!(s->flavour & ((jqp_string_flavours_t) 0x08U))) {
      do { rc = pt(0, 0, '/', 1, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
    }
    if (s->flavour & ((jqp_string_flavours_t) 0x04U)) {
      do { rc = pt(0, 0, '{', 1, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
      for (const JQP_STRING *pf = s; pf; pf = pf->subnext) {
        if (pf->flavour & ((jqp_string_flavours_t) 0x01U)) {
          ({ iwrc rc__ = (_print_placeholder(pf->value, pt, op)); if (__builtin_expect((!!(rc__)), 0)) return (rc__); 0; });
        } else {
          do { rc = pt(pf->value, -1, 0, 0, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
        }
        if (pf->subnext) {
          do { rc = pt(0, 0, ',', 1, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
        }
      }
      do { rc = pt(0, 0, '}', 1, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
    } else {
      if (s->flavour & ((jqp_string_flavours_t) 0x01U)) {
        ({ iwrc rc__ = (_print_placeholder(s->value, pt, op)); if (__builtin_expect((!!(rc__)), 0)) return (rc__); 0; });
      } else {
        do { rc = pt(s->value, -1, 0, 0, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
      }
    }
  }
  return rc;
}

static iwrc _jqp_print_projection(const JQP_PROJECTION *p, jbl_json_printer pt, void *op) {
  iwrc rc = 0;
  do { rc = pt(0, 0, '|', 1, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
  for (int i = 0; p; p = p->next, ++i) {
    do { rc = pt(0, 0, ' ', 1, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
    if (i > 0) {
      if (p->flags & 0x01U) {
        do { rc = pt("- ", 2, 0, 0, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
      } else {
        do { rc = pt("+ ", 2, 0, 0, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
      }
    } else if (p->flags & 0x01U) {
      do { rc = pt("all - ", 6, 0, 0, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
    }
    rc = _jqp_print_projection_nodes(p->value, pt, op);
    if (__builtin_expect((!!(rc)), 0)) return (rc);
  }
  return rc;
}

static iwrc _jqp_print_apply(const JQP_QUERY *q, jbl_json_printer pt, void *op) {
  iwrc rc = 0;
  if (q->aux->qmode & ((jqp_query_mode_t) 0x04U)) {
    do { rc = pt("| del ", 6, 0, 0, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
  } else {
    if (q->aux->qmode & ((jqp_query_mode_t) 0x10U)) {
      do { rc = pt("| upsert ", 9, 0, 0, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
    } else {
      do { rc = pt("| apply ", 8, 0, 0, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
    }
    if (q->aux->apply_placeholder) {
      do { rc = pt(q->aux->apply_placeholder, -1, 0, 0, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
    } else if (q->aux->apply) {
      rc = jbn_as_json(q->aux->apply, pt, op, 0);
      if (__builtin_expect((!!(rc)), 0)) return (rc);
    }
  }
  return rc;
}

static iwrc _jqp_print_join(jqp_op_t jqop, 
# 1140 "/ejdb/src/jql/./inc/jqpx.c" 3 4
                                          _Bool 
# 1140 "/ejdb/src/jql/./inc/jqpx.c"
                                               negate, jbl_json_printer pt, void *op) {
  iwrc rc = 0;
  do { rc = pt(0, 0, ' ', 1, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
  if (jqop == JQP_OP_EQ) {
    if (negate) {
      do { rc = pt(0, 0, '!', 1, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
    }
    do { rc = pt("= ", 2, 0, 0, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
    return rc;
  }
  if (jqop == JQP_JOIN_AND) {
    do { rc = pt("and ", 4, 0, 0, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
    if (negate) {
      do { rc = pt("not ", 4, 0, 0, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
    }
    return rc;
  } else if (jqop == JQP_JOIN_OR) {
    do { rc = pt("or ", 3, 0, 0, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
    if (negate) {
      do { rc = pt("not ", 4, 0, 0, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
    }
    return rc;
  }
  if (negate) {
    do { rc = pt("not ", 4, 0, 0, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
  }
  switch (jqop) {
    case JQP_OP_GT:
      do { rc = pt(0, 0, '>', 1, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
      break;
    case JQP_OP_LT:
      do { rc = pt(0, 0, '<', 1, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
      break;
    case JQP_OP_GTE:
      do { rc = pt(">=", 2, 0, 0, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
      break;
    case JQP_OP_LTE:
      do { rc = pt("<=", 2, 0, 0, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
      break;
    case JQP_OP_IN:
      do { rc = pt("in", 2, 0, 0, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
      break;
    case JQP_OP_RE:
      do { rc = pt("re", 2, 0, 0, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
      break;
    case JQP_OP_PREFIX:
      do { rc = pt(0, 0, '~', 1, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
      break;
    default:
      iwlog3(IWLOG_ERROR, (IW_ERROR_ASSERTION), "/ejdb/src/jql/./inc/jqpx.c", 1189, "");
      rc = IW_ERROR_ASSERTION;
      break;
  }
  do { rc = pt(0, 0, ' ', 1, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
  return rc;
}

static inline __attribute__((always_inline)) iwrc _print_placeholder(const char *value, jbl_json_printer pt, void *op) {
  iwrc rc;
  do { rc = pt(0, 0, ':', 1, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
  if (value[0] == '?') {
    do { rc = pt(0, 0, '?', 1, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
  } else {
    do { rc = pt(value, -1, 0, 0, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
  }
  return rc;
}

iwrc jqp_print_filter_node_expr(const JQP_EXPR *e, jbl_json_printer pt, void *op) {
  iwrc rc = 0;
  if (e->left->type == JQP_EXPR_TYPE) {
    do { rc = pt(0, 0, '[', 1, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
    jqp_print_filter_node_expr(&e->left->expr, pt, op);
    do { rc = pt(0, 0, ']', 1, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
  } else if (e->left->type == JQP_STRING_TYPE) {
    if (e->left->string.flavour & ((jqp_string_flavours_t) 0x10U)) {
      do { rc = pt(0, 0, '"', 1, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
    }
    do { rc = pt(e->left->string.value, -1, 0, 0, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
    if (e->left->string.flavour & ((jqp_string_flavours_t) 0x10U)) {
      do { rc = pt(0, 0, '"', 1, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
    }
  } else {
    iwlog3(IWLOG_ERROR, (IW_ERROR_ASSERTION), "/ejdb/src/jql/./inc/jqpx.c", 1223, "");
    return IW_ERROR_ASSERTION;
  }
  rc = _jqp_print_join(e->op->value, e->op->negate, pt, op);
  if (__builtin_expect((!!(rc)), 0)) return (rc);
  if (e->right->type == JQP_STRING_TYPE) {
    if (e->right->string.flavour & ((jqp_string_flavours_t) 0x01U)) {
      rc = _print_placeholder(e->right->string.value, pt, op);
      if (__builtin_expect((!!(rc)), 0)) return (rc);
    } else {
      do { rc = pt(e->right->string.value, -1, 0, 0, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
    }
  } else if (e->right->type == JQP_JSON_TYPE) {
    rc = jbn_as_json(&e->right->json.jn, pt, op, 0);
    if (__builtin_expect((!!(rc)), 0)) return (rc);
  } else {
    iwlog3(IWLOG_ERROR, (IW_ERROR_ASSERTION), "/ejdb/src/jql/./inc/jqpx.c", 1239, "");
    return IW_ERROR_ASSERTION;
  }
  return rc;
}

static iwrc _jqp_print_filter_node(const JQP_NODE *n, jbl_json_printer pt, void *op) {
  iwrc rc = 0;
  JQPUNIT *u = n->value;
  do { rc = pt(0, 0, '/', 1, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
  if (u->type == JQP_STRING_TYPE) {
    do { rc = pt(u->string.value, -1, 0, 0, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
    return rc;
  } else if (u->type == JQP_EXPR_TYPE) {
    do { rc = pt(0, 0, '[', 1, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
    for (JQP_EXPR *e = &u->expr; e; e = e->next) {
      if (e->join) {
        rc = _jqp_print_join(e->join->value, e->join->negate, pt, op);
        if (__builtin_expect((!!(rc)), 0)) return (rc);
      }
      rc = jqp_print_filter_node_expr(e, pt, op);
      if (__builtin_expect((!!(rc)), 0)) return (rc);
    }
    do { rc = pt(0, 0, ']', 1, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
  } else {
    iwlog3(IWLOG_ERROR, (IW_ERROR_ASSERTION), "/ejdb/src/jql/./inc/jqpx.c", 1264, "");
    return IW_ERROR_ASSERTION;
  }
  return rc;
}

static iwrc _jqp_print_filter(
  const JQP_QUERY *q,
  const JQP_FILTER *f,
  jbl_json_printer pt,
  void *op
  ) {
  iwrc rc = 0;
  if (f->anchor) {
    do { rc = pt(0, 0, '@', 1, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
    do { rc = pt(f->anchor, -1, 0, 0, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
  }
  for (JQP_NODE *n = f->node; n; n = n->next) {
    rc = _jqp_print_filter_node(n, pt, op);
    if (__builtin_expect((!!(rc)), 0)) return (rc);
  }
  return rc;
}

static iwrc _jqp_print_expression_node(
  const JQP_QUERY *q,
  const JQP_EXPR_NODE *en,
  jbl_json_printer pt,
  void *op
  ) {
  iwrc rc = 0;
  
# 1295 "/ejdb/src/jql/./inc/jqpx.c" 3 4
 _Bool 
# 1295 "/ejdb/src/jql/./inc/jqpx.c"
      inbraces = (en != q->aux->expr && en->type == JQP_EXPR_NODE_TYPE);
  if (inbraces) {
    do { rc = pt(0, 0, '(', 1, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
  }


  if (en->flags & 0x01U) {
    JQP_EXPR_NODE_PK *pk = (void*) en;
    if (pk->anchor) {
      do { rc = pt(0, 0, '@', 1, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
      do { rc = pt(pk->anchor, -1, 0, 0, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
    }
    do { rc = pt("/=", 2, 0, 0, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
    if (!pk->argument) {
      iwlog3(IWLOG_ERROR, (IW_ERROR_ASSERTION), "/ejdb/src/jql/./inc/jqpx.c", 1309, "");
      return IW_ERROR_ASSERTION;
    }
    if (pk->argument->type == JQP_STRING_TYPE) {
      if (pk->argument->string.flavour & ((jqp_string_flavours_t) 0x01U)) {
        rc = _print_placeholder(pk->argument->string.value, pt, op);
        if (__builtin_expect((!!(rc)), 0)) return (rc);
      } else {
        do { rc = pt(pk->argument->string.value, -1, 0, 0, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
      }
    } else if (pk->argument->type == JQP_JSON_TYPE) {
      rc = jbn_as_json(&pk->argument->json.jn, pt, op, 0);
      if (__builtin_expect((!!(rc)), 0)) return (rc);
    } else {
      iwlog3(IWLOG_ERROR, (IW_ERROR_ASSERTION), "/ejdb/src/jql/./inc/jqpx.c", 1323, "");
      return IW_ERROR_ASSERTION;
    }
    return rc;
  }

  for (en = en->chain; en; en = en->next) {
    if (en->join) {
      rc = _jqp_print_join(en->join->value, en->join->negate, pt, op);
      if (__builtin_expect((!!(rc)), 0)) return (rc);
    }
    if (en->type == JQP_EXPR_NODE_TYPE) {
      rc = _jqp_print_expression_node(q, en, pt, op);
      if (__builtin_expect((!!(rc)), 0)) return (rc);
    } else if (en->type == JQP_FILTER_TYPE) {
      rc = _jqp_print_filter(q, (const JQP_FILTER*) en, pt, op);
    } else {
      iwlog3(IWLOG_ERROR, (IW_ERROR_ASSERTION), "/ejdb/src/jql/./inc/jqpx.c", 1340, "");
      return IW_ERROR_ASSERTION;
    }
  }
  if (inbraces) {
    do { rc = pt(0, 0, ')', 1, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
  }
  return rc;
}

static iwrc _jqp_print_opts(const JQP_QUERY *q, jbl_json_printer pt, void *op) {
  iwrc rc = 0;
  int c = 0;
  JQP_AUX *aux = q->aux;
  do { rc = pt(0, 0, '|', 1, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
  JQP_STRING *ob = aux->orderby;
  while (ob) {
    if (c++ > 0) {
      do { rc = pt("\n ", 2, 0, 0, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
    }
    if (ob->flavour & ((jqp_string_flavours_t) 0x40U)) {
      do { rc = pt(" desc ", 6, 0, 0, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
    } else {
      do { rc = pt(" asc ", 5, 0, 0, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
    }
    if (ob->flavour & ((jqp_string_flavours_t) 0x01U)) {
      rc = _print_placeholder(ob->value, pt, op);
      if (__builtin_expect((!!(rc)), 0)) return (rc);
    } else {

      JQP_STRING *n = ob;
      do {
        do { rc = pt(0, 0, '/', 1, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
        do { rc = pt(n->value, -1, 0, 0, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
      } while ((n = n->subnext));
    }
    ob = ob->next;
  }
  if (aux->skip || aux->limit) {
    if (c > 0) {
      do { rc = pt("\n ", 2, 0, 0, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
    }
  }
  if (aux->skip) {
    do { rc = pt(" skip ", 6, 0, 0, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
    if (aux->skip->type == JQP_STRING_TYPE) {
      if (aux->skip->string.flavour & ((jqp_string_flavours_t) 0x01U)) {
        rc = _print_placeholder(aux->skip->string.value, pt, op);
        if (__builtin_expect((!!(rc)), 0)) return (rc);
      } else {
        do { rc = pt(aux->skip->string.value, -1, 0, 0, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
      }
    } else if (aux->skip->type == JQP_INTEGER_TYPE) {
      char nbuf[32];
      iwitoa(aux->skip->intval.value, nbuf, 32);
      do { rc = pt(nbuf, -1, 0, 0, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
    }
  }
  if (aux->limit) {
    do { rc = pt(" limit ", 7, 0, 0, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
    if (aux->limit->type == JQP_STRING_TYPE) {
      if (aux->limit->string.flavour & ((jqp_string_flavours_t) 0x01U)) {
        rc = _print_placeholder(aux->limit->string.value, pt, op);
        if (__builtin_expect((!!(rc)), 0)) return (rc);
      } else {
        do { rc = pt(aux->limit->string.value, -1, 0, 0, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
      }
    } else if (aux->limit->type == JQP_INTEGER_TYPE) {
      char nbuf[32];
      iwitoa(aux->limit->intval.value, nbuf, 32);
      do { rc = pt(nbuf, -1, 0, 0, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
    }
  }
  return rc;
}

iwrc jqp_print_query(const JQP_QUERY *q, jbl_json_printer pt, void *op) {
  if (!q || !pt) {
    return IW_ERROR_INVALID_ARGS;
  }
  JQP_AUX *aux = q->aux;
  iwrc rc = _jqp_print_expression_node(q, aux->expr, pt, op);
  if (__builtin_expect((!!(rc)), 0)) return (rc);
  if (aux->apply_placeholder || aux->apply) {
    do { rc = pt(0, 0, '\n', 1, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
    rc = _jqp_print_apply(q, pt, op);
    if (__builtin_expect((!!(rc)), 0)) return (rc);
  }
  if (aux->projection) {
    do { rc = pt(0, 0, '\n', 1, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
    rc = _jqp_print_projection(aux->projection, pt, op);
    if (__builtin_expect((!!(rc)), 0)) return (rc);
  }
  if (aux->skip || aux->limit || aux->orderby) {
    do { rc = pt(0, 0, '\n', 1, op); if (__builtin_expect((!!(rc)), 0)) return (rc); } while (0);
    rc = _jqp_print_opts(q, pt, op);
  }

  return rc;
}
# 256 "./jqp.leg" 2
